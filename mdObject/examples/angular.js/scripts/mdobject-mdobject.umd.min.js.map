{"version":3,"sources":["../../src/enums/LocationType.ts","../../src/enums/UserCallFunction.ts","../../src/enums/AllergyClassification.ts","../../src/enums/AllergyCriticality.ts","../../src/enums/ObjectState.ts","../../src/enums/AllergyReasonForRemoval.ts","../../src/enums/ObjectStatus.ts","../../src/classes/ObsTermsMap.ts","../../src/classes/Location.ts","../../node_modules/tslib/tslib.es6.js","../../src/classes/EmrContent.ts","../../src/classes/PatientContact.ts","../../src/classes/EmrObject.ts","../../src/consts/strings.ts","../../src/classes/System.ts","../../src/classes/Problem.ts","../../src/classes/Immunization.ts","../../src/classes/ObservationType.ts","../../src/classes/User.ts","../../src/factories/StringInternal.ts","../../src/classes/AllergyList.ts","../../src/classes/AllergyListRemoved.ts","../../src/factories/DocumentVariable.ts","../../src/factories/IsActiveXSupported.ts","../../src/factories/GetActiveXErrorMessage.ts","../../src/classes/Allergies.ts","../../src/classes/Observation.ts","../../src/classes/Protocol.ts","../../src/classes/Measurement.ts","../../src/classes/Measurements.ts","../../src/classes/Insurance.ts","../../src/classes/CarePlan.ts","../../src/classes/Address.ts","../../src/classes/Phone.ts","../../src/classes/ReferringProviderPhone.ts","../../src/classes/ReferringProvider.ts","../../src/bases/EmrBase.ts","../../src/classes/EmrMel.ts","../../src/classes/EmrApp.ts","../../src/classes/EmrWindow.ts","../../src/classes/external/DemographicsExternal.ts","../../src/classes/external/UserDetailExternal.ts","../../src/classes/external/AllergyExternal.ts","../../src/classes/external/ProblemExternal.ts","../../src/classes/external/AllergiesExternal.ts","../../src/classes/FlowsheetObservation.ts","../../src/classes/Problems.ts","../../src/classes/Patient.ts","../../src/classes/Users.ts","../../src/factories/GetCurrentUser.ts","../../src/simulator/ExtensionExternalSimulator.ts","../../src/simulator/simulator.ts","../../src/classes/ClinicalDocument.ts","../../src/classes/EmrContents.ts","../../src/classes/Emr.ts","../../src/classes/MdObject.ts","../../src/consts/version.ts","../../src/consts/productType.ts","../../src/classes/Allergy.ts","../../src/public.ts"],"names":["LocationType","UserCallFunction","AllergyClassification","AllergyCriticality","ObjectState","AllergyReasonForRemoval","ObjectStatus","this","weight","height","id","name","locationType","None","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__generator","thisArg","body","f","y","t","g","_","label","sent","trys","ops","next","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","done","value","pop","length","push","e","step","__read","o","m","r","i","ar","error","__spread","arguments","concat","params","_this","state","status","Unchanged","initializeData","contentId","data","namespace","nodeName","displayName","sourceName","code","codeType","contentGroup","listOrder","contentDefault","toAddString","toChangeString","save","mel","__awaiter$1","_mel","Error","Add","Update","Remove","melFunc","_b","codeNumeric","NaN","console","Added","Updated","Removed","_a","split","_value","type","phone","phoneType","address1","address2","city","zip","country","address","toMelString","item","keys","forEach","key","emptyImage","simulatorChromeExtensionId","System","toDate","Date","parseInt","substr","toImage","arrayBuffer","btoa","String","fromCharCode","apply","Uint8Array","formatDate","dateToString","date","getMonth","getDate","getFullYear","nonenumerable","target","propertyKey","descriptor","getOwnPropertyDescriptor","enumerable","writable","defineProperty","isSimulator","Problem","problem","_super","assessment","note","problemId","description","codeIcd9","comment","stopReason","codeIcd10","lastModifiedDate","saveAsync","__awaiter$2","_d","onsetDate","stopDate","fromFhir","condition","text","evidence","EmrObject","isNew","immunizationId","immunizationGroupId","vaccineGroupName","vaccineName","medicalDisplayName","series","wasGiven","reasonNotGiven","historical","historicalSource","vfcElegibility","ddid","dnid","gpi","kdc","ndc","cvxCode","doseAmount","dosageUnitOfMeasure","route","routeCode","site","siteCode","manufacturer","manufacturerCode","lotNumber","expirationDate","visPublishedDate","administeredByName","administeredDate","administeredDateType","administeredComments","advReactionDateTime","advReactionDateTimeType","advReactionComments","advReactionCmtByName","signed","signedByName","signedDate","reasonRemoved","reasonNotGivenMedical","reasonNotGivenMedicalDetail","isError","validateAdd","response","toStringAdd","alert","match","Signed","DocumentUnsigned","callFunction","UserInfo","loginName","searchName","phoneNumber","homeLocation","group","jobTitle","specialty","roles","npi","prescriberId","deaId","stateLicenceId","memberLogin","data2000","uniquePhysicianId","activationDate","currentLocation","firstName","middleName","lastName","UserList","StringInternal","tag","result","toList","seporator","dataArray","filter","startsWith","str","slice","endsWith","theDate","toString","isNaN","valueOf","log","onSetDate","criticalIndicator","classification","gpiCode","severity","allergyId","reactionCode","AllergyListRemoved","AllergyList","DocumentVariable","saveCallback","IsActiveXSupported","_window","GetActiveXErrorMessage","objectName","Message","Allergies","_addedArray","_currentArray","_removedArray","_added","index","addedAsync","_c","_current","currentAsync","_removed","removedAsync","Observation","_name","_observationType","observationType","ObservationType","time","signingUser","enteringUser","flags","locationOfCare","documentType","documentId","saveObservation","remove","_unitOfMeasure","_tag","Measurement","isCurrent","_weight","_height","getObs","Measurements","_previous","Insurance","insuranceType","_address","_insuranceId","_planName","_groupNumber","_phone","carePlanId","goal","snomedCTCode","instructions","goalSetDate","goalMetDate","recordCreatedDateTime","sign","signedBy","recordChangedDateTime","recordChangedBy","patientConditionDescription","patientConditionCode","carePlanAddError","Address","_mailingAddressExternal","_address1","line1Addr","_address2","line2Addr","_city","cityName","_country","countryCode","_postCode","postalCode","_state","stateCode","undefined","Phone","_electronicAddressExternal","formatMelPhone","phoneTest","RegExp","trim","results","exec","_home","find","a","addressSettingCode","urlScheme","urlAddr","_business","_mobile","homeAsync","_e","_f","businessAsync","mobileAsync","_fax","faxAsync","ReferringProviderPhone","_office","_alternative","_pager","ReferringProvider","_referringProviderId","_firstName","_lastName","_email","_fullAddress","EmrBase","_simulator","isActiveXSupported","noData","isExternalSupported","_external","opener","external","IsDebugMode","externalSimulator","_isSimulator","EmrMel","melObjectName","melObjectNameSimulator","initialization","ActiveXObject","errorMessage","EvaluateMel","eval","obs","OBSNOW","OBSPREV","showUrlDialog","url","EmrApp","appObjectName","appObjectNameSimulator","app","SetPasscode","ShowURLDialog","EnterpriseID","DatabaseVersion","_app","_document","openDialog","toLowerCase","open","features","form","createElement","action","method","input","JSON","stringify","appendChild","style","display","submit","DemographicsExternal","json","toJson","_json","obj","parse","confidentialityCode","contactList","electronicAddressList","excludedUserAccess","excludedUserAccessSpecified","guarantorList","guardianList","hasPatientAccess","hasPatientAccessSpecified","healthIssueList","identifierList","lastOfficeVisitDate","lastOfficeVisitDateSpecified","mailingAddressList","medicareAdvantagePatient","medicareAdvantagePatientSpecified","mqicEPatientId","mqicEPatientIdSpecified","organization","patientKey","patientKeySpecified","patientPicture","person","personAge","preferredLanguage","primaryProviderRelationshipList","registrationNote","statusCode","vipCode","UserDetailExternal","fromExternal","_obj","userDetailExternal","activationDateSpecified","authorizations","authorizedLocationOfCares","currentLocationDetail","currentLocationSpecified","deaNumber","errorDetails","expirationDateSpecified","globalID","globalIDSpecified","groupList","homeLocationDetail","homeLocationSpecified","isrespprov","isrespprovSpecified","jobTitleDetail","jobTitleSpecified","lastLoginDate","lastLoginDateSpecified","lastPasswordChange","lastPasswordChangeSpecified","licenseNumber","loginAttempts","loginAttemptsSpecified","memberID","mqicUserName","orgName","pidList","pmpRoleID","pmpRoleIDSpecified","pmpRoleName","prescriberID","providerID","providerIDSpecified","resultSpecified","roleList","specialtyDetail","specialtySpecified","spi","stateName","subscriptionureg","tocElectronicAddress","updateType","upin","AllergyExternal","allclass","allergyGroupID","allergyGroupIDSpecified","allergyID","annotate","aproxonsetdate","change","changeSpecified","dbCreateDate","dbCreateDateSpecified","dbUpdatedDate","dbUpdatedDateSpecified","documentDetail","drugDescID","drugDescIDSpecified","expirationID","extAllergyID","extAllergyIDSpecified","externalAllergyInfoDetail","genericProductIndex","gi","heme","iscritical","kind","knowledgeBaseDrugCode","knowledgeBaseDrugCodeSpecified","medicationInfo","ndclabprod","ndcpackage","onsetdate","onsetdateSpecified","other","pendUserIndent","pendUserIndentSpecified","pendUserSort","pendUserSortSpecified","personID","pubtime","pubtimeSpecified","pubUser","pubUserDetail","pubUserSpecified","rash","resp","searchCriteria","secondaryDocumentID","secondaryDocumentIDSpecified","shock","snomedID","snomedIDSpecified","stopdate","stopdateSpecified","stopreason","userDetail","userID","userIDSpecified","userIndent","userIndentSpecified","userSort","userSortSpecified","ProblemExternal","problemExternal","aproxstopdate","assessmentList","codechange","covered","expirationIDSpecified","externalProblemDetail","extSecondaryProblemID","extSecondaryProblemIDSpecified","icd9CodeDetail","icd9MasterDiagnosisID","icd9MasterDiagnosisIDSpecified","icd10CodeDetail","icd10MasterDiagnosisID","icd10MasterDiagnosisIDSpecified","lastClaimedDate","lastClaimedDateSpecified","medicareAdvantageAlert","medicareAdvantageAlertSpecified","medicareAdvantageRiskAdjustmentFactor","priority","prioritySpecified","problemID","problemIDSpecified","qualifier","secondaryProblemID","secondaryProblemIDSpecified","snoMedCodeDetail","snoMedMasterDiagnosisID","snoMedMasterDiagnosisIDSpecified","userDim","userDimSpecified","AllergiesExternal","map","Problems","_isLoaded","load","_new","loadAsync","__awaiter$5","_currentAsync","_newAsync","_removedAsync","currentProblemMelData","loadMelDataToList","currentProblem","newProblemMelData","newProblem","removedProblemMelData","markRemovedMelDataFromList","removedProblem","predicate","Changed","_locadMelDataFromString","_problemId","indexOf","filterProblems","problems","Patient","_demographics","_allergiesExternal","_contactsArray","_observations","_observatiosArray","_protocolsArray","_insurances","_immunizationsArray","_carePlansArray","_locationsArray","_allergies","_referringProvider","observations","observationsArray","dataArrayU","_patientPicture","_lastOfficeVisit","_registrationNote","_language","patientId","identifierDomain","domainId","_patientId","idValue","_printId","externalId","_externalId","medicalRecordId","_medicalRecordId","birthDate","_dateOfBirth","_dateOfDeath","deceaseIndSpecified","deceaseInd","deceaseTime","_sex","genderCode","personNameList","givenName","familyName","_middleName","_labelName","_namePrefix","prefixName","_nameSuffix","suffixName","_pid","ssn","_ssn","replace","patientIdAsync","pidAsync","medicalRecordIdAsync","externalIdAsync","printIdAsync","ssnAsync","firstNameAsync","lastNameAsync","middleNameAsync","labelNameAsync","namePrefixAsync","nameSuffixAsync","sexAsync","_race","raceAsync","_ethnicity","ethnicityAsync","dateOfBirthAsync","dateOfDeathAsync","_maritalStatus","maritalStatusAsync","languageAsync","emailAsync","_contactBy","contactByAsync","registrationNoteAsync","_contacts","PatientContact","contactsAsync","_employmentStatus","employmentStatusAsync","_clinicStatus","clinicStatusAsync","_primaryCarePhysicianName","primaryCarePhysicianNameAsync","_problems","problemsAsync","flowsheetObservations","flowsheet","flowsheetValue","_observationList","FlowsheetObservation","_protocols","Protocol","_immunizations","Immunization","_carePlans","CarePlan","carePlansAsync","_locations","_locationsId","locationProperty","Location","Home","findByType","_usersArray","getUser","_user","User","_currentUser","GetCurrentUser","getUsers","_users","ExtensionExternalSimulator","_showWait","sendMessage","editorExtensionId","Promise","resolve","reject","chrome","runtime","Simulator","_isExtensionEvaluated","_isActiveX","_ExtensionExternalSimulator","isSimulatorAsync","__awaiter$7","info","_reject","ClinicalDocument","_emr","_locationPropertyArray","rawValue","val","_letiables","_did","didAsync","melFuncAsync","_xid","_documentId","_status","_location","_locationProperty","Current","_dateOfUpdate","_provider","_userLoginName","EmrContents","__awaiter$9","melData","EmrContent","Emr","_melContent","_problemExternalList","externalAsync","__awaiter$a","melContent","reload","emrMel","demographicsAsync","then","Demographics","allergiesAsync","_allergiesJson","allergiesJson","problemsJson","_problemsJson","patientAsync","_patient","bind","clinicalDocumentAsync","_clinicalDocument","showWait","emrApp","_obsTermsMap","ObsTermsMap","_emrWindow","EmrWindow","enterpriseId","databaseVersion","_version","emrContentsAsync","content","_emrMel","_emrApp","_baseServicesUrl","BaseServicesUrl","demographics","allergies","Users","MdObject","version","packageVersion","none","reasonForRemoval","__awaiter$b","toRemoveString","window","mdObject","document"],"mappings":"oQAAYA,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ICIR,WAHAC,KAAAC,OAAiB,SACjBD,KAAAE,OAAiB,WPFTT,EAAAA,EAAAA,eAAAA,EAAAA,aAAY,KACpBA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,QAAA,GAAA,WCHQC,EAAAA,EAAAA,mBAAAA,EAAAA,iBAAgB,KACxBA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,SAAA,GAAA,WACAA,EAAAA,EAAA,SAAA,GAAA,YCHQC,EAAAA,EAAAA,wBAAAA,EAAAA,sBAAqB,KAC7B,KAAA,GACAA,EAAA,KAAA,OACAA,EAAA,KAAA,OACAA,EAAA,cAAA,iBCJQC,EAAAA,EAAAA,qBAAAA,EAAAA,mBAAkB,UAC1B,GAAA,GACAA,EAAA,SAAA,IACAA,EAAA,OAAA,IACAA,EAAA,SAAA,IACAA,EAAA,KAAA,KCLQC,EAAAA,EAAAA,cAAAA,EAAAA,YAAW,KACnBA,EAAA,KAAA,GAAA,OACAA,EAAAA,EAAA,IAAA,GAAA,MACAA,EAAAA,EAAA,OAAA,GAAA,SACAA,EAAAA,EAAA,OAAA,GAAA,UCJQC,EAAAA,EAAAA,0BAAAA,EAAAA,wBAAuB,KAC/B,KAAA,GACAA,EAAA,MAAA,mBACAA,EAAA,iBAAA,oBACAA,EAAA,UAAA,oBACAA,EAAA,MAAA,SCLQC,EAAAA,EAAAA,eAAAA,EAAAA,aAAY,KACpBA,EAAA,UAAA,GAAA,YACAA,EAAAA,EAAA,MAAA,GAAA,QACAA,EAAAA,EAAA,QAAA,GAAA,UACAA,EAAAA,EAAA,QAAA,GAAA,UACAA,EAAAA,EAAA,QAAA,GAAA,gBEDA,SACWI,EACAC,EACAC,GAFAL,KAAAG,GAAAA,EACAH,KAAAI,KAAAA,EACAJ,KAAAK,aAAAA,EAEPL,KAAKG,GAAiB,MAAXH,KAAKG,GAAcH,KAAKG,GAAK,GACxCH,KAAKI,KAAqB,MAAbJ,KAAKI,KAAgBJ,KAAKI,KAAO,GAC9CJ,KAAKK,aAAqC,MAArBL,KAAKK,aAAwBL,KAAKK,aAAeZ,EAAAA,aAAaa,MCKvFC,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC;;;;;;;;;;;;;;6FAGZO,EAAUR,EAAGC,GAEzB,SAASQ,IAAOjB,KAAKkB,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMQ,EAAGE,UAAYV,EAAEU,UAAW,IAAIF,YAmDnEI,EAAYC,EAASC,GACjC,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEM,KAAMC,EAAK,GAAIC,MAASD,EAAK,GAAIE,OAAUF,EAAK,IAAwB,mBAAXG,SAA0BV,EAAEU,OAAOC,UAAY,WAAa,OAAOtC,OAAU2B,EACvJ,SAASO,EAAKK,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIjB,EAAG,MAAM,IAAIkB,UAAU,mCAC3B,KAAOd,OACH,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARe,EAAG,GAAShB,EAAU,OAAIgB,EAAG,GAAKhB,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEiB,KAAKlB,GAAI,GAAKA,EAAEQ,SAAWP,EAAIA,EAAEiB,KAAKlB,EAAGgB,EAAG,KAAKG,KAAM,OAAOlB,EAE3J,OADID,EAAI,EAAGC,IAAGe,EAAK,CAAS,EAARA,EAAG,GAAQf,EAAEmB,QACzBJ,EAAG,IACP,KAAK,EAAG,KAAK,EAAGf,EAAIe,EAAI,MACxB,KAAK,EAAc,OAAXb,EAAEC,QAAgB,CAAEgB,MAAOJ,EAAG,GAAIG,MAAM,GAChD,KAAK,EAAGhB,EAAEC,QAASJ,EAAIgB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKb,EAAEI,IAAIc,MAAOlB,EAAEG,KAAKe,MAAO,SACxC,QACI,KAAMpB,EAAIE,EAAEG,MAAML,EAAIA,EAAEqB,OAAS,GAAKrB,EAAEA,EAAEqB,OAAS,KAAkB,IAAVN,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEb,EAAI,EAAG,SACjG,GAAc,IAAVa,EAAG,MAAcf,GAAMe,EAAG,GAAKf,EAAE,IAAMe,EAAG,GAAKf,EAAE,IAAM,CAAEE,EAAEC,MAAQY,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYb,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIe,EAAI,MAC7D,GAAIf,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIgB,KAAKP,GAAK,MACvDf,EAAE,IAAIE,EAAEI,IAAIc,MAChBlB,EAAEG,KAAKe,MAAO,SAEtBL,EAAKlB,EAAKoB,KAAKrB,EAASM,GAC1B,MAAOqB,GAAKR,EAAK,CAAC,EAAGQ,GAAIxB,EAAI,UAAeD,EAAIE,EAAI,EACtD,GAAY,EAARe,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEI,MAAOJ,EAAG,GAAKA,EAAG,QAAK,EAAQG,MAAM,GArB9BM,CAAK,CAACX,EAAGC,eA8C7CW,EAAOC,EAAGb,GACtB,IAAIc,EAAsB,mBAAXhB,QAAyBe,EAAEf,OAAOC,UACjD,IAAKe,EAAG,OAAOD,EACf,IAAmBE,EAAYL,EAA3BM,EAAIF,EAAEV,KAAKS,GAAOI,EAAK,GAC3B,IACI,WAAc,IAANjB,GAAgBA,KAAM,MAAQe,EAAIC,EAAEtB,QAAQW,MAAMY,EAAGR,KAAKM,EAAET,OAExE,MAAOY,GAASR,EAAI,CAAEQ,MAAOA,WAEzB,IACQH,IAAMA,EAAEV,OAASS,EAAIE,EAAU,SAAIF,EAAEV,KAAKY,WAExC,GAAIN,EAAG,MAAMA,EAAEQ,OAE7B,OAAOD,WAGKE,IACZ,IAAK,IAAIF,EAAK,GAAID,EAAI,EAAGA,EAAII,UAAUZ,OAAQQ,IAC3CC,EAAKA,EAAGI,OAAOT,EAAOQ,UAAUJ,KACpC,OAAOC,oUC3GP,SAAYK,GAAZ,IAAAC,EAAA9D,UAAY,IAAA6D,IAAAA,EAAA,IAjBZ7D,KAAA+D,MAAqBlE,EAAAA,YAAYS,KACjCN,KAAAgE,OAAuBjE,EAAAA,aAAakE,UAuB5BjE,KAAAkE,eAAiB,WACrBJ,EAAKK,UAAaL,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACzDN,EAAKO,UAAaP,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACzDN,EAAKQ,SAAYR,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACxDN,EAAKS,YAAeT,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAC3DN,EAAKU,WAAcV,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAC1DN,EAAKW,KAAQX,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACpDN,EAAKY,SAAYZ,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACxDN,EAAKa,aAAgBb,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAC5DN,EAAKc,UAAad,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACzDN,EAAKe,eAAkBf,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,IAG1DpE,KAAA8E,YAAc,WAClB,OAAOhB,EAAKO,UAAY,IACpBP,EAAKQ,SAAW,IAChBR,EAAKS,YAAc,IACnBT,EAAKU,WAAa,IAClBV,EAAKW,KAAO,IACZX,EAAKY,SAAW,IAChBZ,EAAKa,aAAe,IACpBb,EAAKc,UAAY,IACjBd,EAAKe,gBAGL7E,KAAA+E,eAAiB,WACrB,OAAOjB,EAAKO,UAAY,IACpBP,EAAKQ,SAAW,IAChBR,EAAKS,YAAc,IACnBT,EAAKU,WAAa,IAClBV,EAAKW,KAAO,IACZX,EAAKY,SAAW,IAChBZ,EAAKa,aAAe,IACpBb,EAAKc,UAAY,IACjBd,EAAKe,gBAGb7E,KAAAgF,KAAO,SAAOC,GAAY,OAAAC,EAAApB,OAAA,OAAA,GAAA,uEAEtB,IADK9D,KAAKmF,MAAQF,IAAOjF,KAAKmF,KAAOF,IAChCjF,KAAKmF,KAAQ,MAAM,IAAIC,MAAM,wBAC1BpF,KAAK+D,YACJlE,EAAAA,YAAYwF,IAAZ,MAAA,CAAA,EAAA,QAeAxF,EAAAA,YAAYyF,OAAZ,MAAA,CAAA,EAAA,QAcAzF,EAAAA,YAAY0F,OAAZ,MAAA,CAAA,EAAA,sBA5BkB,MAAA,CAAA,EAAMvF,KAAKmF,KAAKK,QAAQ,qBAAuBxF,KAAK8E,cAAgB,eAEvF,GAFIL,EAAegB,EAAA3D,QACf4D,GAAuBjB,GACT,GAAqBkB,MAAhBD,EAGnB,MAFIjC,EAAQ,kCAAoCgB,EAChDmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,yBAA2B3B,GAO/C,OAJAzD,KAAKmE,UAAYM,EACjBzE,KAAKsE,SAAYtE,KAAa,SAAIA,KAAKsE,SAAWG,EAClDzE,KAAKgE,OAASjE,EAAAA,aAAa8F,MAC3B7F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,UAGmB,MAAA,CAAA,EAAMN,KAAKmF,KAAKK,QAAQ,wBAA0BxF,KAAKmE,UAAY,MAAQnE,KAAK+E,iBAAmB,eAGtH,GAHIN,EAAegB,EAAA3D,QACf4D,GAAuBjB,GAET,GAAqBkB,MAAhBD,EAGnB,MAFIjC,EAAQ,kCAAoCgB,EAChDmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,yBAA2B3B,GAK/C,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAa+F,QAC3B9F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,UAGmB,MAAA,CAAA,EAAMN,KAAKmF,KAAKK,QAAQ,wBAA0BxF,KAAKmE,UAAY,eAGtF,GAFoC,SADhCM,EAAegB,EAAA3D,QAMf,MAFI2B,EAAQ,kCAAoCgB,EAChDmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,yBAA2B3B,GAK/C,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAagG,QAC3B/F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,4BAxFF,IAAA0F,EAA4BnC,EAAMO,KAAlCA,OAAI,IAAA4B,EAAG,KAAIA,EAAEP,EAAe5B,EAAMoB,IAArBA,OAAG,IAAAQ,EAAG,KAAIA,EAC7BzF,KAAKmF,KAAOF,EACZjF,KAAKoE,KAAgB,MAARA,EAAgB,GAAKA,EAAK6B,MAAM,KAC7CjG,KAAKkE,oBC5BT,SACWgC,GADX,IAAApC,EAAA9D,KACWA,KAAAkG,OAAAA,EAdHlG,KAAAoE,KAAuB,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KAC9DjG,KAAAI,KAAgBJ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAAmG,KAAgBnG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAAoG,MAAiBpG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAqG,UAAqBrG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC5DpE,KAAAsG,SAAoBtG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAAuG,SAAoBvG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAAwG,KAAgBxG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAA+D,MAAiB/D,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAyG,IAAezG,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACtDpE,KAAA0G,QAAmB1G,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC1DpE,KAAA2G,QAAkB3G,KAAKsG,SAAS1C,OAAO,IAAM5D,KAAKuG,UAMlDvG,KAAA4G,YAAc,WACV,OAAO9C,EAAKoC,WCjBhB,SAAYW,GAAZ,IAAA/C,EAAA9D,KACQ6G,GACAnG,OAAOoG,KAAK9G,MAAM+G,SAAQ,SAAAC,GACtBlD,EAAKkD,GAAOH,EAAKG,GAAOH,EAAKG,GAAOlD,EAAKkD,OCN5CC,EAAqB,uHACrBC,EAA6B,gDCC1C,SAAAC,YAGWA,EAAAC,OAAP,SAAcvE,GACV,OAAIA,EACO,IAAIwE,KAAKC,SAASzE,EAAM0E,OAAO,KAG/B,MAIRJ,EAAAK,QAAP,SAAeC,GACX,OAAIA,EACO,yBAA2BC,KAAKC,OAAOC,aAAaC,MAAM,KAAM,IAAIC,WAAWL,KAG/ER,GAIRE,EAAAY,WAAP,SAAkBlF,GACd,OAAIA,GACoB,GAAhBA,EAAME,OACCF,EAAM0E,OAAO,EAAG,GAAK,IAAM1E,EAAM0E,OAAO,EAAG,GAAK,IAAM1E,EAAM0E,OAAO,EAAG,GAG9E,MAGJJ,EAAAa,aAAP,SAAoBC,GAChB,OAASA,EAAKC,WAAa,EAAMD,EAAKC,WAAa,EAAM,KAAOD,EAAKC,WAAa,IAC5E,KAAQD,EAAKE,UAAY,EAAKF,EAAKE,UAAa,IAAMF,EAAKE,WAC3D,IAAMF,EAAKG,eAGdjB,EAAAkB,cAAP,SAAsBC,EAAaC,GAC/B,IAAIC,EAAa9H,OAAO+H,yBAAyBH,EAAQC,IAAgB,IAC3C,IAA1BC,EAAWE,aACXF,EAAWE,YAAa,EACxBF,EAAWG,UAAW,EACtBjI,OAAOkI,eAAeN,EAAQC,EAAaC,UAxC5CrB,EAAA0B,aAAuB,gVCiE9B,SAAAC,EAAYC,GAAZ,IAAAjF,EACIkF,EAAArG,KAAA3C,KAAM+I,IAAQ/I,YA9DlB8D,EAAAE,OAAuBjE,EAAAA,aAAakE,UACpCH,EAAAC,MAAqBlE,EAAAA,YAAYS,KASjCwD,EAAAmF,WAAqB,IACrBnF,EAAAoF,KAAe,GAEfpF,EAAAqF,UAAoB,GACpBrF,EAAAqC,KAAe,GACfrC,EAAAsF,YAAsB,GACtBtF,EAAAuF,SAAmB,GACnBvF,EAAAwF,QAAkB,GAGlBxF,EAAAyF,WAAqB,GACrBzF,EAAA0F,UAAoB,GACpB1F,EAAA2F,iBAA2B,GAG3B3F,EAAAkB,KAAO,SAACC,GACJ,OAAQnB,EAAKC,OACT,KAAKlE,EAAAA,YAAYwF,IACb,IAAIZ,EAAeQ,EAAIO,QAAQ,qBAAuB1B,EAAKgB,cAAgB,OAE3E,GAAa,MAATL,EAAc,CACd,IAAIhB,EAAQ,+BAAiCgB,EAE7C,MADAmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,sBAAwB3B,GAG5CK,EAAKE,OAASjE,EAAAA,aAAa8F,MAC3B/B,EAAKC,MAAQlE,EAAAA,YAAYS,OAKrCwD,EAAA4F,UAAY,SAAOzE,GAAW,OAAA0E,EAAA7F,OAAA,OAAA,GAAA,4EAClB9D,KAAK+D,YACJlE,EAAAA,YAAYwF,IAAZ,MAAA,CAAA,EAAA,sBACkB,MAAA,CAAA,EAAMJ,EAAIO,QAAQ,qBAAuBxF,KAAK8E,cAAgB,eAEjF,GAAa,OAFTL,EAAemF,EAAA9H,QAKf,MAFI2B,EAAQ,+BAAiCgB,EAC7CmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,sBAAwB3B,GAK5C,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAa8F,MAC3B7F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,4BAgBJwD,EAAAgB,YAAc,WAClB,OAAOhB,EAAKqC,KAAO,MACfrC,EAAKsF,YAAc,MACnBtF,EAAKW,KAAO,OACXX,EAAK+F,UAAY1C,EAAOa,aAAalE,EAAK+F,WAAa,IAAM,OAC7D/F,EAAKgG,SAAW3C,EAAOa,aAAalE,EAAKgG,UAAY,IAAM,MAC5DhG,EAAKwF,QAAU,KACfxF,EAAKmF,WAAa,KAClBnF,EAAKoF,eAhFYlI,EAAA8H,EAAAE,GAkEzBtI,OAAAkI,eAAWE,EAAA3H,UAAA,OAAI,KAAf,WACI,OAAOnB,KAAKqJ,UAAYrJ,KAAKwJ,UACvBxJ,KAAKqJ,SAAW,IAAMrJ,KAAKwJ,UAC3BxJ,KAAKqJ,SAAWrJ,KAAKwJ,2CAkBxBV,EAAAiB,SAAP,SAAgBC,WACNjB,EAAU,IAAI/I,KAGpB,OAFA+I,EAAQK,YAAcY,EAAUvF,KAAKwF,KACrClB,EAAQO,QAAgC,QAAzB7D,EAAqB,QAArBO,EAAGgE,EAAUE,gBAAQ,IAAAlE,OAAA,EAAAA,EAAG,UAAC,IAAAP,OAAA,EAAAA,EAAGhB,KAAKwF,KACzClB,MA3FcoB,KC6CzB,SACWjE,EACAf,GAFX,IAAArB,EAAA9D,KACWA,KAAAkG,OAAAA,EACAlG,KAAAmF,KAAAA,EAjDHnF,KAAAoE,KAAsC,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KACrEjG,KAAAoK,MAAgC,MAAfpK,KAAKkG,OAE9BlG,KAAAqK,eAA0BrK,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACjEpE,KAAAsK,oBAA+BtK,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACtEpE,KAAAuK,iBAA4BvK,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACnEpE,KAAAwK,YAAuBxK,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC9DpE,KAAAyK,mBAA8BzK,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACrEpE,KAAA0K,OAAkB1K,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAA2K,SAAoB3K,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAA4K,eAA0B5K,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACjEpE,KAAA6K,WAAsB7K,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC7DpE,KAAA8K,iBAA4B9K,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACnEpE,KAAA+K,eAA0B/K,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACnEpE,KAAAgL,KAAgBhL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzDpE,KAAAiL,KAAgBjL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzDpE,KAAAkL,IAAelL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxDpE,KAAAmL,IAAenL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxDpE,KAAAoL,IAAepL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxDpE,KAAAqL,QAAmBrL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC5DpE,KAAAsL,WAAsBtL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC/DpE,KAAAuL,oBAA+BvL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxEpE,KAAAwL,MAAiBxL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC1DpE,KAAAyL,UAAqBzL,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC9DpE,KAAA0L,KAAgB1L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzDpE,KAAA2L,SAAoB3L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC7DpE,KAAA4L,aAAwB5L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACjEpE,KAAA6L,iBAA4B7L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACrEpE,KAAA8L,UAAqB9L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC9DpE,KAAA+L,eAA0B/L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACnEpE,KAAAgM,iBAA4BhM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACrEpE,KAAAiM,mBAA8BjM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACvEpE,KAAAkM,iBAA4BlM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACrEpE,KAAAmM,qBAAgCnM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzEpE,KAAAoM,qBAAgCpM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzEpE,KAAAqM,oBAA+BrM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxEpE,KAAAsM,wBAAmCtM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC5EpE,KAAAuM,oBAA+BvM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACxEpE,KAAAwM,qBAAgCxM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACzEpE,KAAAyM,OAAkBzM,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC3DpE,KAAA0M,aAAwB1M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACjEpE,KAAA2M,WAAsB3M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC/DpE,KAAA4M,cAAyB5M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAClEpE,KAAA8J,SAAoB9J,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC7DpE,KAAA6M,sBAAiC7M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC1EpE,KAAA8M,4BAAuC9M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAOhFpE,KAAAgF,KAAO,WACH,GAAIlB,EAAKsG,MAAO,CACZ,IAAI2C,EAAUjJ,EAAKkJ,cACfC,OAAQ,EACI,KAAZF,GACAE,EAAWnJ,EAAKqB,KAAKK,QAAQ,eAAiB1B,EAAKoJ,cAAgB,QACpD,GACXC,MAAMF,GAGVE,MAAMJ,KAOlB/M,KAAA4G,YAAc,WACV,OAAO9C,EAAKoC,QAGhBlG,KAAAgN,YAAc,WAGV,MAA8B,KAA1BlJ,EAAKyG,iBACE,gCAEW,KAAlBzG,EAAK6G,SACE,wBAEa,KAApB7G,EAAK+G,WACE,0BAEiB,KAAxB/G,EAAKiH,eACE,8BAEmB,KAA1BjH,EAAKoI,iBACE,gCAEkC,MAAzCpI,EAAKwH,WAAW8B,MAAM,gBACf,gCAEJ,IAGXpN,KAAAkN,YAAc,WACV,OAAOpJ,EAAKyG,iBAAmB,IAC3BzG,EAAK0G,YAAc,IACnB1G,EAAK2G,mBAAqB,IAC1B3G,EAAK4G,OAAS,IACd5G,EAAK6G,SAAW,IAChB7G,EAAK8G,eAAiB,IACtB9G,EAAK+G,WAAa,IAClB/G,EAAKgH,iBAAmB,IACxBhH,EAAKiH,eAAiB,IACtBjH,EAAKkH,KAAO,IACZlH,EAAKmH,KAAO,IACZnH,EAAKoH,IAAM,IACXpH,EAAKqH,IAAM,IACXrH,EAAKsH,IAAM,IACXtH,EAAKuH,QAAU,IACfvH,EAAKwH,WAAa,IAClBxH,EAAKyH,oBAAsB,IAC3BzH,EAAK0H,MAAQ,IACb1H,EAAK2H,UAAY,IACjB3H,EAAK4H,KAAO,IACZ5H,EAAK6H,SAAW,IAChB7H,EAAK8H,aAAe,IACpB9H,EAAK+H,iBAAmB,IACxB/H,EAAKgI,UAAY,IACjBhI,EAAKiI,eAAiB,IACtBjI,EAAKkI,iBAAmB,IACxBlI,EAAKmI,mBAAqB,IAC1BnI,EAAKoI,iBAAmB,IACxBpI,EAAKqI,qBAAuB,IAC5BrI,EAAKsI,qBAAuB,IAC5BtI,EAAKuI,oBAAsB,IAC3BvI,EAAKwI,wBAA0B,IAC/BxI,EAAKyI,oBAAsB,IAC3BzI,EAAK0I,qBAAuB,IAC5B1I,EAAK2I,OAAS,IACd3I,EAAK4I,aAAe,IACpB5I,EAAK6I,WAAa,IAClB7I,EAAK8I,cAAgB,IACrB9I,EAAKgG,SAAW,IAChBhG,EAAK+I,sBAAwB,IAC7B/I,EAAKgJ,gCCxIb,WAJA9M,KAAAM,KAAe,YACfN,KAAAqN,OAAiB,SACjBrN,KAAAsN,iBAA2B,YCwB3B,SACWpH,EACAqH,GAFX,IAAAzJ,EAAA9D,KACWA,KAAAkG,OAAAA,EACAlG,KAAAuN,aAAAA,EA1BHvN,KAAAoE,KAAsC,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KAyE7EjG,KAAA4G,YAAc,WACV,OAAO9C,EAAKoC,QA9CRqH,IAAiB7N,EAAAA,iBAAiB8N,WAClCxN,KAAKyN,UAAazN,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAK0N,WAAc1N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC1DpE,KAAK2N,YAAe3N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAK4N,aAAgB5N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC5DpE,KAAK6N,MAAS7N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACrDpE,KAAK8N,SAAY9N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAK+N,UAAa/N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAKgO,MAAShO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAG6B,MAAM,KAAO,GAChEjG,KAAKiO,IAAOjO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACnDpE,KAAKkO,aAAgBlO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC5DpE,KAAKmO,MAASnO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACvDpE,KAAKoO,eAAkBpO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAKqO,YAAerO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC7DpE,KAAKsO,SAAYtO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC1DpE,KAAKuO,kBAAqBvO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACnEpE,KAAKwO,eAAkBxO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAK+L,eAAkB/L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAKyO,gBAAmBzO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACjEpE,KAAK0O,UAAa1O,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC3DpE,KAAK2O,WAAc3O,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC5DpE,KAAK4O,SAAY5O,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,IAG1DmJ,IAAiB7N,EAAAA,iBAAiBmP,WAClC7O,KAAKyN,UAAazN,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAK0N,WAAc1N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC1DpE,KAAK2N,YAAe3N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAK4N,aAAgB5N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC5DpE,KAAK6N,MAAS7N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACrDpE,KAAK8N,SAAY9N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAK+N,UAAa/N,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAKiO,IAAOjO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACnDpE,KAAKkO,aAAgBlO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC5DpE,KAAKmO,MAASnO,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACrDpE,KAAKoO,eAAkBpO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAKqO,YAAerO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC7DpE,KAAKsO,SAAYtO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC1DpE,KAAKuO,kBAAqBvO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACnEpE,KAAKwO,eAAkBxO,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAK+L,eAAkB/L,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChEpE,KAAKgO,MAAQ,cCvETc,EAAejM,EAAekM,GAC1ClM,EAAQ,GAAkB,GAC1B,IAAImM,EAA0B,IAAIrH,OAAO9E,GAoCzC,OAjCAmM,EAAOC,OAAS,SAACC,GACI,MAAbA,IACAA,EAAY,KAEhB,IAAIC,EAAYtM,EAAMoD,MAAMiJ,GAK5B,OAHAC,EAAYA,EAAUC,QAAO,SAACvI,GAC1B,OAAuB,IAAhBA,EAAK9D,WAMpBiM,EAAOK,WAAa,SAACC,GACjB,OAAOzM,EAAM0M,MAAM,EAAGD,EAAIvM,UAAYuM,GAI1CN,EAAOQ,SAAW,SAACF,GACf,OAAOzM,EAAM0M,OAAOD,EAAIvM,UAAYuM,GAGxCN,EAAOD,IAAc,MAAPA,EAAeA,EAAM,GAEnCC,EAAO5H,OAAS,WACZ,IAAIqI,EAAU,IAAIpI,KAAKxE,EAAM6M,YAC7B,OAAID,aAAmBpI,OAASsI,MAAMF,EAAQG,WACnCH,OAEP,GAIDT,QCpBP,SACW9I,GADX,IAAApC,EAAA9D,KACWA,KAAAkG,OAAAA,EAhBDlG,KAAAoE,KAAsC,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KAE/EjG,KAAAI,KAAO,WAEH,OADAwF,QAAQiK,IAAI/L,EAAKoC,QACTpC,EAAKM,KAAKrB,OAAS,GAAQ/C,KAAKoE,KAAK,GAAK,GACtDpE,KAAA8P,UAAYhB,EAAgB9O,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,IAAIgD,SACnEpH,KAAA+P,kBAAqB/P,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAChEpE,KAAAgQ,eAAkBhQ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAAoJ,YAAepJ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACtDpE,KAAAiQ,QAAWjQ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAClDpE,KAAAkQ,SAAYlQ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACnDpE,KAAAmQ,UAAanQ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACpDpE,KAAA8J,SAAW,KACX9J,KAAAoQ,aAAuB,kBCHvB,SAAAC,EACWnK,GADX,IAAApC,EAGIkF,EAAArG,KAAA3C,KAAMkG,IAAOlG,YAFN8D,EAAAoC,OAAAA,EAXXpC,EAAA1D,KAAQ0D,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAC/CN,EAAAgM,UAAYhB,EAAgBhL,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,IAAIgD,SACvEtD,EAAAgG,SAAYhG,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACnDN,EAAAiM,kBAAqBjM,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAC5DN,EAAAkM,eAAkBlM,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACzDN,EAAAsF,YAAetF,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACtDN,EAAAmM,QAAWnM,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GAClDN,EAAAoM,SAAYpM,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,GACnDN,EAAAqM,UAAarM,EAAKM,KAAKrB,OAAS,EAAKe,EAAKM,KAAK,GAAK,YAVhBpD,EAAAqP,EAAArH,MAAAsH,YCDxBC,EAAiB1N,EAAO2N,GACpC,IAAIxB,EAA0B,MAATnM,EAAiB,IAAInC,OAAWmC,EAMrD,OALAmM,EAAOhK,KAAO,WACU,MAAhBwL,GACAA,KAGDxB,WCTKyB,EAAmBC,GAC/B,IAAI1B,EAAkB,kBAAmB0B,EAMzC,OAHK1B,GACDpJ,QAAQiK,IAAI,iDAETb,WCPK2B,EAAuBC,EAAoB3N,GACvD,IAAI+L,EAAS,oCAAsC4B,EAEnD,OADA5B,GAAiB,MAAL/L,GAAaA,EAAElC,eAAe,WAAc,qBAAuBkC,EAAE4N,QAAU,gVCa3F,SAAAC,EACW3L,GAAAnF,KAAAmF,KAAAA,EAPHnF,KAAA+Q,YAAoD,GAEpD/Q,KAAAgR,cAAsD,GAEtDhR,KAAAiR,cAAsD,UAM9DvQ,OAAAkI,eAAIkI,EAAA3P,UAAA,QAAK,KAAT,WACI,GAAgC,IAA5BnB,KAAK+Q,YAAYhO,OAAc,CAC/B/C,KAAKkR,OAAyB,MAAflR,KAAKkR,OAAkBlR,KAAKkR,OAASlR,KAAKmF,KAAKK,QAAQ,0BAEtE,IADA,IAAI2J,EAAYL,EAAe9O,KAAKkR,QAAQjC,SACnCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK+Q,YAAY/N,KAAK,IAAIsN,EAAYnB,EAAUgC,KAGxD,OAAOnR,KAAK+Q,6CAGVD,EAAA3P,UAAAiQ,WAAA,wHAC8B,IAA5BpR,KAAK+Q,YAAYhO,OAAjB,CAAA,EAAA,IACAiD,EAAAhG,KAA8B,MAAfA,KAAKkR,OAAN,CAAA,EAAA,IAAwBzL,EAAAzF,KAAKkR,sBAAS,MAAA,CAAA,EAAMlR,KAAKmF,KAAKK,QAAQ,kCAAxBC,EAAA4L,EAAAvP,wBAEpD,IAFAkE,EAAKkL,OAAMzL,EACP0J,EAAYL,EAAe9O,KAAKkR,QAAQjC,SACnCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK+Q,YAAY/N,KAAK,IAAIsN,EAAYnB,EAAUgC,sBAGxD,MAAA,CAAA,EAAOnR,KAAK+Q,qBAGhBrQ,OAAAkI,eAAIkI,EAAA3P,UAAA,UAAO,KAAX,WACI,GAAkC,IAA9BnB,KAAKgR,cAAcjO,OAAc,CACjC/C,KAAKsR,SAA6B,MAAjBtR,KAAKsR,SAAoBtR,KAAKsR,SAAWtR,KAAKmF,KAAKK,QAAQ,4BAE5E,IADA,IAAI2J,EAAYL,EAAe9O,KAAKsR,UAAUrC,SACrCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKgR,cAAchO,KAAK,IAAIsN,EAAYnB,EAAUgC,KAG1D,OAAOnR,KAAKgR,+CAGVF,EAAA3P,UAAAoQ,aAAA,wHACgC,IAA9BvR,KAAKgR,cAAcjO,OAAnB,CAAA,EAAA,IACAiD,EAAAhG,KAAkC,MAAjBA,KAAKsR,SAAN,CAAA,EAAA,IAA0B7L,EAAAzF,KAAKsR,wBAAW,MAAA,CAAA,EAAMtR,KAAKmF,KAAKK,QAAQ,oCAAxBC,EAAA4L,EAAAvP,wBAE1D,IAFAkE,EAAKsL,SAAQ7L,EACT0J,EAAYL,EAAe9O,KAAKsR,UAAUrC,SACrCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKgR,cAAchO,KAAK,IAAIsN,EAAYnB,EAAUgC,sBAG1D,MAAA,CAAA,EAAOnR,KAAKgR,uBAGhBtQ,OAAAkI,eAAIkI,EAAA3P,UAAA,UAAO,KAAX,WACI,GAAkC,IAA9BnB,KAAKiR,cAAclO,OAAc,CACjC/C,KAAKwR,SAA6B,MAAjBxR,KAAKwR,SAAoBxR,KAAKwR,SAAWxR,KAAKmF,KAAKK,QAAQ,8BAE5E,IADA,IAAI2J,EAAYL,EAAe9O,KAAKwR,UAAUvC,SACrCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKiR,cAAcjO,KAAK,IAAIqN,EAAmBlB,EAAUgC,KAGjE,OAAOnR,KAAKiR,+CAGVH,EAAA3P,UAAAsQ,aAAA,wHACgC,IAA9BzR,KAAKiR,cAAclO,OAAnB,CAAA,EAAA,IACAiD,EAAAhG,KAAkC,MAAjBA,KAAKwR,SAAN,CAAA,EAAA,IAA0B/L,EAAAzF,KAAKwR,wBAAW,MAAA,CAAA,EAAMxR,KAAKmF,KAAKK,QAAQ,sCAAxBC,EAAA4L,EAAAvP,wBAE1D,IAFAkE,EAAKwL,SAAQ/L,EACT0J,EAAYL,EAAe9O,KAAKwR,UAAUvC,SACrCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKiR,cAAcjO,KAAK,IAAIqN,EAAmBlB,EAAUgC,sBAGjE,MAAA,CAAA,EAAOnR,KAAKiR,yCC1DhB,SAAAS,EACWC,EACAC,EACA1L,EACAf,GAJX,IAAArB,EAAA9D,KACWA,KAAA2R,MAAAA,EACA3R,KAAA4R,iBAAAA,EACA5R,KAAAkG,OAAAA,EACAlG,KAAAmF,KAAAA,EAvBHnF,KAAAoE,KAAsC,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KAG5DjG,KAAA6R,gBAAmC,IAAIC,EAExD9R,KAAAI,KAA8B,MAAdJ,KAAK2R,MAAiB3R,KAAK2R,MAAQ,GACnD3R,KAAA6C,MAAiB7C,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAiI,KAAgBjI,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAA+R,KAAgB/R,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAAgS,YAAuBhS,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC9DpE,KAAAiS,aAAwBjS,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC/DpE,KAAAkS,MAAiBlS,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAsJ,QAAmBtJ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC1DpE,KAAA+D,MAAiB/D,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAmS,eAA0BnS,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACjEpE,KAAAoS,aAAwBpS,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC/DpE,KAAAqS,WAAsBrS,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC/DpE,KAAAmG,KAAenG,KAAK4R,iBASpB5R,KAAAgF,KAAO,WACH,IAAIiI,EAAWnJ,EAAKqB,KAAKmN,gBAAgBxO,EAAK1D,KAAM0D,EAAKjB,MAAOiB,EAAKmE,MAOrE,OANgB,MAAZnE,EAAKiL,KAA2B,IAAZjL,EAAKiL,MACzB9B,EAAWnJ,EAAKqB,KAAKK,QAAQ,eAAiB1B,EAAK1D,KAAO,MAAQ0D,EAAKiL,IAAM,QAE7D,MAAhBjL,EAAKwF,SAAmC,IAAhBxF,EAAKwF,UAC7B2D,EAAWnJ,EAAKqB,KAAKK,QAAQ,oBAAsB1B,EAAK1D,KAAO,MAAQ0D,EAAKwF,QAAU,QAEnF2D,GAGXjN,KAAAuS,OAAS,oBAIT7R,OAAAkI,eAAI8I,EAAAvQ,UAAA,gBAAa,KAAjB,WAEI,OADAnB,KAAKwS,eAAyC,MAAvBxS,KAAKwS,eAA0BxS,KAAKwS,eAAiBxS,KAAKmF,KAAKK,QAAQ,aAAexF,KAAKI,KAAO,OAClHJ,KAAKwS,gDAGhB9R,OAAAkI,eAAI8I,EAAAvQ,UAAA,MAAG,KAAP,WAII,OAHAnB,KAAKyS,KAAqB,MAAbzS,KAAKyS,KAAgBzS,KAAKyS,KAChCzS,KAAK4R,mBAAqB5R,KAAK6R,gBAAgBvE,iBAAoBtN,KAAKmF,KAAKK,QAAQ,eAAiBxF,KAAKI,KAAO,OAC/G,GACHJ,KAAKyS,6CCnDhB,SACWvM,GAAAlG,KAAAkG,OAAAA,EAHXlG,KAAAI,KAA+B,MAAfJ,KAAKkG,OAAkBlG,KAAKkG,OAAS,iBCGrD,SAAAwM,EACWC,EACAC,EACAC,EACA1N,GAHAnF,KAAA2S,UAAAA,EACA3S,KAAA4S,QAAAA,EACA5S,KAAA6S,QAAAA,EACA7S,KAAAmF,KAAAA,SAIXzE,OAAAkI,eAAI8J,EAAAvR,UAAA,SAAM,KAAV,WACI,OAAOnB,KAAKmF,KAAK2N,OAAO9S,KAAK2S,UAAW3S,KAAK4S,0CAIjDlS,OAAAkI,eAAI8J,EAAAvR,UAAA,SAAM,KAAV,WACI,OAAOnB,KAAKmF,KAAK2N,OAAO9S,KAAK2S,UAAW3S,KAAK6S,4DCXjD,SAAAE,EACWH,EACAC,EACA1N,GAFAnF,KAAA4S,QAAAA,EACA5S,KAAA6S,QAAAA,EACA7S,KAAAmF,KAAAA,SAGXzE,OAAAkI,eAAImK,EAAA5R,UAAA,UAAO,KAAX,WACI,OAAyB,MAAjBnB,KAAKsR,SAAoBtR,KAAKsR,SAAW,IAAIoB,GAAY,EAAM1S,KAAK4S,QAAS5S,KAAK6S,QAAS7S,KAAKmF,uCAG5GzE,OAAAkI,eAAImK,EAAA5R,UAAA,WAAQ,KAAZ,WACI,OAA0B,MAAlBnB,KAAKgT,UAAqBhT,KAAKgT,UAAY,IAAIN,GAAY,EAAO1S,KAAK4S,QAAS5S,KAAK6S,QAAS7S,KAAKmF,yDCP/G,SAAA8N,EACWC,EACA/N,GADAnF,KAAAkT,cAAAA,EACAlT,KAAAmF,KAAAA,SAIXzE,OAAAkI,eAAIqK,EAAA9R,UAAA,OAAI,KAAR,WAEI,OADAnB,KAAK2R,MAAuB,MAAd3R,KAAK2R,MAAiB3R,KAAKmF,KAAKK,QAAQ,cAAgBxF,KAAKkT,cAAgB,OAASlT,KAAK2R,MAClG3R,KAAK2R,uCAIhBjR,OAAAkI,eAAIqK,EAAA9R,UAAA,UAAO,KAAX,WAEI,OADAnB,KAAKmT,SAA6B,MAAjBnT,KAAKmT,SAAoBnT,KAAKmF,KAAKK,QAAQ,cAAgBxF,KAAKkT,cAAgB,OAASlT,KAAKmT,SACxGnT,KAAKmT,0CAIhBzS,OAAAkI,eAAIqK,EAAA9R,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAKoT,aAAqC,MAArBpT,KAAKoT,aAAwBpT,KAAKmF,KAAKK,QAAQ,YAAcxF,KAAKkT,cAAgB,OAASlT,KAAKoT,aAC9GpT,KAAKoT,8CAIhB1S,OAAAkI,eAAIqK,EAAA9R,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKqT,UAA+B,MAAlBrT,KAAKqT,UAAqBrT,KAAKmF,KAAKK,QAAQ,cAAgBxF,KAAKkT,cAAgB,OAASlT,KAAKqT,UAC1GrT,KAAKqT,2CAIhB3S,OAAAkI,eAAIqK,EAAA9R,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAKsT,aAAqC,MAArBtT,KAAKsT,aAAwBtT,KAAKmF,KAAKK,QAAQ,aAAexF,KAAKkT,cAAgB,OAASlT,KAAKsT,aAC/GtT,KAAKsT,8CAIhB5S,OAAAkI,eAAIqK,EAAA9R,UAAA,QAAK,KAAT,WAEI,OADAnB,KAAKuT,OAAyB,MAAfvT,KAAKuT,OAAkBvT,KAAKmF,KAAKK,QAAQ,eAAiBxF,KAAKkT,cAAgB,OAASlT,KAAKuT,OACrGvT,KAAKuT,+CC3BhB,SACWrN,EACAf,GAFX,IAAArB,EAAA9D,KACWA,KAAAkG,OAAAA,EACAlG,KAAAmF,KAAAA,EArBHnF,KAAAoE,KAAsB,MAAfpE,KAAKkG,OAAiB,GAAKlG,KAAKkG,OAAOD,MAAM,KACpDjG,KAAAoK,MAAuB,MAAfpK,KAAKkG,OAErBlG,KAAAwT,WAAsBxT,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC7DpE,KAAAyT,KAAgBzT,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAA0T,aAAwB1T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC/DpE,KAAAsI,OAAkBtI,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACzDpE,KAAA2T,aAAwB3T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC/DpE,KAAA4T,YAAuB5T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC9DpE,KAAA6T,YAAuB7T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC9DpE,KAAA8T,sBAAiC9T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxEpE,KAAA+T,KAAgB/T,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAAgU,SAAoBhU,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GAC3DpE,KAAA2M,WAAsB3M,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC/DpE,KAAAiU,sBAAiCjU,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAC1EpE,KAAAkU,gBAA2BlU,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GACpEpE,KAAAmU,4BAAuCnU,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAChFpE,KAAAoU,qBAAgCpU,KAAKoE,KAAKrB,OAAS,GAAM/C,KAAKoE,KAAK,IAAM,GAOzEpE,KAAAgF,KAAO,WACH,GAAIlB,EAAKsG,MAAO,CACZ,IAAI2C,EAAUjJ,EAAKkJ,cACfC,OAAQ,EACI,KAAZF,GACAE,EAAWnJ,EAAKqB,KAAKK,QAAQ,sBAAwB1B,EAAKoJ,cAAgB,OAC3D,GACXC,MAAMrJ,EAAKuQ,iBAAiBpH,IAGhCE,MAAMJ,KAUlB/M,KAAA4G,YAAc,WACV,OAAO9C,EAAKoC,QAGhBlG,KAAAgN,YAAc,WAGV,MAAkB,KAAdlJ,EAAK2P,KACE,oBAEJ,IAKXzT,KAAAkN,YAAc,WACV,MAAO,IAAOpJ,EAAK2P,KAAO,MACtB3P,EAAK4P,aAAe,MACpB5P,EAAKwE,OAAS,MACdxE,EAAK6P,aAAe,MACpB7P,EAAK8P,YAAc,MACnB9P,EAAK+P,YAAc,MACnB/P,EAAKsQ,qBAAuB,KAGpCpU,KAAAqU,iBAAmB,SAAC5P,GAChB,IAAIwI,EAAmB,GACvB,OAAQxI,GACJ,IAAK,KACDwI,EAAW,mDACX,MACJ,IAAK,KACDA,EAAW,mCACX,MACJ,IAAK,KACDA,EAAW,qCACX,MACJ,IAAK,KACDA,EAAW,0CACX,MACJ,IAAK,KACDA,EAAW,yCACX,MACJ,IAAK,KACDA,EAAW,kEACX,MACJ,IAAK,KACDA,EAAW,+FACX,MACJ,IAAK,KACDA,EAAW,6DACX,MACJ,IAAK,MACDA,EAAW,uCAInB,OAAOA,iBC7FX,SAAAqH,EACWnP,EACAoP,GADAvU,KAAAmF,KAAAA,EACAnF,KAAAuU,wBAAAA,EAEHvU,KAAKuU,0BACLvU,KAAKwU,UAAYxU,KAAKuU,wBAAwBE,UAC9CzU,KAAK0U,UAAY1U,KAAKuU,wBAAwBI,UAC9C3U,KAAK4U,MAAQ5U,KAAKuU,wBAAwBM,SAC1C7U,KAAK8U,SAAW9U,KAAKuU,wBAAwBQ,YAC7C/U,KAAKgV,UAAYhV,KAAKuU,wBAAwBU,WAC9CjV,KAAKkV,OAASlV,KAAKuU,wBAAwBY,kBAKnDzU,OAAAkI,eAAI0L,EAAAnT,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKwU,eAAgCY,IAAnBpV,KAAKwU,UAA2BxU,KAAKwU,UAAYxU,KAAKmF,KAAKK,QAAQ,sBAC9ExF,KAAKwU,2CAIhB9T,OAAAkI,eAAI0L,EAAAnT,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAK0U,eAAgCU,IAAnBpV,KAAK0U,UAA2B1U,KAAK0U,UAAY1U,KAAKmF,KAAKK,QAAQ,sBAC9ExF,KAAK0U,2CAIhBhU,OAAAkI,eAAI0L,EAAAnT,UAAA,OAAI,KAAR,WAEI,OADAnB,KAAK4U,WAAwBQ,IAAfpV,KAAK4U,MAAuB5U,KAAK4U,MAAQ5U,KAAKmF,KAAKK,QAAQ,kBAClExF,KAAK4U,uCAIhBlU,OAAAkI,eAAI0L,EAAAnT,UAAA,UAAO,KAAX,WAEI,OADAnB,KAAK8U,cAA8BM,IAAlBpV,KAAK8U,SAA0B9U,KAAK8U,SAAW9U,KAAKmF,KAAKK,QAAQ,qBAC3ExF,KAAK8U,0CAIhBpU,OAAAkI,eAAI0L,EAAAnT,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKgV,eAAgCI,IAAnBpV,KAAKgV,UAA2BhV,KAAKgV,UAAYhV,KAAKmF,KAAKK,QAAQ,iBAC9ExF,KAAKgV,2CAIhBtU,OAAAkI,eAAI0L,EAAAnT,UAAA,QAAK,KAAT,WAEI,OADAnB,KAAKkV,YAA0BE,IAAhBpV,KAAKkV,OAAwBlV,KAAKkV,OAASlV,KAAKmF,KAAKK,QAAQ,mBACrExF,KAAKkV,sXCjDhB,SAAAG,EACWlQ,EACAmQ,aADAtV,KAAAmF,KAAAA,EACAnF,KAAAsV,2BAAAA,EAcHtV,KAAAuV,eAAiB,SAACnP,GACtB,IAAIoP,EAAY,IAAIC,OAAO,+BAC3BrP,EAAQA,EAAMsP,OACd,IAAIC,EAAUH,EAAUI,KAAKxP,GAC7B,OAAgB,OAAZuP,GAAoBA,EAAQ5S,OAAS,EAC9B,IAAM4S,EAAQ,GAAK,KAAOA,EAAQ,GAAK,IAAMA,EAAQ,SAA4B,IAAfA,EAAQ,GAAqB,KAAOA,EAAQ,GAAK,IAAM,IAGzHvP,GApBPpG,KAAKsV,6BACLtV,KAAK6V,WAAwBT,IAAfpV,KAAK6V,MAAuB7V,KAAK6V,MAA0G,QAArG7P,EAAGhG,KAAKsV,2BAA2BQ,MAAK,SAAAC,GAAK,MAA0B,MAAzBA,EAAEC,oBAA8C,QAAhBD,EAAEE,oBAAqB,IAAAjQ,OAAA,EAAAA,EAAEkQ,QAC3JlW,KAAK6V,MAAS7V,KAAU,MAAIA,KAAKuV,eAAevV,KAAK6V,OAAS7V,KAAK6V,MAEnE7V,KAAKmW,eAAgCf,IAAnBpV,KAAKmW,UAA2BnW,KAAKmW,UAA+G,QAAtG1Q,EAAGzF,KAAKsV,2BAA2BQ,MAAK,SAAAC,GAAK,MAA0B,OAAzBA,EAAEC,oBAA+C,QAAhBD,EAAEE,oBAAqB,IAAAxQ,OAAA,EAAAA,EAAEyQ,QACxKlW,KAAKmW,UAAanW,KAAc,UAAIA,KAAKuV,eAAevV,KAAKmW,WAAanW,KAAKmW,UAE/EnW,KAAKoW,aAA4BhB,IAAjBpV,KAAKoW,QAAyBpW,KAAKoW,QAA6G,QAAtG/E,EAAGrR,KAAKsV,2BAA2BQ,MAAK,SAAAC,GAAK,MAA0B,OAAzBA,EAAEC,oBAA+C,QAAhBD,EAAEE,oBAAqB,IAAA5E,OAAA,EAAAA,EAAE6E,QAClKlW,KAAKoW,QAAWpW,KAAY,QAAIA,KAAKuV,eAAevV,KAAKoW,SAAWpW,KAAKoW,gBAgBjF1V,OAAAkI,eAAIyM,EAAAlU,UAAA,OAAI,KAAR,WAEI,OADAnB,KAAK6V,MAAuB,MAAd7V,KAAK6V,MAAiB7V,KAAK6V,MAAQ7V,KAAKmF,KAAKK,QAAQ,sBAC5DxF,KAAK6V,uCAGVR,EAAAlU,UAAAkV,UAAA,oHACFzM,EAAA5J,KAA4B,MAAdA,KAAK6V,MAAN,CAAA,EAAA,IAAuBS,EAAAtW,KAAK6V,oBAAQ,MAAA,CAAA,EAAM7V,KAAKmF,KAAKK,QAAQ,8BAAxB8Q,EAAAC,EAAAzU,wBACjD,OADA8H,EAAKiM,MAAKS,EACV,CAAA,EAAOtW,KAAK6V,eAIhBnV,OAAAkI,eAAIyM,EAAAlU,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKmW,UAA+B,MAAlBnW,KAAKmW,UAAqBnW,KAAKmW,UAAYnW,KAAKmF,KAAKK,QAAQ,uBACxExF,KAAKmW,2CAGVd,EAAAlU,UAAAqV,cAAA,oHACF5M,EAAA5J,KAAoC,MAAlBA,KAAKmW,UAAN,CAAA,EAAA,IAA2BG,EAAAtW,KAAKmW,wBAAY,MAAA,CAAA,EAAMnW,KAAKmF,KAAKK,QAAQ,+BAAxB8Q,EAAAC,EAAAzU,wBAC7D,OADA8H,EAAKuM,UAASG,EACd,CAAA,EAAOtW,KAAKmW,mBAIhBzV,OAAAkI,eAAIyM,EAAAlU,UAAA,SAAM,KAAV,WAEI,OADAnB,KAAKoW,QAA2B,MAAhBpW,KAAKoW,QAAmBpW,KAAKoW,QAAUpW,KAAKmF,KAAKK,QAAQ,uBAClExF,KAAKoW,yCAGVf,EAAAlU,UAAAsV,YAAA,oHACF7M,EAAA5J,KAAgC,MAAhBA,KAAKoW,QAAN,CAAA,EAAA,IAAyBE,EAAAtW,KAAKoW,sBAAU,MAAA,CAAA,EAAMpW,KAAKmF,KAAKK,QAAQ,+BAAxB8Q,EAAAC,EAAAzU,wBACvD,OADA8H,EAAKwM,QAAOE,EACZ,CAAA,EAAOtW,KAAKoW,iBAIhB1V,OAAAkI,eAAIyM,EAAAlU,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAK0W,KAAqB,MAAb1W,KAAK0W,KAAgB1W,KAAK0W,KAAO1W,KAAKmF,KAAKK,QAAQ,sBACzDxF,KAAK0W,sCAGVrB,EAAAlU,UAAAwV,SAAA,oHACF/M,EAAA5J,KAA0B,MAAbA,KAAK0W,KAAN,CAAA,EAAA,IAAsBJ,EAAAtW,KAAK0W,mBAAO,MAAA,CAAA,EAAM1W,KAAKmF,KAAKK,QAAQ,8BAAxB8Q,EAAAC,EAAAzU,wBAC9C,OADA8H,EAAK8M,KAAIJ,EACT,CAAA,EAAOtW,KAAK0W,gCCpEhB,SAAAE,EACWzR,GAAAnF,KAAAmF,KAAAA,SAGXzE,OAAAkI,eAAIgO,EAAAzV,UAAA,SAAM,KAAV,WAEI,OADAnB,KAAK6W,QAA2B,MAAhB7W,KAAK6W,QAAmB7W,KAAK6W,QAAU7W,KAAKmF,KAAKK,QAAQ,8BAClExF,KAAK6W,yCAGhBnW,OAAAkI,eAAIgO,EAAAzV,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAK8W,aAAqC,MAArB9W,KAAK8W,aAAwB9W,KAAK8W,aAAe9W,KAAKmF,KAAKK,QAAQ,2BACjFxF,KAAK8W,8CAGhBpW,OAAAkI,eAAIgO,EAAAzV,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAK0W,KAAqB,MAAb1W,KAAK0W,KAAgB1W,KAAK0W,KAAO1W,KAAKmF,KAAKK,QAAQ,2BACzDxF,KAAK0W,sCAGhBhW,OAAAkI,eAAIgO,EAAAzV,UAAA,QAAK,KAAT,WAEI,OADAnB,KAAK+W,OAAyB,MAAf/W,KAAK+W,OAAkB/W,KAAK+W,OAAS/W,KAAKmF,KAAKK,QAAQ,6BAC/DxF,KAAK+W,wCAGhBrW,OAAAkI,eAAIgO,EAAAzV,UAAA,SAAM,KAAV,WAEI,OADAnB,KAAKoW,QAA2B,MAAhBpW,KAAKoW,QAAmBpW,KAAKoW,QAAUpW,KAAKmF,KAAKK,QAAQ,4BAClExF,KAAKoW,2DCxBhB,SAAAY,EACW7R,GAAAnF,KAAAmF,KAAAA,EAHHnF,KAAAuT,OAAS,IAAIqD,EAAuB5W,KAAKmF,aAOjDzE,OAAAkI,eAAIoO,EAAA7V,UAAA,sBAAmB,KAAvB,WAEI,OADAnB,KAAKiX,qBAAqD,MAA7BjX,KAAKiX,qBAAgCjX,KAAKiX,qBAAuBjX,KAAKmF,KAAKK,QAAQ,qBACzGxF,KAAKiX,sDAGhBvW,OAAAkI,eAAIoO,EAAA7V,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAKkX,WAAiC,MAAnBlX,KAAKkX,WAAsBlX,KAAKkX,WAAalX,KAAKmF,KAAKK,QAAQ,4BAC3ExF,KAAKkX,4CAGhBxW,OAAAkI,eAAIoO,EAAA7V,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKmX,UAA+B,MAAlBnX,KAAKmX,UAAqBnX,KAAKmX,UAAYnX,KAAKmF,KAAKK,QAAQ,2BACxExF,KAAKmX,2CAGhBzW,OAAAkI,eAAIoO,EAAA7V,UAAA,QAAK,KAAT,WAEI,OADAnB,KAAKoX,OAAyB,MAAfpX,KAAKoX,OAAkBpX,KAAKoX,OAASpX,KAAKmF,KAAKK,QAAQ,+BAC/DxF,KAAKoX,wCAGhB1W,OAAAkI,eAAIoO,EAAA7V,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAKqX,aAAqC,MAArBrX,KAAKqX,aAAwBrX,KAAKqX,aAAerX,KAAKmF,KAAKK,QAAQ,0BACjFxF,KAAKqX,8CAGhB3W,OAAAkI,eAAIoO,EAAA7V,UAAA,QAAK,KAAT,WACI,OAAOnB,KAAKuT,6CCtCpB+D,EAAA,WAoCI,SAAAA,EACW5G,EACA6G,GADAvX,KAAA0Q,QAAAA,EACA1Q,KAAAuX,WAAAA,EApCFvX,KAAAwX,mBAAqB/G,EAAmBzQ,KAAK0Q,SAC7C1Q,KAAAyX,OAAiB,oBAGjBzX,KAAA0X,sBAAgC1X,KAAa,SAmClDA,KAAK0Q,QAAsB,aAAI1Q,KAAK6I,mBA/BxCnI,OAAAkI,eAAI0O,EAAAnW,UAAA,WAAQ,KAAZ,WACI,GAAuB,aAAnBnB,KAAK2X,UAGT,OAAI3X,KAAK2X,YAIT3X,KAAK2X,UAAY3X,KAAK2X,UAAY3X,KAAK2X,UAChC3X,KAAK0Q,QAAQkH,QAAU5X,KAAK0Q,QAAQkH,OAAOC,SAAY7X,KAAK0Q,QAAQkH,OAAOC,SACxE7X,KAAK0Q,QAAQmH,cACYzC,IAA/BpV,KAAK2X,UAAUG,cAEf9X,KAAK2X,UAAY3X,KAAKuX,WAAWQ,oBAR1B/X,KAAK2X,2CAcpBjX,OAAAkI,eAAI0O,EAAAnW,UAAA,cAAW,KAAf,WAII,OAHAnB,KAAKgY,aAAuC,MAAvBhY,KAAK0Q,QAAQkH,QAAyDxC,MAAvCpV,KAAK0Q,QAAQkH,OAAqB,aAAkB5X,KAAK0Q,QAAQkH,OAAqB,aACnI5X,KAAiB,aAAIA,KAAKgY,aACvB7Q,EAAO0B,YACV7I,KAAKgY,gDAjCpB,iBCQI,SAAAC,EACWvH,EACA6G,GAFX,IAAAzT,EAIIkF,EAAArG,KAAA3C,KAAM0Q,EAAS6G,IAAWvX,YAHnB8D,EAAA4M,QAAAA,EACA5M,EAAAyT,WAAAA,EARHzT,EAAAoU,cAAgB,oBAChBpU,EAAAqU,uBAAyB,8BAGxBrU,EAAA2T,OAAiB,oBAWlB3T,EAAAsU,eAAiB,WACrB,GAAI3H,EAAmB3M,EAAK4M,SAAU,CAClC,IACI5M,EAAKmB,IAAM,IAAInB,EAAK4M,QAAQ2H,cAAcvU,EAAKoU,eACjD,MAAOjV,GACLa,EAAKwU,aAAe3H,EAAuB7M,EAAKoU,cAAejV,GAGnE,GAAyB,MAArBa,EAAKwU,aACL,IACIxU,EAAKmB,IAAM,IAAInB,EAAK4M,QAAQ2H,cAAcvU,EAAKqU,wBAC/ChR,EAAO0B,aAAc,EACvB,MAAO5F,GACL2C,QAAQiK,IAAI/L,EAAKwU,iBAOjCxU,EAAA0B,QAAU,SAACpB,GACP,OAAQN,EAAa,SAAIA,EAAK+T,SAASU,YAAYnU,GAAM,GAAUN,EAAQ,IAAIA,EAAKmB,IAAIuT,KAAKpU,GAASN,EAAK2T,QAG/G3T,EAAAwO,gBAAkB,SAACmG,EAAa5V,EAAeoF,GAC3C,OAAoB,MAAZnE,EAAKmB,IAAenB,EAAK2T,OAAS3T,EAAKmB,IAAIyT,OAAOD,EAAK5V,EAAOoF,IAG1EnE,EAAAgP,OAAS,SAACH,EAAoBvO,GAC1B,OAAoB,MAAZN,EAAKmB,IAAenB,EAAK2T,OAAwB,GAAb9E,EAAqB7O,EAAKmB,IAAIyT,OAAOtU,EAAM,GAAI,IAAMN,EAAKmB,IAAI0T,QAAQvU,IAGtHN,EAAA8U,cAAgB,SAACC,GACb/U,EAAK0B,QAAQ,kBAAoBqT,EAAM,eApCvC/U,EAAKsU,0BAdepX,EAAAiX,EAAAjP,GAqDxBtI,OAAAkI,eAAIqP,EAAA9W,UAAA,oBAAiB,KAArB,WACI,OAAoB,MAAZnB,KAAKiF,IAAejF,KAAKyX,OAASzX,KAAKiF,IAAI4S,6CAtD/BP,iBCMxB,SAAAwB,EACWpI,EACA6G,GAFX,IAAAzT,EAIIkF,EAAArG,KAAA3C,KAAM0Q,EAAS6G,IAAWvX,YAHnB8D,EAAA4M,QAAAA,EACA5M,EAAAyT,WAAAA,EANHzT,EAAAiV,cAAgB,4BAChBjV,EAAAkV,uBAAyB,sCAYzBlV,EAAAsU,eAAiB,WACrB,GAAItU,EAAK0T,mBAAoB,CACzB,IACI1T,EAAKmV,IAAM,IAAInV,EAAK4M,QAAQ2H,cAAcvU,EAAKiV,eAC/CjV,EAAKmV,IAAIC,YAAYpV,EAAK4M,QAAQmH,SAAmB,UACvD,MAAO5U,GACLa,EAAKwU,aAAe3H,EAAuB7M,EAAKiV,cAAe9V,GAGnE,GAAyB,MAArBa,EAAKwU,aACL,IACIxU,EAAKmV,IAAM,IAAInV,EAAK4M,QAAQ2H,cAAcvU,EAAKkV,wBAC/C7R,EAAO0B,aAAc,EACvB,MAAO5F,GACLa,EAAKwU,aAAe3H,EAAuB7M,EAAKiV,cAAe9V,GAC/DkK,MAAMrJ,EAAKwU,iBAc3BxU,EAAA8U,cAAgB,SAACC,GACb,OAAoB,MAAZ/U,EAAKmV,IAAenV,EAAK2T,OAAS3T,EAAKmV,IAAIE,cAAcN,IAjCjE/U,EAAKsU,0BAZepX,EAAA8X,EAAA9P,GAoCxBtI,OAAAkI,eAAIkQ,EAAA3X,UAAA,eAAY,KAAhB,WACI,OAAoB,MAAZnB,KAAKiZ,IAAejZ,KAAKyX,OAASzX,KAAKiZ,IAAIG,8CAGvD1Y,OAAAkI,eAAIkQ,EAAA3X,UAAA,kBAAe,KAAnB,WACI,OAAoB,MAAZnB,KAAKiZ,IAAejZ,KAAKyX,OAASzX,KAAKiZ,IAAII,iDAOvD3Y,OAAAkI,eAAIkQ,EAAA3X,UAAA,oBAAiB,KAArB,WACI,OAAoB,MAAZnB,KAAKiZ,IAAejZ,KAAKyX,OAASzX,KAAKiZ,IAAIpB,6CAjD/BP,KCCxB,SACWnS,EACAmU,EACA5I,EACA6I,GAJX,IAAAzV,EAAA9D,KACWA,KAAAmF,KAAAA,EACAnF,KAAAsZ,KAAAA,EACAtZ,KAAA0Q,QAAAA,EACA1Q,KAAAuZ,UAAAA,EAGXvZ,KAAAwZ,WAAa,SAACX,GACR/J,EAAe+J,EAAIY,eAAgBpK,WAAW,iBAAoBvL,EAAKqB,KAAKyT,cAAcC,GAAO/U,EAAKwV,KAAKV,cAAcC,IAQ/H7Y,KAAA0Z,KAAO,SAACb,EAAa3W,EAAcoG,EAAgBqR,EAAkBvV,GACjE,IAAIwV,EAAwB9V,EAAKyV,UAAUM,cAAc,QAIzD,GAHAD,EAAKE,OAASjB,EACde,EAAKG,OAAS7X,GAAQ,MACtB0X,EAAKtR,OAASA,GAAU,QACpBlE,EACA,IAAK,IAAI4C,KAAO5C,EAAM,CAClB,IAAI4V,EAA6BlW,EAAKyV,UAAUM,cAAc,YAC9DG,EAAM5Z,KAAO4G,EACbgT,EAAMnX,MAA8B,iBAAduB,EAAK4C,GAAqBiT,KAAKC,UAAU9V,EAAK4C,IAAQ5C,EAAK4C,GACjF4S,EAAKO,YAAYH,GAGzBJ,EAAKQ,MAAMC,QAAU,OACrBvW,EAAKyV,UAAUhY,KAAK4Y,YAAYP,GAChC,IAAIlJ,EAAU5M,EAAK4M,QAAQgJ,KAAK,cAAepR,EAAQqR,GAEvD,OADAC,EAAKU,SACE5J,IChCf6J,EAgCI,SACWC,GADX,IAAA1W,EAAA9D,KAGI,GAFOA,KAAAwa,KAAAA,EAqCXxa,KAAAya,OAAS,WAAgB,OAAO3W,EAAK4W,OAnC7BF,EAAM,CACNxa,KAAK0a,MAAQF,EACb,IAAIG,EAAMV,KAAKW,MAAMJ,GACrBxa,KAAK6a,oBAAsBF,EAAIE,oBAC/B7a,KAAK8a,YAAcH,EAAIG,YACvB9a,KAAK+a,sBAAwBJ,EAAII,sBACjC/a,KAAKgb,mBAAqBL,EAAIK,mBAC9Bhb,KAAKib,4BAA8BN,EAAIM,4BACvCjb,KAAKkb,cAAgBP,EAAIO,cACzBlb,KAAKmb,aAAeR,EAAIQ,aACxBnb,KAAKob,iBAAmBT,EAAIS,iBAC5Bpb,KAAKqb,0BAA4BV,EAAIU,0BACrCrb,KAAKsb,gBAAkBX,EAAIW,gBAC3Btb,KAAKub,eAAiBZ,EAAIY,eAC1Bvb,KAAKwb,oBAAsBrU,EAAOC,OAAOuT,EAAIa,qBAC7Cxb,KAAKyb,6BAA+Bd,EAAIc,6BACxCzb,KAAK0b,mBAAqBf,EAAIe,mBAC9B1b,KAAK2b,yBAA2BhB,EAAIgB,yBACpC3b,KAAK4b,kCAAoCjB,EAAIiB,kCAC7C5b,KAAK6b,eAAiBlB,EAAIkB,eAC1B7b,KAAK8b,wBAA0BnB,EAAImB,wBACnC9b,KAAK+b,aAAepB,EAAIoB,aACxB/b,KAAKgc,WAAarB,EAAIqB,WACtBhc,KAAKic,oBAAsBtB,EAAIsB,oBAC/Bjc,KAAKkc,eAAiB/U,EAAOK,QAAQmT,EAAIuB,gBACzClc,KAAKmc,OAASxB,EAAIwB,OAClBnc,KAAKoc,UAAYzB,EAAIyB,UACrBpc,KAAKqc,kBAAoB1B,EAAI0B,kBAC7Brc,KAAKsc,gCAAkC3B,EAAI2B,gCAC3Ctc,KAAKuc,iBAAmB5B,EAAI4B,iBAC5Bvc,KAAKwc,WAAa7B,EAAI6B,WACtBxc,KAAKyc,QAAU9B,EAAI8B,UCvE/BC,EAAA,WAAA,SAAAA,YA6DWA,EAAAC,aAAP,SACIC,GAEA,IAAIC,EAAqB,IAAIH,EA8D7B,OA7DIE,IACAC,EAAmBrO,eAAiBrH,EAAOC,OAAOwV,EAAKpO,gBACvDqO,EAAmBC,wBAA0BF,EAAKE,wBAClDD,EAAmBE,eAAiBH,EAAKG,eACzCF,EAAmBG,0BAA4BJ,EAAKI,0BACpDH,EAAmBpO,gBAAkBmO,EAAKnO,gBAC1CoO,EAAmBI,sBAAwBL,EAAKK,sBAChDJ,EAAmBK,yBAA2BN,EAAKM,yBACnDL,EAAmBvO,SAAWsO,EAAKtO,SACnCuO,EAAmBM,UAAYP,EAAKO,UACpCN,EAAmBO,aAAeR,EAAKQ,aACvCP,EAAmB9Q,eAAiB5E,EAAOC,OAAOwV,EAAK7Q,gBACvD8Q,EAAmBQ,wBAA0BT,EAAKS,wBAClDR,EAAmBnO,UAAYkO,EAAKlO,UACpCmO,EAAmBS,SAAWV,EAAKU,SACnCT,EAAmBU,kBAAoBX,EAAKW,kBAC5CV,EAAmBW,UAAYZ,EAAKY,UACpCX,EAAmBjP,aAAegP,EAAKhP,aACvCiP,EAAmBY,mBAAqBb,EAAKa,mBAC7CZ,EAAmBa,sBAAwBd,EAAKc,sBAChDb,EAAmBc,WAAaf,EAAKe,WACrCd,EAAmBe,oBAAsBhB,EAAKgB,oBAC9Cf,EAAmB/O,SAAW8O,EAAK9O,SACnC+O,EAAmBgB,eAAiBjB,EAAKiB,eACzChB,EAAmBiB,kBAAoBlB,EAAKkB,kBAC5CjB,EAAmBkB,cAAgB5W,EAAOC,OAAOwV,EAAKmB,eACtDlB,EAAmBmB,uBAAyBpB,EAAKoB,uBACjDnB,EAAmBjO,SAAWgO,EAAKhO,SACnCiO,EAAmBoB,mBAAqB9W,EAAOC,OAAOwV,EAAKqB,oBAC3DpB,EAAmBqB,4BAA8BtB,EAAKsB,4BACtDrB,EAAmBsB,cAAgBvB,EAAKuB,cACxCtB,EAAmBuB,cAAgBxB,EAAKwB,cACxCvB,EAAmBwB,uBAAyBzB,EAAKyB,uBACjDxB,EAAmBpP,UAAYmP,EAAKnP,UACpCoP,EAAmByB,SAAW1B,EAAK0B,SACnCzB,EAAmBlO,WAAaiO,EAAKjO,WACrCkO,EAAmB0B,aAAe3B,EAAK2B,aACvC1B,EAAmB5O,IAAM2O,EAAK3O,IAC9B4O,EAAmB2B,QAAU5B,EAAK4B,QAClC3B,EAAmBzW,MAAQwW,EAAKxW,MAChCyW,EAAmB4B,QAAU7B,EAAK6B,QAClC5B,EAAmB6B,UAAY9B,EAAK8B,UACpC7B,EAAmB8B,mBAAqB/B,EAAK+B,mBAC7C9B,EAAmB+B,YAAchC,EAAKgC,YACtC/B,EAAmBgC,aAAejC,EAAKiC,aACvChC,EAAmBiC,WAAalC,EAAKkC,WACrCjC,EAAmBkC,oBAAsBnC,EAAKmC,oBAC9ClC,EAAmB7N,OAAS4N,EAAK5N,OACjC6N,EAAmBmC,gBAAkBpC,EAAKoC,gBAC1CnC,EAAmBoC,SAAWrC,EAAKqC,SACnCpC,EAAmB9O,UAAY6O,EAAK7O,UACpC8O,EAAmBqC,gBAAkBtC,EAAKsC,gBAC1CrC,EAAmBsC,mBAAqBvC,EAAKuC,mBAC7CtC,EAAmBuC,IAAMxC,EAAKwC,IAC9BvC,EAAmBwC,UAAYzC,EAAKyC,UACpCxC,EAAmB7Y,OAAS4Y,EAAK5Y,OACjC6Y,EAAmByC,iBAAmB1C,EAAK0C,iBAC3CzC,EAAmB0C,qBAAuB3C,EAAK2C,qBAC/C1C,EAAmB2C,WAAa5C,EAAK4C,WACrC3C,EAAmB4C,KAAO7C,EAAK6C,MAE5B5C,KA9Hf,GCCA6C,EAoEI,SACI9C,GAEA5c,KAAK2f,SAAW/C,EAAK+C,SACrB3f,KAAK4f,eAAiBhD,EAAKgD,eAC3B5f,KAAK6f,wBAA0BjD,EAAKiD,wBACpC7f,KAAK8f,UAAYlD,EAAKkD,UACtB9f,KAAK+f,SAAWnD,EAAKmD,SACrB/f,KAAKggB,eAAiBpD,EAAKoD,eAC3BhgB,KAAKigB,OAASrD,EAAKqD,OACnBjgB,KAAKkgB,gBAAkBtD,EAAKsD,gBAC5BlgB,KAAKmgB,aAAehZ,EAAOC,OAAOwV,EAAKuD,cACvCngB,KAAKogB,sBAAwBxD,EAAKwD,sBAClCpgB,KAAKqgB,cAAgBlZ,EAAOC,OAAOwV,EAAKyD,eACxCrgB,KAAKsgB,uBAAyB1D,EAAK0D,uBACnCtgB,KAAKoJ,YAAcwT,EAAKxT,YACxBpJ,KAAKugB,eAAiB3D,EAAK2D,eAC3BvgB,KAAKwgB,WAAa5D,EAAK4D,WACvBxgB,KAAKygB,oBAAsB7D,EAAK6D,oBAChCzgB,KAAKod,aAAeR,EAAKQ,aACzBpd,KAAK0gB,aAAe9D,EAAK8D,aACzB1gB,KAAK2gB,aAAe/D,EAAK+D,aACzB3gB,KAAK4gB,sBAAwBhE,EAAKgE,sBAClC5gB,KAAK6gB,0BAA4BjE,EAAKiE,0BACtC7gB,KAAK8gB,oBAAsBlE,EAAKkE,oBAChC9gB,KAAK+gB,GAAKnE,EAAKmE,GACf/gB,KAAKghB,KAAOpE,EAAKoE,KACjBhhB,KAAKihB,WAAarE,EAAKqE,WACvBjhB,KAAKkhB,KAAOtE,EAAKsE,KACjBlhB,KAAKmhB,sBAAwBvE,EAAKuE,sBAClCnhB,KAAKohB,+BAAiCxE,EAAKwE,+BAC3CphB,KAAKqhB,eAAiBzE,EAAKyE,eAC3BrhB,KAAKI,KAAOwc,EAAKxc,KACjBJ,KAAKshB,WAAa1E,EAAK0E,WACvBthB,KAAKuhB,WAAa3E,EAAK2E,WACvBvhB,KAAKwhB,UAAYra,EAAOC,OAAOwV,EAAK4E,WACpCxhB,KAAKyhB,mBAAqB7E,EAAK6E,mBAC/BzhB,KAAK0hB,MAAQ9E,EAAK8E,MAClB1hB,KAAK2hB,eAAiB/E,EAAK+E,eAC3B3hB,KAAK4hB,wBAA0BhF,EAAKgF,wBACpC5hB,KAAK6hB,aAAejF,EAAKiF,aACzB7hB,KAAK8hB,sBAAwBlF,EAAKkF,sBAClC9hB,KAAK+hB,SAAWnF,EAAKmF,SACrB/hB,KAAKgiB,QAAUpF,EAAKoF,QACpBhiB,KAAKiiB,iBAAmBrF,EAAKqF,iBAC7BjiB,KAAKkiB,QAAUtF,EAAKsF,QACpBliB,KAAKmiB,cAAgBzF,EAAmBC,aAAaC,EAAKuF,eAC1DniB,KAAKoiB,iBAAmBxF,EAAKwF,iBAC7BpiB,KAAKqiB,KAAOzF,EAAKyF,KACjBriB,KAAKsiB,KAAO1F,EAAK0F,KACjBtiB,KAAKgP,OAAS4N,EAAK5N,OACnBhP,KAAKgf,gBAAkBpC,EAAKoC,gBAC5Bhf,KAAKuiB,eAAiB3F,EAAK2F,eAC3BviB,KAAKwiB,oBAAsB5F,EAAK4F,oBAChCxiB,KAAKyiB,6BAA+B7F,EAAK6F,6BACzCziB,KAAKkQ,SAAW0M,EAAK1M,SACrBlQ,KAAK0iB,MAAQ9F,EAAK8F,MAClB1iB,KAAK2iB,SAAW/F,EAAK+F,SACrB3iB,KAAK4iB,kBAAoBhG,EAAKgG,kBAC9B5iB,KAAK6iB,SAAW1b,EAAOC,OAAOwV,EAAKiG,UACnC7iB,KAAK8iB,kBAAoBlG,EAAKkG,kBAC9B9iB,KAAK+iB,WAAanG,EAAKmG,WACvB/iB,KAAKgjB,WAAatG,EAAmBC,aAAaC,EAAKoG,YACvDhjB,KAAKijB,OAASrG,EAAKqG,OACnBjjB,KAAKkjB,gBAAkBtG,EAAKsG,gBAC5BljB,KAAKmjB,WAAavG,EAAKuG,WACvBnjB,KAAKojB,oBAAsBxG,EAAKwG,oBAChCpjB,KAAKqjB,SAAWzG,EAAKyG,SACrBrjB,KAAKsjB,kBAAoB1G,EAAK0G,mBCvItCC,EAAA,WAAA,SAAAA,YAwEWA,EAAA5G,aAAP,SACIC,GAEA,IAAI4G,EAAkB,IAAID,EAwE1B,OAvEAC,EAAgBzD,SAAWnD,EAAKmD,SAChCyD,EAAgBxD,eAAiBpD,EAAKoD,eACtCwD,EAAgBC,cAAgB7G,EAAK6G,cACrCD,EAAgBE,eAAiB9G,EAAK8G,eACtCF,EAAgBvD,OAASrD,EAAKqD,OAC9BuD,EAAgB/e,KAAOmY,EAAKnY,KAC5B+e,EAAgBG,WAAa/G,EAAK+G,WAClCH,EAAgBI,QAAUhH,EAAKgH,QAC/BJ,EAAgBrD,aAAehZ,EAAOC,OAAOwV,EAAKuD,cAClDqD,EAAgBpD,sBAAwBxD,EAAKwD,sBAC7CoD,EAAgBnD,cAAgBlZ,EAAOC,OAAOwV,EAAKyD,eACnDmD,EAAgBlD,uBAAyB1D,EAAK0D,uBAC9CkD,EAAgBpa,YAAcwT,EAAKxT,YACnCoa,EAAgBjD,eAAiB3D,EAAK2D,eACtCiD,EAAgBpG,aAAeR,EAAKQ,aACpCoG,EAAgB9C,aAAe9D,EAAK8D,aACpC8C,EAAgBK,sBAAwBjH,EAAKiH,sBAC7CL,EAAgBM,sBAAwBlH,EAAKkH,sBAC7CN,EAAgBO,sBAAwBnH,EAAKmH,sBAC7CP,EAAgBQ,+BAAiCpH,EAAKoH,+BACtDR,EAAgBS,eAAiBrH,EAAKqH,eACtCT,EAAgBU,sBAAwBtH,EAAKsH,sBAC7CV,EAAgBW,+BAAiCvH,EAAKuH,+BACtDX,EAAgBY,gBAAkBxH,EAAKwH,gBACvCZ,EAAgBa,uBAAyBzH,EAAKyH,uBAC9Cb,EAAgBc,gCAAkC1H,EAAK0H,gCACvDd,EAAgBe,gBAAkBpd,EAAOC,OAAOwV,EAAK2H,iBACrDf,EAAgBgB,yBAA2B5H,EAAK4H,yBAChDhB,EAAgBiB,uBAAyB7H,EAAK6H,uBAC9CjB,EAAgBkB,gCAAkC9H,EAAK8H,gCACvDlB,EAAgBmB,sCAAwC/H,EAAK+H,sCAC7DnB,EAAgBhC,UAAYra,EAAOC,OAAOwV,EAAK4E,WAC/CgC,EAAgB/B,mBAAqB7E,EAAK6E,mBAC1C+B,EAAgB7B,eAAiB/E,EAAK+E,eACtC6B,EAAgB5B,wBAA0BhF,EAAKgF,wBAC/C4B,EAAgB3B,aAAejF,EAAKiF,aACpC2B,EAAgB1B,sBAAwBlF,EAAKkF,sBAC7C0B,EAAgBzB,SAAWnF,EAAKmF,SAChCyB,EAAgBoB,SAAWhI,EAAKgI,SAChCpB,EAAgBqB,kBAAoBjI,EAAKiI,kBACzCrB,EAAgBsB,UAAYlI,EAAKkI,UACjCtB,EAAgBuB,mBAAqBnI,EAAKmI,mBAC1CvB,EAAgBxB,QAAUpF,EAAKoF,QAC/BwB,EAAgBvB,iBAAmBrF,EAAKqF,iBACxCuB,EAAgBtB,QAAUtF,EAAKsF,QAC/BsB,EAAgBrB,cAAgBzF,EAAmBC,aAAaC,EAAKuF,eACrEqB,EAAgBpB,iBAAmBxF,EAAKwF,iBACxCoB,EAAgBwB,UAAYpI,EAAKoI,UACjCxB,EAAgBxU,OAAS4N,EAAK5N,OAC9BwU,EAAgBxE,gBAAkBpC,EAAKoC,gBACvCwE,EAAgBjB,eAAiB3F,EAAK2F,eACtCiB,EAAgBhB,oBAAsB5F,EAAK4F,oBAC3CgB,EAAgBf,6BAA+B7F,EAAK6F,6BACpDe,EAAgByB,mBAAqBrI,EAAKqI,mBAC1CzB,EAAgB0B,4BAA8BtI,EAAKsI,4BACnD1B,EAAgB2B,iBAAmBvI,EAAKuI,iBACxC3B,EAAgB4B,wBAA0BxI,EAAKwI,wBAC/C5B,EAAgB6B,iCAAmCzI,EAAKyI,iCACxD7B,EAAgBX,SAAW1b,EAAOC,OAAOwV,EAAKiG,UAC9CW,EAAgBV,kBAAoBlG,EAAKkG,kBACzCU,EAAgBT,WAAanG,EAAKmG,WAClCS,EAAgBR,WAAatG,EAAmBC,aAAaC,EAAKoG,YAClEQ,EAAgB8B,QAAU1I,EAAK0I,QAC/B9B,EAAgB+B,iBAAmB3I,EAAK2I,iBACxC/B,EAAgBP,OAASrG,EAAKqG,OAC9BO,EAAgBN,gBAAkBtG,EAAKsG,gBACvCM,EAAgBL,WAAavG,EAAKuG,WAClCK,EAAgBJ,oBAAsBxG,EAAKwG,oBAC3CI,EAAgBH,SAAWzG,EAAKyG,SAChCG,EAAgBF,kBAAoB1G,EAAK0G,kBAElCE,KAnJf,GCFAgC,GAAA,SAAAxc,GAGI,SAAAwc,EAAmBhL,QAAA,IAAAA,IAAAA,EAAA,MAAnB,IAAA1W,EAAAkF,EAAAnB,MAAA7H,KAAA0D,EACcuW,KAAKW,MAAMJ,GAAaiL,KAAI,SAAAxiB,GAAK,OAAA,IAAIyc,EAAgBzc,SAAGjD,YADnD8D,EAAA0W,KAAAA,WAHgBxZ,EAAAwkB,EAAAxc,KAAvC,CAAuCnI,UCMnC,SACWqF,GAAAlG,KAAAkG,OAAAA,EAPHlG,KAAAoE,KAAsC,MAAfpE,KAAKkG,OAAkB,GAAKlG,KAAKkG,OAAOD,MAAM,KAE7EjG,KAAAI,KAAgBJ,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACvDpE,KAAA6C,MAAiB7C,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,GACxDpE,KAAAiI,KAAgBjI,KAAKoE,KAAKrB,OAAS,EAAK/C,KAAKoE,KAAK,GAAK,gVCD3D,SAAAshB,IAAA,IAAA5hB,EAAAkF,EAAAnB,MAAA7H,KAAA0D,EAAAC,aAAA3D,YACY8D,EAAA6hB,WAAY,EAMpB7hB,EAAA8hB,KAAO,SAAC3gB,GACCnB,EAAK6hB,YAEN7hB,EAAKwN,SAASrM,GAEdnB,EAAK+hB,KAAK5gB,GAEVnB,EAAK0N,SAASvM,GAEdnB,EAAK6hB,WAAY,IAIzB7hB,EAAAgiB,UAAY,SAAO7gB,GAAW,OAAA8gB,GAAAjiB,OAAA,OAAA,GAAA,oEACrB9D,KAAK2lB,UAAN,CAAA,EAAA,GAEA,CAAA,EAAM3lB,KAAKgmB,cAAc/gB,WAEzB,OAFAe,EAAAlE,OAEA,CAAA,EAAM9B,KAAKimB,UAAUhhB,WAErB,OAFAe,EAAAlE,OAEA,CAAA,EAAM9B,KAAKkmB,cAAcjhB,WAAzBe,EAAAlE,OAEA9B,KAAK2lB,WAAY,qCAIjB7hB,EAAAwN,SAAW,SAACrM,GAChBnB,EAAKqiB,sBAAuD,MAA9BriB,EAAKqiB,sBAAiCriB,EAAKqiB,sBAAwBlhB,EAAIO,QAAQ,yCAC7G1B,EAAKsiB,kBAAkBtiB,EAAKqiB,sBAAuBriB,EAAKuiB,iBAG5DviB,EAAAkiB,cAAgB,SAAO/gB,GAAW,OAAA8gB,GAAAjiB,OAAA,OAAA,GAAA,4EAC9BkC,EAAAhG,KAA4D,MAA9BA,KAAKmmB,sBAAN,CAAA,EAAA,IAAuC1gB,EAAAzF,KAAKmmB,oCAAwB,MAAA,CAAA,EAAMlhB,EAAIO,QAAQ,iDAAlBC,EAAA4L,EAAAvP,+BAAjGkE,EAAKmgB,sBAAqB1gB,EAC1BzF,KAAKomB,kBAAkBpmB,KAAKmmB,sBAAuBnmB,KAAKqmB,4BAGpDviB,EAAA+hB,KAAO,SAAC5gB,GACZnB,EAAKwiB,kBAA+C,MAA1BxiB,EAAKwiB,kBAA6BxiB,EAAKwiB,kBAAoBrhB,EAAIO,QAAQ,uCACjG1B,EAAKsiB,kBAAkBtiB,EAAKwiB,kBAAmBxiB,EAAKyiB,aAGxDziB,EAAAmiB,UAAY,SAAOhhB,GAAW,OAAA8gB,GAAAjiB,OAAA,OAAA,GAAA,4EAC1BkC,EAAAhG,KAAoD,MAA1BA,KAAKsmB,kBAAN,CAAA,EAAA,IAAmC7gB,EAAAzF,KAAKsmB,gCAAoB,MAAA,CAAA,EAAMrhB,EAAIO,QAAQ,+CAAlBC,EAAA4L,EAAAvP,+BAArFkE,EAAKsgB,kBAAiB7gB,EACtBzF,KAAKomB,kBAAkBpmB,KAAKsmB,kBAAmBtmB,KAAKumB,wBAGhDziB,EAAA0N,SAAW,SAACvM,GAChBnB,EAAK0iB,sBAAuD,MAA9B1iB,EAAK0iB,sBAAiC1iB,EAAK0iB,sBAAwBvhB,EAAIO,QAAQ,2CAC7G1B,EAAK2iB,2BAA2B3iB,EAAK0iB,sBAAuB1iB,EAAK4iB,iBAGrE5iB,EAAAoiB,cAAgB,SAAMjhB,GAAW,OAAA8gB,GAAAjiB,OAAA,OAAA,GAAA,4EAC7BkC,EAAAhG,KAA4D,MAA9BA,KAAKwmB,sBAAN,CAAA,EAAA,IAAuC/gB,EAAAzF,KAAKwmB,oCAAwB,MAAA,CAAA,EAAMvhB,EAAIO,QAAQ,mDAAlBC,EAAA4L,EAAAvP,+BAAjGkE,EAAKwgB,sBAAqB/gB,EAC1BzF,KAAKymB,2BAA2BzmB,KAAKwmB,sBAAuBxmB,KAAK0mB,4BAG7D5iB,EAAAsiB,kBAAoB,SAAChiB,EAAcuiB,GAEvC,IADA,IAAIxX,EAAYL,EAAe1K,GAAM6K,SAC5BkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CrN,EAAKd,KAAK2jB,EAAUxX,EAAUgC,MAI9BrN,EAAA2iB,2BAA6B,SAACriB,EAAcuiB,GAEhD,IADA,IAAIxX,EAAYL,EAAe1K,GAAM6K,oBAC5BkC,GACL,IAAIpI,EAAU4d,EAAUxX,EAAUgC,IAClCrN,EAAKiD,SAAQ,SAAClE,GACNA,EAAMsG,YAAcJ,EAAQI,YAC5BtG,EAAMmB,OAASjE,EAAAA,aAAa6mB,YAGpC9iB,EAAKd,KAAK+F,IAPLoI,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,MAArCA,IAYbrN,EAAAuiB,eAAiB,SAACxjB,GACd,IAAIuB,EAAgC,MAATvB,EAAiB,GAAKA,EAAMoD,MAAM,KACzD8C,EAAmB,IAAID,EAI3B,OAFAC,EAAUjF,EAAK+iB,wBAAwBziB,EAAM2E,IAKjDjF,EAAAyiB,WAAa,SAAC1jB,GACV,IAAIuB,EAAgC,MAATvB,EAAiB,GAAKA,EAAMoD,MAAM,KACzD8C,EAAmB,IAAID,EAK3B,OAJAC,EAAQ/E,OAASjE,EAAAA,aAAa8F,MAE9BkD,EAAUjF,EAAK+iB,wBAAwBziB,EAAM2E,IAKjDjF,EAAA4iB,eAAiB,SAAC7jB,GACd,IAAIuB,EAAgC,MAATvB,EAAiB,GAAKA,EAAMoD,MAAM,KACzD8C,EAAmB,IAAID,EAK3B,OAJAC,EAAQ/E,OAASjE,EAAAA,aAAagG,QAE9BgD,EAAUjF,EAAK+iB,wBAAwBziB,EAAM2E,IAKjDjF,EAAA+iB,wBAA0B,SAACziB,EAAqB2E,GAC5CA,EAAQ5C,KAAQ/B,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GAC7C2E,EAAQK,YAAehF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GACpD2E,EAAQM,SAAYjF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GACjD2E,EAAQO,QAAWlF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GAChD2E,EAAQc,UAAYiF,EAAgB1K,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,IAAIgD,SACrE2B,EAAQe,SAAWgF,EAAgB1K,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,IAAIgD,SACpE2B,EAAQQ,WAAcnF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GACnD2E,EAAQS,UAAapF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GAClD2E,EAAQU,iBAAoBrF,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GAEzD,IAAI0iB,EAAc1iB,EAAKrB,OAAS,EAAKqB,EAAK,GAAK,GAC3C+M,EAAQ2V,EAAWC,QAAQ,KAI/B,OAHAD,EAAc3V,GAAS,EAAK2V,EAAWvf,OAAO,EAAG4J,GAAS2V,EAC1D/d,EAAQI,UAAY2d,EAEb/d,GAGXjF,EAAAkjB,eAAiB,SAACL,EAAyErlB,GACvF,IAAI2lB,EAAW,IAAIvB,EAEnB,OADAuB,EAASjkB,KAAI6E,MAAbof,EAAQvjB,EAASsF,EAAA7H,UAAMiO,OAAMzM,KAAAmB,EAAC6iB,EAAWrlB,KAClC2lB,YAvIejmB,EAAA0kB,EAAA1c,MAAAnI,kVCqE1B,SAAAqmB,EACW/hB,EACAgiB,EACAC,GAHX,IAAAtjB,EAAA9D,KAKI,GAJOA,KAAAmF,KAAAA,EACAnF,KAAAmnB,cAAAA,EACAnnB,KAAAonB,mBAAAA,EApDMpnB,KAAA6R,gBAAmC,IAAIC,EAuBhD9R,KAAAqnB,eAA0D,GAK1DrnB,KAAAsnB,cAA0E,GAE1EtnB,KAAAunB,kBAAmE,GAEnEvnB,KAAAwnB,gBAAqD,GACrDxnB,KAAAynB,YAAkD,GAElDznB,KAAA0nB,oBAA6D,GAE7D1nB,KAAA2nB,gBAAqD,GAGrD3nB,KAAA4nB,gBAAqD,GACrD5nB,KAAA6nB,WAAa,IAAI/W,EAAU9Q,KAAKmF,MAChCnF,KAAA8nB,mBAAqB,IAAI9Q,EAAkBhX,KAAKmF,MAiaxDnF,KAAA+nB,aAAe,SAAC3nB,GACZ,GAAgC,MAA5B0D,EAAKwjB,cAAclnB,GAAe,CAIlC,IAHA,IACI+O,EAAYL,EADChL,EAAKqB,KAAKK,QAAQ,cAAgBpF,EAAO,qCACf6O,SACvC+Y,EAAoB,GACf7W,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1C6W,EAAkBhlB,KAAK,IAAI0O,EAAYtR,EAAM0D,EAAK+N,gBAAgBvE,iBAAkB6B,EAAUgC,GAAQrN,EAAKqB,OAE/GrB,EAAKwjB,cAAclnB,GAAQ4nB,EAE3B,IACIC,EAAanZ,EADAhL,EAAKqB,KAAKK,QAAQ,cAAgBpF,EAAO,qCACd6O,SAC5C,IAASkC,EAAQ,EAAGA,EAAQ8W,EAAWllB,OAAQoO,IAC3CrN,EAAKwjB,cAAclnB,GAAM4C,KAAK,IAAI0O,EAAYtR,EAAM0D,EAAK+N,gBAAgBxE,OAAQ4a,EAAW9W,GAAQrN,EAAKqB,OAG7GrB,EAAKwjB,cAAclnB,GAAM2O,IAAM,YAAc3O,EAEjD,OAAO0D,EAAKwjB,cAAclnB,IAvatB+mB,EAAe,CAKf,GAJAnnB,KAAKkoB,gBAAkBf,EAAcjL,eACrClc,KAAKmoB,iBAAmBhB,EAAc3L,oBACtCxb,KAAKooB,kBAAoBjB,EAAc5K,iBACvCvc,KAAKqoB,UAAYlB,EAAc9K,kBAC3B8K,EAAc5L,eAAgB,CAC9B,IAAI+M,EAAYnB,EAAc5L,eAAezF,MAAK,SAAA7S,GAAK,MAAgC,gBAAhCA,EAAEslB,iBAAiBC,YAC1ExoB,KAAKyoB,WAAa,EAAcH,EAAUI,QAAU1oB,KAAKyoB,WACzDzoB,KAAK2oB,SAAW3oB,KAAKyoB,WAErB,IAAIG,EAAazB,EAAc5L,eAAezF,MAAK,SAAA7S,GAAK,MAAgC,gBAAhCA,EAAEslB,iBAAiBC,YAC3ExoB,KAAK6oB,YAAc,EAAeD,EAAWF,QAAU1oB,KAAK6oB,YAE5D,IAAIC,EAAkB3B,EAAc5L,eAAezF,MAAK,SAAA7S,GAAK,MAAgC,gBAAhCA,EAAEslB,iBAAiBC,YAChFxoB,KAAK+oB,iBAAmB,EAAoBD,EAAgBJ,QAAU1oB,KAAK+oB,iBAE/E,GAAI5B,EAAchL,OAAQ,CACtB,IAAI6M,EAAY7hB,EAAOY,WAAWof,EAAchL,OAAO6M,WA4BvD,GA3BAhpB,KAAKipB,aAAe,GAA0BjpB,KAAKipB,aACnDjpB,KAAKkpB,aAAgB/B,EAAchL,OAAOgN,qBAAuBhC,EAAchL,OAAOiN,WAClFjiB,EAAOY,WAAWof,EAAchL,OAAOkN,aAAerpB,KAAKkpB,aAE/DlpB,KAAKspB,KAAOnC,EAAchL,OAAOoN,WAC7BpC,EAAchL,OAAOT,oBAAsByL,EAAchL,OAAOT,mBAAmB,KACnF1b,KAAKmT,SAAYnT,KAAa,SAAIA,KAAKmT,SAAW,IAAImB,EAAQtU,KAAKmF,KAAMgiB,EAAchL,OAAOT,mBAAmB,KAEjHyL,EAAchL,OAAOpB,wBACrB/a,KAAKuT,OAAUvT,KAAW,OAAIA,KAAKuT,OAAS,IAAI8B,EAAMrV,KAAKmF,KAAMgiB,EAAchL,OAAOpB,wBAEtFoM,EAAchL,OAAOqN,gBAAkBrC,EAAchL,OAAOqN,eAAe,KAC3ExpB,KAAKkX,WAAmE,OAArDiQ,EAAchL,OAAOqN,eAAe,GAAGC,UACtD,GAAKtC,EAAchL,OAAOqN,eAAe,GAAGC,UAChDzpB,KAAKmX,UAAmE,OAAtDgQ,EAAchL,OAAOqN,eAAe,GAAGE,WACrD,GAAKvC,EAAchL,OAAOqN,eAAe,GAAGE,WAChD1pB,KAAK2pB,YAAqE,OAAtDxC,EAAchL,OAAOqN,eAAe,GAAG7a,WACvD,GAAKwY,EAAchL,OAAOqN,eAAe,GAAG7a,WAEhD3O,KAAK4pB,WAAa5pB,KAAKkX,WACjB,IAAMlX,KAAK2pB,YACX,IAAM3pB,KAAKmX,UAEjBnX,KAAK6pB,YAAc1C,EAAchL,OAAOqN,eAAe,GAAGM,WAC1D9pB,KAAK+pB,YAAc5C,EAAchL,OAAOqN,eAAe,GAAGQ,YAE9DhqB,KAAKiqB,KAAO9C,EAAclL,oBAAsBkL,EAAcnL,WAAWtM,WAAa1P,KAAKiqB,KACvF9C,EAAchL,OAAOZ,eAAgB,CACrC,IAAI2O,EAAM/C,EAAchL,OAAOZ,eAAezF,MAAK,SAAA7S,GAAK,MAAgC,gBAAhCA,EAAEslB,iBAAiBC,YAC3ExoB,KAAKmqB,KAAO,EAAQD,EAAIxB,QAAU1oB,KAAKmqB,KACvCnqB,KAAKmqB,KAAQnqB,KAAS,KAAIA,KAAKmqB,KAAKC,QAAQ,sBAAuB,YAAcpqB,KAAKmqB,OAKlGnqB,KAAKmT,SAAYnT,KAAa,SAAIA,KAAKmT,SAAW,IAAImB,EAAQtU,KAAKmF,MACnEnF,KAAKuT,OAAUvT,KAAW,OAAIA,KAAKuT,OAAS,IAAI8B,EAAMrV,KAAKmF,aAG/DzE,OAAAkI,eAAIse,EAAA/lB,UAAA,kBAAe,KAAnB,WACI,OAAOnB,KAAKmoB,kDAGhBznB,OAAAkI,eAAIse,EAAA/lB,UAAA,iBAAc,KAAlB,WAGI,OAFAnB,KAAKkoB,qBAA4C9S,IAAzBpV,KAAKkoB,gBAAiCloB,KAAKkoB,gBAC7DjhB,EACCjH,KAAKkoB,iDAIhBxnB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAKyoB,gBAAkCrT,IAApBpV,KAAKyoB,WAA4BzoB,KAAKyoB,WAAazoB,KAAKmF,KAAKK,QAAQ,uBACjFxF,KAAKyoB,4CAGVvB,EAAA/lB,UAAAkpB,eAAA,qHACFrkB,EAAAhG,UAAuCoV,IAApBpV,KAAKyoB,WAAN,CAAA,EAAA,IAAkChjB,EAAAzF,KAAKyoB,yBAAa,MAAA,CAAA,EAAMzoB,KAAKmF,KAAKK,QAAQ,+BAAxBC,EAAA4L,EAAAvP,wBACtE,OADAkE,EAAKyiB,WAAUhjB,EACf,CAAA,EAAOzF,KAAKyoB,oBAIhB/nB,OAAAkI,eAAIse,EAAA/lB,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAKiqB,UAAsB7U,IAAdpV,KAAKiqB,KAAsBjqB,KAAKiqB,KAAOjqB,KAAKmF,KAAKK,QAAQ,4BAC/DxF,KAAKiqB,sCAGV/C,EAAA/lB,UAAAmpB,SAAA,qHACFtkB,EAAAhG,UAA2BoV,IAAdpV,KAAKiqB,KAAN,CAAA,EAAA,IAA4BxkB,EAAAzF,KAAKiqB,mBAAO,MAAA,CAAA,EAAMjqB,KAAKmF,KAAKK,QAAQ,oCAAxBC,EAAA4L,EAAAvP,wBACpD,OADAkE,EAAKikB,KAAIxkB,EACT,CAAA,EAAOzF,KAAKiqB,cAIhBvpB,OAAAkI,eAAIse,EAAA/lB,UAAA,kBAAe,KAAnB,WAEI,OADAnB,KAAK+oB,sBAA8C3T,IAA1BpV,KAAK+oB,iBAAkC/oB,KAAK+oB,iBAAmB/oB,KAAKmF,KAAKK,QAAQ,sBACnGxF,KAAK+oB,kDAGV7B,EAAA/lB,UAAAopB,qBAAA,qHACFvkB,EAAAhG,UAAmDoV,IAA1BpV,KAAK+oB,iBAAN,CAAA,EAAA,IAAwCtjB,EAAAzF,KAAK+oB,+BAAmB,MAAA,CAAA,EAAM/oB,KAAKmF,KAAKK,QAAQ,8BAAxBC,EAAA4L,EAAAvP,wBACxF,OADAkE,EAAK+iB,iBAAgBtjB,EACrB,CAAA,EAAOzF,KAAK+oB,0BAIhBroB,OAAAkI,eAAIse,EAAA/lB,UAAA,aAAU,KAAd,WAEI,OADAnB,KAAK6oB,iBAAoCzT,IAArBpV,KAAK6oB,YAA6B7oB,KAAK6oB,YAAc7oB,KAAKmF,KAAKK,QAAQ,wBACpFxF,KAAK6oB,6CAGV3B,EAAA/lB,UAAAqpB,gBAAA,qHACFxkB,EAAAhG,UAAyCoV,IAArBpV,KAAK6oB,YAAN,CAAA,EAAA,IAAmCpjB,EAAAzF,KAAK6oB,0BAAc,MAAA,CAAA,EAAM7oB,KAAKmF,KAAKK,QAAQ,gCAAxBC,EAAA4L,EAAAvP,wBACzE,OADAkE,EAAK6iB,YAAWpjB,EAChB,CAAA,EAAOzF,KAAK6oB,qBAIhBnoB,OAAAkI,eAAIse,EAAA/lB,UAAA,UAAO,KAAX,WAEI,OADAnB,KAAK2oB,cAA8BvT,IAAlBpV,KAAK2oB,SAA0B3oB,KAAK2oB,SAAW3oB,KAAKmF,KAAKK,QAAQ,qBAC3ExF,KAAK2oB,0CAGVzB,EAAA/lB,UAAAspB,aAAA,qHACFzkB,EAAAhG,UAAmCoV,IAAlBpV,KAAK2oB,SAAN,CAAA,EAAA,IAAgCljB,EAAAzF,KAAK2oB,uBAAW,MAAA,CAAA,EAAM3oB,KAAKmF,KAAKK,QAAQ,6BAAxBC,EAAA4L,EAAAvP,wBAChE,OADAkE,EAAK2iB,SAAQljB,EACb,CAAA,EAAOzF,KAAK2oB,kBAIhBjoB,OAAAkI,eAAIse,EAAA/lB,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAKmqB,UAAsB/U,IAAdpV,KAAKmqB,KAAsBnqB,KAAKmqB,KAAOnqB,KAAKmF,KAAKK,QAAQ,sBAC/DxF,KAAKmqB,sCAGVjD,EAAA/lB,UAAAupB,SAAA,qHACF1kB,EAAAhG,UAA2BoV,IAAdpV,KAAKmqB,KAAN,CAAA,EAAA,IAA4B1kB,EAAAzF,KAAKmqB,mBAAO,MAAA,CAAA,EAAMnqB,KAAKmF,KAAKK,QAAQ,8BAAxBC,EAAA4L,EAAAvP,wBACpD,OADAkE,EAAKmkB,KAAI1kB,EACT,CAAA,EAAOzF,KAAKmqB,cAIhBzpB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAKkX,gBAAkC9B,IAApBpV,KAAKkX,WAA4BlX,KAAKkX,WAAalX,KAAKmF,KAAKK,QAAQ,uBACjFxF,KAAKkX,4CAGVgQ,EAAA/lB,UAAAwpB,eAAA,qHACF3kB,EAAAhG,UAAuCoV,IAApBpV,KAAKkX,WAAN,CAAA,EAAA,IAAkCzR,EAAAzF,KAAKkX,yBAAa,MAAA,CAAA,EAAMlX,KAAKmF,KAAKK,QAAQ,+BAAxBC,EAAA4L,EAAAvP,wBACtE,OADAkE,EAAKkR,WAAUzR,EACf,CAAA,EAAOzF,KAAKkX,oBAIhBxW,OAAAkI,eAAIse,EAAA/lB,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKmX,eAAgC/B,IAAnBpV,KAAKmX,UAA2BnX,KAAKmX,UAAYnX,KAAKmF,KAAKK,QAAQ,sBAC9ExF,KAAKmX,2CAGV+P,EAAA/lB,UAAAypB,cAAA,qHACF5kB,EAAAhG,UAAqCoV,IAAnBpV,KAAKmX,UAAN,CAAA,EAAA,IAAiC1R,EAAAzF,KAAKmX,wBAAY,MAAA,CAAA,EAAMnX,KAAKmF,KAAKK,QAAQ,8BAAxBC,EAAA4L,EAAAvP,wBACnE,OADAkE,EAAKmR,UAAS1R,EACd,CAAA,EAAOzF,KAAKmX,mBAIhBzW,OAAAkI,eAAIse,EAAA/lB,UAAA,aAAU,KAAd,WAEI,OADAnB,KAAK2pB,iBAAoCvU,IAArBpV,KAAK2pB,YAA6B3pB,KAAK2pB,YAAc3pB,KAAKmF,KAAKK,QAAQ,wBACpFxF,KAAK2pB,6CAGVzC,EAAA/lB,UAAA0pB,gBAAA,qHACF7kB,EAAAhG,UAAyCoV,IAArBpV,KAAK2pB,YAAN,CAAA,EAAA,IAAmClkB,EAAAzF,KAAK2pB,0BAAc,MAAA,CAAA,EAAM3pB,KAAKmF,KAAKK,QAAQ,gCAAxBC,EAAA4L,EAAAvP,wBACzE,OADAkE,EAAK2jB,YAAWlkB,EAChB,CAAA,EAAOzF,KAAK2pB,qBAIhBjpB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAK4pB,gBAAkCxU,IAApBpV,KAAK4pB,WAA4B5pB,KAAK4pB,WAAa5pB,KAAKmF,KAAKK,QAAQ,uBACjFxF,KAAK4pB,4CAGV1C,EAAA/lB,UAAA2pB,eAAA,qHACF9kB,EAAAhG,UAAuCoV,IAApBpV,KAAK4pB,WAAN,CAAA,EAAA,IAAkCnkB,EAAAzF,KAAK4pB,yBAAa,MAAA,CAAA,EAAM5pB,KAAKmF,KAAKK,QAAQ,+BAAxBC,EAAA4L,EAAAvP,wBACtE,OADAkE,EAAK4jB,WAAUnkB,EACf,CAAA,EAAOzF,KAAK4pB,oBAIhBlpB,OAAAkI,eAAIse,EAAA/lB,UAAA,aAAU,KAAd,WAEI,OADAnB,KAAK6pB,iBAAoCzU,IAArBpV,KAAK6pB,YAA6B7pB,KAAK6pB,YAAc7pB,KAAKmF,KAAKK,QAAQ,mBACpFxF,KAAK6pB,6CAGV3C,EAAA/lB,UAAA4pB,gBAAA,qHACF/kB,EAAAhG,UAAyCoV,IAArBpV,KAAK6pB,YAAN,CAAA,EAAA,IAAmCpkB,EAAAzF,KAAK6pB,0BAAc,MAAA,CAAA,EAAM7pB,KAAKmF,KAAKK,QAAQ,2BAAxBC,EAAA4L,EAAAvP,wBACzE,OADAkE,EAAK6jB,YAAWpkB,EAChB,CAAA,EAAOzF,KAAK6pB,qBAIhBnpB,OAAAkI,eAAIse,EAAA/lB,UAAA,aAAU,KAAd,WAEI,OADAnB,KAAK+pB,iBAAoC3U,IAArBpV,KAAK+pB,YAA6B/pB,KAAK+pB,YAAc/pB,KAAKmF,KAAKK,QAAQ,0BACpFxF,KAAK+pB,6CAGV7C,EAAA/lB,UAAA6pB,gBAAA,qHACFhlB,EAAAhG,UAAyCoV,IAArBpV,KAAK+pB,YAAN,CAAA,EAAA,IAAmCtkB,EAAAzF,KAAK+pB,0BAAc,MAAA,CAAA,EAAM/pB,KAAKmF,KAAKK,QAAQ,kCAAxBC,EAAA4L,EAAAvP,wBACzE,OADAkE,EAAK+jB,YAAWtkB,EAChB,CAAA,EAAOzF,KAAK+pB,qBAIhBrpB,OAAAkI,eAAIse,EAAA/lB,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAKspB,UAAuBlU,IAAfpV,KAAKspB,KAAuBtpB,KAAKspB,KAAOtpB,KAAKmF,KAAKK,QAAQ,iBAChExF,KAAKspB,sCAGVpC,EAAA/lB,UAAA8pB,SAAA,qHACFjlB,EAAAhG,UAA2BoV,IAAdpV,KAAKspB,KAAN,CAAA,EAAA,IAA4B7jB,EAAAzF,KAAKspB,mBAAO,MAAA,CAAA,EAAMtpB,KAAKmF,KAAKK,QAAQ,yBAAxBC,EAAA4L,EAAAvP,wBACpD,OADAkE,EAAKsjB,KAAI7jB,EACT,CAAA,EAAOzF,KAAKspB,cAIhB5oB,OAAAkI,eAAIse,EAAA/lB,UAAA,OAAI,KAAR,WAEI,OADAnB,KAAKkrB,WAAyB9V,IAAhBpV,KAAKkrB,MAAwBlrB,KAAKkrB,MAAQlrB,KAAKmF,KAAKK,QAAQ,kBACnExF,KAAKkrB,uCAGVhE,EAAA/lB,UAAAgqB,UAAA,qHACFnlB,EAAAhG,UAA6BoV,IAAfpV,KAAKkrB,MAAN,CAAA,EAAA,IAA6BzlB,EAAAzF,KAAKkrB,oBAAQ,MAAA,CAAA,EAAMlrB,KAAKmF,KAAKK,QAAQ,0BAAxBC,EAAA4L,EAAAvP,wBACvD,OADAkE,EAAKklB,MAAKzlB,EACV,CAAA,EAAOzF,KAAKkrB,eAIhBxqB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAKorB,gBAAmChW,IAArBpV,KAAKorB,WAA6BprB,KAAKorB,WAAaprB,KAAKmF,KAAKK,QAAQ,uBAClFxF,KAAKorB,4CAGVlE,EAAA/lB,UAAAkqB,eAAA,qHACFrlB,EAAAhG,UAAuCoV,IAApBpV,KAAKorB,WAAN,CAAA,EAAA,IAAkC3lB,EAAAzF,KAAKorB,yBAAa,MAAA,CAAA,EAAMprB,KAAKmF,KAAKK,QAAQ,+BAAxBC,EAAA4L,EAAAvP,wBACtE,OADAkE,EAAKolB,WAAU3lB,EACf,CAAA,EAAOzF,KAAKorB,oBAIhB1qB,OAAAkI,eAAIse,EAAA/lB,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAKipB,kBAAuC7T,IAAvBpV,KAAKipB,aAA+BjpB,KAAKipB,aAAejpB,KAAKmF,KAAKK,QAAQ,yBACxFxF,KAAKipB,8CAGV/B,EAAA/lB,UAAAmqB,iBAAA,qHACFtlB,EAAAhG,UAA2CoV,IAAtBpV,KAAKipB,aAAN,CAAA,EAAA,IAAoCxjB,EAAAzF,KAAKipB,2BAAe,MAAA,CAAA,EAAMjpB,KAAKmF,KAAKK,QAAQ,iCAAxBC,EAAA4L,EAAAvP,wBAC5E,OADAkE,EAAKijB,aAAYxjB,EACjB,CAAA,EAAOzF,KAAKipB,sBAIhBvoB,OAAAkI,eAAIse,EAAA/lB,UAAA,cAAW,KAAf,WAEI,OADAnB,KAAKkpB,kBAAuC9T,IAAvBpV,KAAKkpB,aAA+BlpB,KAAKkpB,aAAelpB,KAAKmF,KAAKK,QAAQ,yBACxFxF,KAAKkpB,8CAGVhC,EAAA/lB,UAAAoqB,iBAAA,qHACFvlB,EAAAhG,UAA2CoV,IAAtBpV,KAAKkpB,aAAN,CAAA,EAAA,IAAoCzjB,EAAAzF,KAAKkpB,2BAAe,MAAA,CAAA,EAAMlpB,KAAKmF,KAAKK,QAAQ,iCAAxBC,EAAA4L,EAAAvP,wBAC5E,OADAkE,EAAKkjB,aAAYzjB,EACjB,CAAA,EAAOzF,KAAKkpB,sBAIhBxoB,OAAAkI,eAAIse,EAAA/lB,UAAA,gBAAa,KAAjB,WAEI,OADAnB,KAAKwrB,oBAA2CpW,IAAzBpV,KAAKwrB,eAAiCxrB,KAAKwrB,eAAiBxrB,KAAKmF,KAAKK,QAAQ,2BAC9FxF,KAAKwrB,gDAGVtE,EAAA/lB,UAAAsqB,mBAAA,qHACFzlB,EAAAhG,UAA+CoV,IAAxBpV,KAAKwrB,eAAN,CAAA,EAAA,IAAsC/lB,EAAAzF,KAAKwrB,6BAAiB,MAAA,CAAA,EAAMxrB,KAAKmF,KAAKK,QAAQ,mCAAxBC,EAAA4L,EAAAvP,wBAClF,OADAkE,EAAKwlB,eAAc/lB,EACnB,CAAA,EAAOzF,KAAKwrB,wBAIhB9qB,OAAAkI,eAAIse,EAAA/lB,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKqoB,eAAiCjT,IAApBpV,KAAKqoB,UAA4BroB,KAAKqoB,UAAYroB,KAAKmF,KAAKK,QAAQ,sBAC/ExF,KAAKqoB,2CAGVnB,EAAA/lB,UAAAuqB,cAAA,qHACF1lB,EAAAhG,UAAqCoV,IAAnBpV,KAAKqoB,UAAN,CAAA,EAAA,IAAiC5iB,EAAAzF,KAAKqoB,wBAAY,MAAA,CAAA,EAAMroB,KAAKmF,KAAKK,QAAQ,8BAAxBC,EAAA4L,EAAAvP,wBACnE,OADAkE,EAAKqiB,UAAS5iB,EACd,CAAA,EAAOzF,KAAKqoB,mBAIhB3nB,OAAAkI,eAAIse,EAAA/lB,UAAA,QAAK,KAAT,WAEI,OADAnB,KAAKoX,YAA2BhC,IAAjBpV,KAAKoX,OAAyBpX,KAAKoX,OAASpX,KAAKmF,KAAKK,QAAQ,mBACtExF,KAAKoX,wCAGV8P,EAAA/lB,UAAAwqB,WAAA,qHACF3lB,EAAAhG,UAA+BoV,IAAhBpV,KAAKoX,OAAN,CAAA,EAAA,IAA8B3R,EAAAzF,KAAKoX,qBAAS,MAAA,CAAA,EAAMpX,KAAKmF,KAAKK,QAAQ,2BAAxBC,EAAA4L,EAAAvP,wBAC1D,OADAkE,EAAKoR,OAAM3R,EACX,CAAA,EAAOzF,KAAKoX,gBAIhB1W,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAEI,OADAnB,KAAK4rB,gBAAmCxW,IAArBpV,KAAK4rB,WAA6B5rB,KAAK4rB,WAAa5rB,KAAKmF,KAAKK,QAAQ,uBAClFxF,KAAK4rB,4CAGV1E,EAAA/lB,UAAA0qB,eAAA,qHACF7lB,EAAAhG,UAAuCoV,IAApBpV,KAAK4rB,WAAN,CAAA,EAAA,IAAkCnmB,EAAAzF,KAAK4rB,yBAAa,MAAA,CAAA,EAAM5rB,KAAKmF,KAAKK,QAAQ,+BAAxBC,EAAA4L,EAAAvP,wBACtE,OADAkE,EAAK4lB,WAAUnmB,EACf,CAAA,EAAOzF,KAAK4rB,oBAGhBlrB,OAAAkI,eAAIse,EAAA/lB,UAAA,mBAAgB,KAApB,WAEI,OADAnB,KAAKooB,uBAAiDhT,IAA5BpV,KAAKooB,kBAAoCpoB,KAAKooB,kBAAoBpoB,KAAKmF,KAAKK,QAAQ,qBACvGxF,KAAKooB,mDAGVlB,EAAA/lB,UAAA2qB,sBAAA,qHACF9lB,EAAAhG,UAAqDoV,IAA3BpV,KAAKooB,kBAAN,CAAA,EAAA,IAAyC3iB,EAAAzF,KAAKooB,gCAAoB,MAAA,CAAA,EAAMpoB,KAAKmF,KAAKK,QAAQ,6BAAxBC,EAAA4L,EAAAvP,wBAC3F,OADAkE,EAAKoiB,kBAAiB3iB,EACtB,CAAA,EAAOzF,KAAKooB,2BAIhB1nB,OAAAkI,eAAIse,EAAA/lB,UAAA,WAAQ,KAAZ,WAAA,IAAA2C,EAAA9D,KACI,GAAmC,IAA/BA,KAAKqnB,eAAetkB,OAAc,CAClC/C,KAAK+rB,eAAiC3W,IAApBpV,KAAK+rB,UAA4B/rB,KAAK+rB,UAAY/rB,KAAKmF,KAAKK,QAAQ,sBACtF,IAAI2J,EAAYL,EAAe9O,KAAK+rB,WAAW9c,SAG/CjP,KAAKqnB,eAAiB,GACtB,IAAK,IAAIlW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKqnB,eAAerkB,KAAK,IAAIgpB,EAAe7c,EAAUgC,KAG1DnR,KAAKqnB,eAAetY,IAAM,mBAE1B/O,KAAKqnB,eAAezgB,YAAc,WAC9B,OAAO9C,EAAKioB,WAGpB,OAAO/rB,KAAKqnB,gDAGVH,EAAA/lB,UAAA8qB,cAAA,gIACiC,IAA/BjsB,KAAKqnB,eAAetkB,OAApB,CAAA,EAAA,IACAiD,EAAAhG,UAAqCoV,IAAnBpV,KAAK+rB,UAAN,CAAA,EAAA,IAAiCtmB,EAAAzF,KAAK+rB,yBAAY,MAAA,CAAA,EAAM/rB,KAAKmF,KAAKK,QAAQ,8BAAxBC,EAAA4L,EAAAvP,wBAKnE,IALAkE,EAAK+lB,UAAStmB,EACV0J,EAAYL,EAAe9O,KAAK+rB,WAAW9c,SAG/CjP,KAAKqnB,eAAiB,GACblW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKqnB,eAAerkB,KAAK,IAAIgpB,EAAe7c,EAAUgC,KAG1DnR,KAAKqnB,eAAetY,IAAM,mBAE1B/O,KAAKqnB,eAAezgB,YAAc,WAC9B,OAAO9C,EAAKioB,4BAGpB,MAAA,CAAA,EAAO/rB,KAAKqnB,wBAIhB3mB,OAAAkI,eAAIse,EAAA/lB,UAAA,mBAAgB,KAApB,WAEI,OADAnB,KAAKksB,uBAAiD9W,IAA5BpV,KAAKksB,kBAAoClsB,KAAKksB,kBAAoBlsB,KAAKmF,KAAKK,QAAQ,wBACvGxF,KAAKksB,mDAGVhF,EAAA/lB,UAAAgrB,sBAAA,qHACFnmB,EAAAhG,UAAqDoV,IAA3BpV,KAAKksB,kBAAN,CAAA,EAAA,IAAyCzmB,EAAAzF,KAAKksB,gCAAoB,MAAA,CAAA,EAAMlsB,KAAKmF,KAAKK,QAAQ,gCAAxBC,EAAA4L,EAAAvP,wBAC3F,OADAkE,EAAKkmB,kBAAiBzmB,EACtB,CAAA,EAAOzF,KAAKksB,2BAIhBxrB,OAAAkI,eAAIse,EAAA/lB,UAAA,eAAY,KAAhB,WAEI,OADAnB,KAAKosB,mBAAyChX,IAAxBpV,KAAKosB,cAAgCpsB,KAAKosB,cAAgBpsB,KAAKmF,KAAKK,QAAQ,qBAC3FxF,KAAKosB,+CAGVlF,EAAA/lB,UAAAkrB,kBAAA,qHACFrmB,EAAAhG,UAA6CoV,IAAvBpV,KAAKosB,cAAN,CAAA,EAAA,IAAqC3mB,EAAAzF,KAAKosB,4BAAgB,MAAA,CAAA,EAAMpsB,KAAKmF,KAAKK,QAAQ,6BAAxBC,EAAA4L,EAAAvP,wBAC/E,OADAkE,EAAKomB,cAAa3mB,EAClB,CAAA,EAAOzF,KAAKosB,uBAIhB1rB,OAAAkI,eAAIse,EAAA/lB,UAAA,2BAAwB,KAA5B,WAGI,OAFAnB,KAAKssB,+BAAgElX,IAAnCpV,KAAKssB,0BACnCtsB,KAAKssB,0BAA4BtsB,KAAKmF,KAAKK,QAAQ,iBAChDxF,KAAKssB,2DAGVpF,EAAA/lB,UAAAorB,8BAAA,qHACFvmB,EAAAhG,UAAqEoV,IAAnCpV,KAAKssB,0BAAN,CAAA,EAAA,IAC7B7mB,EAAAzF,KAAKssB,wCAA4B,MAAA,CAAA,EAAMtsB,KAAKmF,KAAKK,QAAQ,yBAAxBC,EAAA4L,EAAAvP,wBACrC,OAFAkE,EAAKsmB,0BAAyB7mB,EAE9B,CAAA,EAAOzF,KAAKssB,mCAIhB5rB,OAAAkI,eAAIse,EAAA/lB,UAAA,WAAQ,KAAZ,WAQI,OAPKnB,KAAKwsB,YACNxsB,KAAKwsB,UAAY,IAAI9G,GACrB1lB,KAAKwsB,UAAU5G,KAAK5lB,KAAKmF,OAG7BnF,KAAKwsB,UAAUzd,IAAM,aAEd/O,KAAKwsB,2CAGVtF,EAAA/lB,UAAAsrB,cAAA,6GACGzsB,KAAKwsB,UAAN,CAAA,EAAA,IACAxsB,KAAKwsB,UAAY,IAAI9G,GACrB,CAAA,EAAM1lB,KAAKwsB,UAAU1G,UAAU9lB,KAAKmF,eAApCa,EAAAlE,wBAEJ,MAAA,CAAA,EAAO9B,KAAKwsB,mBA0BhBtF,EAAA/lB,UAAAurB,sBAAA,SAAsBC,GAAtB,IAAA7oB,EAAA9D,KACQ4sB,EAAiB,GAOrB,GALIA,EADAD,GAIiB3sB,KAAKmF,KAAKK,QAAQ,uBAED,IAAlCxF,KAAKunB,kBAAkBxkB,QAAgB/C,KAAKunB,kBAAkBxY,KAAO,wBAA0B6d,EAAgB,CAC/G5sB,KAAK6sB,iBAAmB7sB,KAAKmF,KAAKK,QAAQ,0BAA4BonB,EAAiB,eACvF,IAAIzd,EAAYL,EAAe9O,KAAK6sB,kBAAkB5d,SAGtDjP,KAAKunB,kBAAoB,GACzB,IAAK,IAAIpW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKunB,kBAAkBvkB,KAAK,IAAI8pB,GAAqB3d,EAAUgC,KAGnEnR,KAAKunB,kBAAkBxY,IAAM,wBAA0B6d,EAEvD5sB,KAAKunB,kBAAkB3gB,YAAc,WACjC,OAAO9C,EAAK+oB,kBAGpB,OAAO7sB,KAAKunB,mBAKhB7mB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAAA,IAAA2C,EAAA9D,KACI,GAAoC,IAAhCA,KAAKwnB,gBAAgBzkB,OAAc,CACnC/C,KAAK+sB,gBAAmC3X,IAArBpV,KAAK+sB,WAA6B/sB,KAAK+sB,WAAa/sB,KAAKmF,KAAKK,QAAQ,+BACzF,IAAI2J,EAAYL,EAAe9O,KAAK+sB,YAAY9d,OAAO,QAGvDjP,KAAKwnB,gBAAkB,GACvB,IAAK,IAAIrW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAKwnB,gBAAgBxkB,KAAK,IAAIgqB,EAAS7d,EAAUgC,KAGrDnR,KAAKwnB,gBAAgBzY,IAAM,4BAE3B/O,KAAKwnB,gBAAgB5gB,YAAc,WAC/B,OAAO9C,EAAKipB,YAGpB,OAAO/sB,KAAKwnB,iDAIhB9mB,OAAAkI,eAAIse,EAAA/lB,UAAA,aAAU,KAAd,WAMI,OALgC,IAA5BnB,KAAKynB,YAAY1kB,SACjB/C,KAAKynB,YAAYzkB,KAAK,IAAIiQ,EAAU,IAAKjT,KAAKmF,OAC9CnF,KAAKynB,YAAYzkB,KAAK,IAAIiQ,EAAU,IAAKjT,KAAKmF,OAC9CnF,KAAKynB,YAAYzkB,KAAK,IAAIiQ,EAAU,IAAKjT,KAAKmF,QAE3CnF,KAAKynB,6CAIhB/mB,OAAAkI,eAAIse,EAAA/lB,UAAA,gBAAa,KAAjB,WAAA,IAAA2C,EAAA9D,KACI,GAAwC,IAApCA,KAAK0nB,oBAAoB3kB,OAAc,CACvC/C,KAAKitB,oBAA2C7X,IAAzBpV,KAAKitB,eAAiCjtB,KAAKitB,eAAiBjtB,KAAKmF,KAAKK,QAAQ,qBACrG,IAAI2J,EAAYL,EAAe9O,KAAKitB,gBAAgBhe,SAGpDjP,KAAK0nB,oBAAsB,GAC3B,IAAK,IAAIvW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK0nB,oBAAoB1kB,KAAK,IAAIkqB,EAAa/d,EAAUgC,GAAQnR,KAAKmF,OAG1EnF,KAAK0nB,oBAAoB3Y,IAAM,gBAE/B/O,KAAK0nB,oBAAoB9gB,YAAc,WACnC,OAAO9C,EAAKmpB,gBAGpB,OAAOjtB,KAAK0nB,qDAGhBhnB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WAAA,IAAA2C,EAAA9D,KACI,GAAoC,IAAhCA,KAAK2nB,gBAAgB5kB,OAAc,CACnC/C,KAAKmtB,gBAAmC/X,IAArBpV,KAAKmtB,WAA6BntB,KAAKmtB,WAAantB,KAAKmF,KAAKK,QAAQ,6CACzF,IAAI2J,EAAYL,EAAe9O,KAAKmtB,YAAYle,SAGhDjP,KAAK2nB,gBAAkB,GACvB,IAAK,IAAIxW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK2nB,gBAAgB3kB,KAAK,IAAIoqB,EAASje,EAAUgC,GAAQnR,KAAKmF,OAGlEnF,KAAK2nB,gBAAgB5Y,IAAM,qBAE3B/O,KAAK2nB,gBAAgB/gB,YAAc,WAC/B,OAAO9C,EAAKqpB,YAGpB,OAAOntB,KAAK2nB,iDAGVT,EAAA/lB,UAAAksB,eAAA,gIACkC,IAAhCrtB,KAAK2nB,gBAAgB5kB,OAArB,CAAA,EAAA,IACAiD,EAAAhG,UAAuCoV,IAApBpV,KAAKmtB,WAAN,CAAA,EAAA,IAAkC1nB,EAAAzF,KAAKmtB,0BAAa,MAAA,CAAA,EAAMntB,KAAKmF,KAAKK,QAAQ,qDAAxBC,EAAA4L,EAAAvP,wBAKtE,IALAkE,EAAKmnB,WAAU1nB,EACX0J,EAAYL,EAAe9O,KAAKmtB,YAAYle,SAGhDjP,KAAK2nB,gBAAkB,GACdxW,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK2nB,gBAAgB3kB,KAAK,IAAIoqB,EAASje,EAAUgC,GAAQnR,KAAKmF,OAGlEnF,KAAK2nB,gBAAgB5Y,IAAM,qBAE3B/O,KAAK2nB,gBAAgB/gB,YAAc,WAC/B,OAAO9C,EAAKqpB,6BAGpB,MAAA,CAAA,EAAOntB,KAAK2nB,yBAGhBjnB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WACI,GAAoC,IAAhCnB,KAAK4nB,gBAAgB7kB,OAAc,CACnC/C,KAAKstB,gBAAmClY,IAArBpV,KAAKstB,WAA6BttB,KAAKstB,WAAattB,KAAKmF,KAAKK,QAAQ,8BACzFxF,KAAKutB,kBAAuCnY,IAAvBpV,KAAKutB,aAA+BvtB,KAAKutB,aAAevtB,KAAKmF,KAAKK,QAAQ,oCAC/F,IAAIgoB,EAAmB,IAAIC,EAASztB,KAAKutB,aAAcvtB,KAAKstB,WAAY7tB,EAAAA,aAAaiuB,MACrF1tB,KAAK4nB,gBAAgB5kB,KAAKwqB,GAC1BxtB,KAAK4nB,gBAAgB+F,oBACN9qB,GACP,IAAIsO,EACJ,GAAuB,iBAAnB,EACA,IAAKA,EAAQ,EAAGA,EAAQnR,KAAK+C,OAAQoO,IACjC,GAAInR,KAAKmR,GAAO9Q,eAAiBwC,EAC7B,OAAO7C,KAAKmR,IAOpC,OAAOnR,KAAK4nB,iDAGhBlnB,OAAAkI,eAAIse,EAAA/lB,UAAA,YAAS,KAAb,WACI,OAAOnB,KAAK6nB,4CAIhBnnB,OAAAkI,eAAIse,EAAA/lB,UAAA,oBAAiB,KAArB,WACI,OAAOnB,KAAK8nB,oDAGhBpnB,OAAAkI,eAAIse,EAAA/lB,UAAA,QAAK,KAAT,WACI,OAAOnB,KAAKuT,wCAIhB7S,OAAAkI,eAAIse,EAAA/lB,UAAA,UAAO,KAAX,WACI,OAAOnB,KAAKmT,kDC1oBhB,SACWhO,GADX,IAAArB,EAAA9D,KACWA,KAAAmF,KAAAA,EAHHnF,KAAA4tB,YAA6C,GAMrD5tB,KAAA6tB,QAAU,SAAChrB,GACP,OAAa,MAATA,GACAiB,EAAKgqB,MAAuB,MAAdhqB,EAAKgqB,MAAiBhqB,EAAKgqB,MAAQ,IAAIC,EAAKjqB,EAAKqB,KAAKK,QAAQ,iBAAmB3C,EAAQ,OAAQnD,EAAAA,iBAAiB8N,UACzH1J,EAAKgqB,QAEhBhqB,EAAKkqB,aAAqC,MAArBlqB,EAAKkqB,aAAwBlqB,EAAKkqB,aAAe,IAAID,WCpBnD5oB,GAC3B,OAAOA,EAAKK,QAAQ,iBAAmBL,EAAKK,QAAQ,oBAAsB,OAAS,IAC/EL,EAAKK,QAAQ,0BAA4B,IACzCL,EAAKK,QAAQ,oBAAsB,IACnCL,EAAKK,QAAQ,qBAAuB,IACpCL,EAAKK,QAAQ,mBDekEyoB,CAAenqB,EAAKqB,MAAOzF,EAAAA,iBAAiB8N,UACpH1J,EAAKkqB,eAGhBhuB,KAAAkuB,SAAW,WACP,GAAgC,IAA5BpqB,EAAK8pB,YAAY7qB,OAAc,CAC/Be,EAAKqqB,OAASrqB,EAAKqB,KAAKK,QAAQ,sEAIhC,IAHA,IAAI2J,EAAYL,EAAehL,EAAKqqB,QAAQlf,SAGnCkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CrN,EAAK8pB,YAAY5qB,KAAK,IAAI+qB,EAAK5e,EAAUgC,GAAQzR,EAAAA,iBAAiBmP,WAGtE/K,EAAK8pB,YAAY7e,IAAM,gBAEvBjL,EAAK8pB,YAAYhnB,YAAc,WAC3B,OAAO9C,EAAKqqB,QAGpB,OAAOrqB,EAAK8pB,cEtCpBQ,GAAA,WAAA,SAAAA,IAAA,IAAAtqB,EAAA9D,KAEIA,KAAAuY,YAAc,SAACnU,EAAWiqB,GACtB,YADsB,IAAAA,IAAAA,GAAA,GACfvqB,EAAKwqB,YAAYpnB,EAA4B,CAAEf,KAAM,cAAe/B,KAAMA,KAW7EpE,KAAAsuB,YAAc,SAACC,EAA2BnqB,GAAc,OAAA,IAAIoqB,SAAa,SAACC,EAASC,GAC/D,oBAApB,aACgC,IAApBC,OAAc,QACtBA,OAAOC,QAAQN,YAAYC,EAAmBnqB,GAAM,SAAC6I,GAE7CwhB,OADsB,IAAtB,EACQxhB,EAGA,SASpByhB,EAAO,0BAzBfhuB,OAAAkI,eAAIwlB,EAAAjtB,UAAA,eAAY,KAAhB,WACI,OAAOnB,KAAKsuB,YAAYpnB,EAA4B,CAAEf,KAAM,kDAGhEzF,OAAAkI,eAAIwlB,EAAAjtB,UAAA,YAAS,KAAb,WACI,OAAOnB,KAAKsuB,YAAYpnB,EAA4B,CAAEf,KAAM,iDAXpE,gUCEA0oB,GAAA,WAuBI,SAAAA,EAAmBne,GAAnB,IAAA5M,EAAA9D,KAAmBA,KAAA0Q,QAAAA,EAtBF1Q,KAAAgZ,uBAAyB,sCACzBhZ,KAAAyX,OAAiB,oBAC1BzX,KAAA8uB,uBAAiC,EACjC9uB,KAAA+uB,YAAsB,EAEtB/uB,KAAAgY,cAAwB,EAExBhY,KAAAgvB,4BAA0D,IAAIZ,GAE/DpuB,KAAAivB,iBAAmB,WAAA,OAAAC,GAAAprB,OAAA,OAAA,GAAA,0EAClB9D,KAAKgY,aACL,CAAA,EAAOhY,KAAKgY,cADZ,CAAA,EAAA,iBAIKhY,KAAK8uB,sBAAN,CAAA,EAAA,IACA9oB,EAAAhG,KAAoB,CAAA,EAAMA,KAAKsuB,YAAYpnB,EAA4B,CAAEf,KAAM,qBAA/EH,EAAKgS,aAAevS,EAAA3D,OACpB9B,KAAK8uB,uBAAwB,mBAEjC,MAAA,CAAA,EAAO9uB,KAAKgY,sBAQZhY,KAAAoY,eAAiB,WACrB,GAAI3H,EAAmB3M,EAAK4M,SACxB,IACI5M,EAAKmV,IAAM,IAAInV,EAAK4M,QAAQ2H,cAAcvU,EAAKkV,wBAC/ClV,EAAKirB,YAAa,EAClBjrB,EAAKkU,cAAe,EACpBpS,QAAQupB,KAAK,wCAA0CrrB,EAAKkV,wBAC9D,MAAO/V,GACL,IAAIqV,EAAe3H,EAAuB7M,EAAKkV,uBAAwB/V,GACvE2C,QAAQupB,KAAK7W,KASjBtY,KAAAsuB,YAAc,SAACC,EAA2BnqB,GAAc,OAAA,IAAIoqB,SAAiB,SAACC,EAASW,GACnE,oBAApB,aACgC,IAApBT,OAAc,QACtBA,OAAOC,QAAQN,YAAYC,EAAmBnqB,GAAM,SAAC6I,GAC7CA,GACArH,QAAQupB,KAAK,iDAAmDjoB,GAChEunB,GAAQ,KAGR7oB,QAAQupB,KAAK,+DACbV,GAAQ,OASpBA,GAAQ,OAxCZzuB,KAAKoY,wBAiBT1X,OAAAkI,eAAIimB,EAAA1tB,UAAA,oBAAiB,KAArB,WACI,OAAUnB,KAAK+uB,WAAkD/uB,KAAQ,IAAIA,KAAKiZ,IAAIpB,SAAW7X,KAAKyX,OAAzEzX,KAAKgvB,+DA1C1C,8UCeI,SAAAK,EACWlqB,EACAmqB,GAFX,IAAAxrB,EAAA9D,KACWA,KAAAmF,KAAAA,EACAnF,KAAAsvB,KAAAA,EARHtvB,KAAAuvB,uBAA4D,GAW5DvvB,KAAAgF,KAAO,WACXlB,EAAKqB,KAAKK,QAAQ,mCAAqCyU,KAAKC,UAAUpW,EAAK0rB,UAAUpF,QAAQ,KAAM,OAAS,OAGxGpqB,KAAAwvB,SAAkBjf,EAAiB,GAAIvQ,KAAKgF,MA6BpDhF,KAAAyvB,IAAM,SAACzoB,EAAanE,GAChB,GAAW,MAAPmE,GAA8B,IAAfA,EAAIjE,OAIvB,OAAa,MAATF,EACOiB,EAAKqB,KAAKK,QAAQ,aAAewB,EAAM,KAEvClD,EAAKqB,KAAKK,QAAQ,aAAewB,EAAM,KAAOnE,EAAQ,cA/BrEnC,OAAAkI,eAAIymB,EAAAluB,UAAA,YAAS,KAAb,WACI,GAAuB,MAAnBnB,KAAK0vB,WAAoB,CACzB1vB,KAAK0vB,WAAiC,MAAnB1vB,KAAK0vB,WAAsB1vB,KAAK0vB,WAAa1vB,KAAKmF,KAAKK,QAAQ,iCAClFxF,KAAK0vB,WAAkC,KAApB1vB,KAAK0vB,WAAqB1vB,KAAK0vB,WAAazV,KAAKC,UAAUla,KAAKwvB,UACnF,IACIxvB,KAAKwvB,SAAWjf,EAAiB0J,KAAKW,MAAM5a,KAAK0vB,YAAa1vB,KAAKgF,MACrE,MAAO/B,GACLjD,KAAKwvB,SAAW,IAGxB,OAAOxvB,KAAKwvB,cAGhB,SAAcC,GACV,IAAK,IAAIzoB,KAAOyoB,EACZzvB,KAAKwvB,SAASxoB,GAAOyoB,EAAIzoB,GAE7BhH,KAAKmF,KAAKK,QAAQ,mCAAqCyU,KAAKC,UAAUla,KAAKwvB,UAAUpF,QAAQ,KAAM,OAAS,uCAkBhH1pB,OAAAkI,eAAIymB,EAAAluB,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAK2vB,KAAqB,MAAb3vB,KAAK2vB,KAAgB3vB,KAAK2vB,KAAO3vB,KAAKmF,KAAKK,QAAQ,4BACzDxF,KAAK2vB,sCAGVN,EAAAluB,UAAAyuB,SAAA,qHACF5pB,EAAAhG,KAA0B,MAAbA,KAAK2vB,KAAN,CAAA,EAAA,IAAsBlqB,EAAAzF,KAAK2vB,mBAAO,MAAA,CAAA,EAAM3vB,KAAKsvB,KAAKO,aAAa,oCAA7BpqB,EAAA4L,EAAAvP,wBAC9C,OADAkE,EAAK2pB,KAAIlqB,EACT,CAAA,EAAOzF,KAAK2vB,cAGhBjvB,OAAAkI,eAAIymB,EAAAluB,UAAA,MAAG,KAAP,WAEI,OADAnB,KAAK8vB,KAAqB,MAAb9vB,KAAK8vB,KAAgB9vB,KAAK8vB,KAAO9vB,KAAKmF,KAAKK,QAAQ,kBAAkBS,MAAM,KAAK,GACtFjG,KAAK8vB,sCAKhBpvB,OAAAkI,eAAIymB,EAAAluB,UAAA,aAAU,KAAd,WAEI,OADAnB,KAAK+vB,YAAmC,MAApB/vB,KAAK+vB,YAAuB/vB,KAAK+vB,YAAc/vB,KAAKmF,KAAKK,QAAQ,uBAC9ExF,KAAK+vB,6CAShBrvB,OAAAkI,eAAIymB,EAAAluB,UAAA,SAAM,KAAV,WAEI,OADAnB,KAAKgwB,QAA2B,MAAhBhwB,KAAKgwB,QAAmBhwB,KAAKgwB,QAAUhwB,KAAKmF,KAAKK,QAAQ,qBAClExF,KAAKgwB,yCAIhBtvB,OAAAkI,eAAIymB,EAAAluB,UAAA,WAAQ,KAAZ,WAoBI,OAnB2C,IAAvCnB,KAAKuvB,uBAAuBxsB,SAC5B/C,KAAKiwB,UAA+B,MAAlBjwB,KAAKiwB,UAAqBjwB,KAAKiwB,UAAYjwB,KAAKmF,KAAKK,QAAQ,4BAC/ExF,KAAKkwB,kBAA+C,MAA1BlwB,KAAKkwB,kBAA6BlwB,KAAKkwB,kBAAoB,IAAIzC,EAASztB,KAAKiwB,UAAWjwB,KAAKiwB,UAAWxwB,EAAAA,aAAa0wB,SAC/InwB,KAAKuvB,uBAAuBvsB,KAAKhD,KAAKkwB,mBACtClwB,KAAKuvB,uBAAuB5B,oBACb9qB,GACP,IAAIU,EACJ,GAAuB,iBAAnB,EACA,IAAKA,EAAI,EAAGA,EAAIvD,KAAK+C,OAAQQ,IACzB,GAAIvD,KAAKuD,GAAGlD,eAAiBwC,EACzB,OAAO7C,KAAKuD,KAS7BvD,KAAKuvB,wDAGhB7uB,OAAAkI,eAAIymB,EAAAluB,UAAA,eAAY,KAAhB,WAEI,OADAnB,KAAKowB,cAAuC,MAAtBpwB,KAAKowB,cAAyBpwB,KAAKowB,cAAgBpwB,KAAKmF,KAAKK,QAAQ,2BACpFxF,KAAKowB,+CAGhB1vB,OAAAkI,eAAIymB,EAAAluB,UAAA,WAAQ,KAAZ,WAEI,OADAnB,KAAKqwB,UAA+B,MAAlBrwB,KAAKqwB,UAAqBrwB,KAAKqwB,UAAYrwB,KAAKmF,KAAKK,QAAQ,uBACxExF,KAAKqwB,2CAGhB3vB,OAAAkI,eAAIymB,EAAAluB,UAAA,gBAAa,KAAjB,WAEI,OADAnB,KAAKswB,eAAyC,MAAvBtwB,KAAKswB,eAA0BtwB,KAAKswB,eAAiBtwB,KAAKmF,KAAKK,QAAQ,4BACvFxF,KAAKswB,iYCvIpB,SAAAC,IAAA,IAAAzsB,EAAAkF,EAAAnB,MAAA7H,KAAA0D,EAAAC,aAAA3D,YACY8D,EAAA6hB,WAAY,EAKpB7hB,EAAAgiB,UAAY,SAAM1lB,EAAc6E,GAAW,OAAAurB,GAAA1sB,OAAA,OAAA,GAAA,0EAClC9D,KAAK2lB,WAAa3lB,KAAK2R,QAAUvR,EAAlC,CAAA,EAAA,IACAJ,KAAK2R,MAAQvR,EACbJ,KAAK+O,IAAM,kBACX/I,EAAAhG,KAAe,CAAA,EAAMiF,EAAIO,QAAQ,qBAAwBpF,EAAO,wBAAhE4F,EAAKyqB,QAAUhrB,EAAA3D,OAEf9B,KAAKomB,kBAAkBpmB,KAAKywB,QAASxrB,GAErCjF,KAAK2lB,WAAY,qCAIzB7hB,EAAA8hB,KAAO,SAACxlB,EAAc6E,GACbnB,EAAK6hB,WAAa7hB,EAAK6N,QAAUvR,IAClC0D,EAAK6N,MAAQvR,EACb0D,EAAKiL,IAAM,kBACXjL,EAAK2sB,QAAUxrB,EAAIO,QAAQ,qBAAwBpF,EAAO,eAE1D0D,EAAKsiB,kBAAkBtiB,EAAK2sB,QAASxrB,GAErCnB,EAAK6hB,WAAY,IAIjB7hB,EAAAsiB,kBAAoB,SAAChiB,EAAca,GAEvC,IADA,IAAIkK,EAAYL,EAAe1K,GAAM6K,SAC5BkC,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CrN,EAAKd,KAAK,IAAI0tB,EAAW,CAAEtsB,KAAM+K,EAAUgC,GAAQlM,IAAKA,eAjCnCjE,EAAAuvB,EAAAvnB,MAAAnI,kVC4B7B,SAAA8vB,EACWjgB,EACA6I,GAFX,IAAAzV,EAAA9D,KACWA,KAAA0Q,QAAAA,EACA1Q,KAAAuZ,UAAAA,EAlBHvZ,KAAA4wB,YAA+C,GAQ/C5wB,KAAA6wB,qBAA0C,GAuClD7wB,KAAA8wB,cAAgB,WAAA,OAAAC,GAAAjtB,OAAA,OAAA,GAAA,mEAEZ,OAAI9D,KAAK2X,UACL,CAAA,EAAO3X,KAAK2X,YAGhB3R,EAAAhG,KAAkB,CAAA,EAAMA,KAAKuX,WAAW0X,4BAIxC,OAJAjpB,EAAK2R,UAAalS,EAAA3D,OACZ9B,KAAKuX,WAAWQ,kBACX/X,KAAK0Q,QAAQkH,QAAU5X,KAAK0Q,QAAQkH,OAAOC,SAAY7X,KAAK0Q,QAAQkH,OAAOC,SACxE7X,KAAK0Q,QAAQmH,SAC3B,CAAA,EAAO7X,KAAK2X,mBAuBhB3X,KAAAgxB,WAAa,SAAC5wB,EAAc6wB,GAMxB,YANwB,IAAAA,IAAAA,GAAA,IACM,MAA1BntB,EAAK8sB,YAAYxwB,IAAiB6wB,KAClCntB,EAAK8sB,YAAYxwB,GAAQ,IAAImwB,GAC7BzsB,EAAK8sB,YAAYxwB,GAAMwlB,KAAKxlB,EAAM0D,EAAKotB,SAGpCptB,EAAK8sB,YAAYxwB,IAiC5BJ,KAAAmxB,kBAAoB,WAAA,OAAAJ,GAAAjtB,OAAA,OAAA,GAAA,8EAChBkC,EAAAhG,KAAsBA,KAAkB,eAAIyF,EAAAzF,KAAKmnB,qBAA5B,CAAA,EAAA,UACb,MAAA,CAAA,EAAMnnB,KAAK8wB,+BAAXlnB,EAAA9H,OAA8B,CAAA,EAAM9B,KAAK8wB,gBAAgBM,MAAK,SAAAnuB,GAAI,OAAAA,EAAEouB,iBAArE,CAAA,EAAA,iBAA+BhgB,EAAAzH,EAAA9H,oBAAsDuP,EAAArR,KAAKmnB,+BAA3F1hB,EAAA,mBAEN,OAHAO,EAAKmhB,cAAa1hB,EAGlB,CAAA,EAAO,IAAI8U,EAAqBva,KAAKmnB,wBAUzCnnB,KAAAsxB,eAAiB,WAAA,OAAAP,GAAAjtB,OAAA,OAAA,GAAA,8EACbkC,EAAAhG,KAAuBA,KAAmB,gBAAIyF,EAAAzF,KAAKuxB,sBAA7B,CAAA,EAAA,UACd,MAAA,CAAA,EAAMvxB,KAAK8wB,+BAAXlnB,EAAA9H,OAA8B,CAAA,EAAM9B,KAAK8wB,gBAAgBM,MAAK,SAAAnuB,GAAK,OAAAA,EAAE6N,cAAtE,CAAA,EAAA,iBAA+BO,EAAAzH,EAAA9H,oBAAoDuP,EAAArR,KAAKuxB,gCAAzF9rB,EAAA,mBAEN,OAHAO,EAAKurB,eAAc9rB,EAGnB,CAAA,EAAO,IAAI+f,GAAkBxlB,KAAKuxB,yBAGtCvxB,KAAAwxB,cAAgB,WAGZ,OAFA1tB,EAAKytB,eAAkBztB,EAAmB,eAAIA,EAAKytB,eAC3CztB,EAAa,SAAIA,EAAK+T,SAAS/G,UAAYhN,EAAKytB,eACjDztB,EAAKytB,gBAkBhBvxB,KAAAyxB,aAAe,WAGX,OAFA3tB,EAAK4tB,cAAiB5tB,EAAkB,cAAIA,EAAK4tB,cACzC5tB,EAAa,SAAIA,EAAK+T,SAAS6N,SAAW5hB,EAAK4tB,cAChD5tB,EAAK4tB,eAUhB1xB,KAAA2xB,aAAe,WAAA,OAAAZ,GAAAjtB,OAAA,OAAA,GAAA,mFACWsR,IAAlBpV,KAAK4xB,SAAL,CAAA,EAAA,IACA5rB,EAAAhG,OAAoBknB,GAAO2K,eAAC7xB,KAAKkxB,QAAQ,CAAA,EAAMlxB,KAAKmxB,6BAAqB,mBAAhCvnB,EAAA9H,SAAgC,CAAA,EAAM9B,KAAKsxB,yBAApFtrB,EAAK4rB,SAAW,IAAAnsB,EAAAoC,MAAIqf,GAAO7V,EAAAzN,OAAA,CAA8CgG,EAAA9H,4BAE7E,MAAA,CAAA,EAAO9B,KAAK4xB,kBAiBhB5xB,KAAA8xB,sBAAwB,WAAA,OAAAf,GAAAjtB,OAAA,OAAA,GAAA,mFACWsR,IAA3BpV,KAAK+xB,kBAAL,CAAA,EAAA,IACA/rB,EAAAhG,OAA6BqvB,GAAgBwC,eAAC7xB,KAAKkxB,QAAQ,CAAA,EAAMlxB,cAAjEgG,EAAK+rB,kBAAoB,IAAAtsB,EAAAoC,MAAIwnB,GAAgBhe,EAAAzN,OAAA,CAAcgG,EAAA9H,4BAE/D,MAAA,CAAA,EAAO9B,KAAK+xB,2BAgBhB/xB,KAAA6vB,aAAe,SAAOzrB,EAAc4tB,eAAA,IAAAA,IAAAA,GAAA,oFACzB,MAAA,CAAA,EAAMhyB,KAAK8wB,gBAAgBM,MAAK,SAAAnuB,GAAK,OAAAA,EAAEsV,YAAYnU,EAAM4tB,cAAhE,MAAA,CAAA,EAAOhsB,EAAAlE,gBApMP9B,KAAKuX,WAAa,IAAIsX,GAAU7uB,KAAK0Q,SAErC1Q,KAAK0Q,QAAoB,WAAI1Q,KAAKkxB,OAClClxB,KAAK0Q,QAAoB,WAAI1Q,KAAKiyB,OAClCjyB,KAAKkyB,aAAe,IAAIC,EACxBnyB,KAAKoyB,WAAa,IAAIC,EAAUryB,KAAKkxB,OAAQlxB,KAAKiyB,OAAQjyB,KAAK0Q,QAAS1Q,KAAKuZ,kBAGjF7Y,OAAAkI,eAAI+nB,EAAAxvB,UAAA,eAAY,KAAhB,WACI,OAAOnB,KAAKiyB,OAAOK,8CAGvB5xB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,WAAQ,KAAZ,WACI,OAAInB,KAAK2X,YAIT3X,KAAK2X,UAAa3X,KAAK0Q,QAAQkH,QAAU5X,KAAK0Q,QAAQkH,OAAOC,SACvD7X,KAAK0Q,QAAQkH,OAAOC,SAAW7X,KAAK0Q,QAAQmH,cACfzC,IAA/BpV,KAAK2X,UAAUG,cAEf9X,KAAK2X,UAAY3X,KAAKuX,WAAWQ,oBAP1B/X,KAAK2X,2CA0BpBjX,OAAAkI,eAAI+nB,EAAAxvB,UAAA,kBAAe,KAAnB,WACI,OAAOnB,KAAKiyB,OAAOM,iDAGvB7xB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,UAAO,KAAX,WAEI,OADAnB,KAAKwyB,SAA6B,MAAjBxyB,KAAKwyB,SAAoBxyB,KAAKwyB,SAAWxyB,KAAKkxB,OAAO1rB,QAAQ,eACvExF,KAAKwyB,0CAIhB9xB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,YAAS,KAAb,WACI,OAAOnB,KAAKoyB,4CAGVzB,EAAAxvB,UAAAsxB,iBAAA,SAAiBryB,oGAEnB,MAAA,CAAA,GADIsyB,EAAU,IAAInC,IACJzK,UAAU1lB,EAAMJ,KAAKkxB,gBACnC,OADAlrB,EAAAlE,OACA,CAAA,EAAO4wB,WAYXhyB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,SAAM,KAAV,WAII,OAHAnB,KAAK2yB,QAAkC,MAAvB3yB,KAAK0Q,QAAQkH,QAAuDxC,MAArCpV,KAAK0Q,QAAQkH,OAAmB,WAAkB5X,KAAK0Q,QAAQkH,OAAmB,WAC1G,MAAhB5X,KAAK2yB,QAAmB3yB,KAAK2yB,QAC1B,IAAI1a,EAAOjY,KAAK0Q,QAAS1Q,KAAKuX,YACjCvX,KAAK2yB,yCAGhBjyB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,SAAM,KAAV,WAII,OAHAnB,KAAK4yB,QAAkC,MAAvB5yB,KAAK0Q,QAAQkH,QAAuDxC,MAArCpV,KAAK0Q,QAAQkH,OAAmB,WAAkB5X,KAAK0Q,QAAQkH,OAAmB,WAC1G,MAAhB5X,KAAK4yB,QAAmB5yB,KAAK4yB,QAC1B,IAAI9Z,EAAO9Y,KAAK0Q,QAAS1Q,KAAKuX,YACjCvX,KAAK4yB,yCAIhBlyB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,kBAAe,KAAnB,WAKI,OAHAnB,KAAK6yB,iBAAoB7yB,KAAqB,iBAAIA,KAAK6yB,iBAC/C7yB,KAAa,SAAIA,KAAK6X,SAASib,gBAAkB9yB,KAAK6yB,iBAEvD7yB,KAAK6yB,kDAGhBnyB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,eAAY,KAAhB,WAII,OAHAnB,KAAKmnB,cAAiBnnB,KAAkB,cAAIA,KAAKmnB,cACzCnnB,KAAa,SAAIA,KAAK6X,SAASwZ,aAAerxB,KAAKmnB,cAEpD,IAAI5M,EAAqBva,KAAKmnB,gDAUzCzmB,OAAAkI,eAAW+nB,EAAAxvB,UAAA,YAAS,KAApB,WAII,OAHAnB,KAAKuxB,eAAkBvxB,KAAmB,eAAIA,KAAKuxB,eAC3CvxB,KAAa,SAAIA,KAAK6X,SAAS/G,UAAY9Q,KAAKuxB,eAEjD,IAAI/L,GAAkBxlB,KAAKuxB,iDAgBtC7wB,OAAAkI,eAAW+nB,EAAAxvB,UAAA,WAAQ,KAAnB,WACI,GAAyC,IAArCnB,KAAK6wB,qBAAqB9tB,OAAc,CAExC,IAAI0uB,EAAezxB,KAAKyxB,eAExB,GAAIA,EAEA,IADA,IAAItiB,EAAY8K,KAAKW,MAAM6W,GAClBtgB,EAAQ,EAAGA,EAAQhC,EAAUpM,OAAQoO,IAC1CnR,KAAK6wB,qBAAqB7tB,KAAKugB,EAAgB5G,aAAaxN,EAAUgC,KAIlF,OAAOnR,KAAK6wB,sDAShBnwB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,UAAO,KAAX,WAII,YAHsBiU,IAAlBpV,KAAK4xB,WACL5xB,KAAK4xB,SAAW,IAAI1K,GAAQlnB,KAAKkxB,OAAQlxB,KAAK+yB,aAAc/yB,KAAKgzB,YAE9DhzB,KAAK4xB,0CAUhBlxB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,QAAK,KAAT,WAII,YAHoBiU,IAAhBpV,KAAKmuB,SACLnuB,KAAKmuB,OAAS,IAAI8E,GAAMjzB,KAAKkxB,SAE1BlxB,KAAKmuB,wCAGhBztB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,mBAAgB,KAApB,WAII,YAH+BiU,IAA3BpV,KAAK+xB,oBACL/xB,KAAK+xB,kBAAoB,IAAI1C,GAAiBrvB,KAAKkxB,OAAQlxB,OAExDA,KAAK+xB,mDAUhBrxB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,cAAW,KAAf,WACI,OAAOnB,KAAKkyB,8CAGhBxxB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,eAAY,KAAhB,WACI,OAAO1B,EAAAA,8CAGXiB,OAAAkI,eAAI+nB,EAAAxvB,UAAA,mBAAgB,KAApB,WACI,OAAOzB,EAAAA,qECxNX,SAAAwzB,EACWxiB,EACA6I,GAEP,GAHOvZ,KAAA0Q,QAAAA,EACA1Q,KAAAuZ,UAAAA,OAEqB,IAAjBvZ,KAAK0Q,cAAqD,IAAnB1Q,KAAKuZ,UACnD,MAAM,IAAInU,MAAM,gDAEpBQ,QAAQupB,KAAK,wBAA0BnvB,KAAKmzB,SAE5CnzB,KAAKsvB,KAAO,IAAIqB,GAAI3wB,KAAK0Q,QAAS1Q,KAAKuZ,kBAI3C7Y,OAAAkI,eAAIsqB,EAAA/xB,UAAA,UAAO,KAAX,WACI,MCzBuBiyB,mDD4B3B1yB,OAAAkI,eAAIsqB,EAAA/xB,UAAA,cAAW,KAAf,WACI,ME9B2B,sCFiC/BT,OAAAkI,eAAWsqB,EAAA/xB,UAAA,MAAG,KAAd,WACI,OAAOnB,KAAKsvB,2WGbhB,SACWnqB,GADX,IAAArB,EAAA9D,KACWA,KAAAmF,KAAAA,EAhBXnF,KAAA+D,MAAqBlE,EAAAA,YAAYS,KACjCN,KAAAgE,OAAuBjE,EAAAA,aAAakE,UAEtCjE,KAAAI,KAAe,GAEfJ,KAAA+P,kBAAwCnQ,EAAAA,mBAAmBwV,UAC3DpV,KAAAgQ,eAAwCrQ,EAAAA,sBAAsB0zB,KAC9DrzB,KAAAoJ,YAAsB,GACtBpJ,KAAAiQ,QAAkB,GAClBjQ,KAAAkQ,SAAmB,GAEnBlQ,KAAAmQ,UAAoB,GACpBnQ,KAAAoQ,aAAuB,GACvBpQ,KAAAszB,iBAA4CxzB,EAAAA,wBAAwBuzB,KAMlErzB,KAAAgF,KAAO,WAAA,OAAAuuB,GAAAzvB,OAAA,OAAA,GAAA,4EACK9D,KAAK+D,YACJlE,EAAAA,YAAYwF,IAAZ,MAAA,CAAA,EAAA,QAaAxF,EAAAA,YAAYyF,OAAZ,MAAA,CAAA,EAAA,QAaAzF,EAAAA,YAAY0F,OAAZ,MAAA,CAAA,EAAA,sBAzBkB,MAAA,CAAA,EAAMvF,KAAKmF,KAAKK,QAAQ,qBAAuBxF,KAAK8E,cAAgB,eAEvF,GAAa,MAFTL,EAAegB,EAAA3D,QAKf,MAFI2B,EAAQ,+BAAiCgB,EAC7CmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,sBAAwB3B,GAK5C,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAa8F,MAC3B7F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,UAGmB,MAAA,CAAA,EAAMN,KAAKmF,KAAKK,QAAQ,wBAA0BxF,KAAK+E,iBAAmB,eAEjG,GAAa,OAFLN,EAAegB,EAAA3D,QAKvB,MAFI2B,EAAQ,+BAAiCgB,EAC7CmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,sBAAwB3B,GAKpC,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAa+F,QAC3B9F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,UAGmB,MAAA,CAAA,EAAMN,KAAKmF,KAAKK,QAAQ,wBAA0BxF,KAAKwzB,iBAAmB,eAE7F,GAAa,OAFT/uB,EAAegB,EAAA3D,QAKf,MAFI2B,EAAQ,+BAAiCgB,EAC7CmB,QAAQnC,MAAMA,GACR,IAAI2B,MAAM,sBAAwB3B,GAK5C,OAFAzD,KAAKgE,OAASjE,EAAAA,aAAagG,QAC3B/F,KAAK+D,MAAQlE,EAAAA,YAAYS,KACzB,CAAA,EAAA,4BAKJN,KAAA+E,eAAiB,WACrB,OAAOjB,EAAKqM,UAAY,MACpBrM,EAAKsF,YAAc,OAClBtF,EAAKgM,UAAY3I,EAAOa,aAAalE,EAAKgM,WAAa,IAAM,OAC7DhM,EAAKgG,SAAW3C,EAAOa,aAAalE,EAAKgG,UAAY,IAAM,MAC5DhG,EAAKiM,kBAAoB,MACzBjM,EAAKkM,gBAGLhQ,KAAAwzB,eAAiB,WACrB,OAAO1vB,EAAKqM,UAAY,OACnBrM,EAAKgG,SAAW3C,EAAOa,aAAalE,EAAKgG,UAAY,IAAM,OAC3DhG,EAAKwvB,mBAAqBxzB,EAAAA,wBAAwBuzB,KAAOvvB,EAAKwvB,iBAAmB,KAGlFtzB,KAAA8E,YAAc,WAClB,OAAOhB,EAAK1D,KAAO,MACf0D,EAAKsF,YAAc,OAClBtF,EAAKgM,UAAY3I,EAAOa,aAAalE,EAAKgM,WAAa,IAAM,MAC9DhM,EAAKqM,UAAY,KACjBrM,EAAKsM,aAAe,KACpBtM,EAAKmM,QAAU,OACdnM,EAAKgG,SAAW3C,EAAOa,aAAalE,EAAKgG,UAAY,IAAM,MAC5DhG,EAAKiM,kBAAoB,MACzBjM,EAAKkM,kBC3FjB,SAAWyjB,GACP,IAAIC,EACJ,IACIA,EAAW,IAAIR,GAASO,EAAQA,EAAOE,UACvCF,EAAiB,SAAIC,EAEzB,MAAOzwB,GACH2C,QAAQnC,MAAMR,IAPtB,CAUGwwB","sourcesContent":["export enum LocationType {\r\n    None = 0,\r\n    Home = 1,\r\n    Current = 2\r\n}\r\n","export enum UserCallFunction {\r\n    None = 0,\r\n    UserList = 1,\r\n    UserInfo = 2\r\n}\r\n","export enum AllergyClassification {\r\n    none = '',\r\n    drug = 'DRUG',\r\n    food = 'FOOD',\r\n    environmental = 'ENVIRONMENTAL'\r\n}","export enum AllergyCriticality {\r\n    undefined = '',\r\n    critical = 'C',\r\n    severe = 'S',\r\n    moderate = 'N',\r\n    mild = 'I'\r\n}","export enum ObjectState {\r\n    None = 0,\r\n    Add = 1,\r\n    Update = 2,\r\n    Remove = 3\r\n}\r\n","export enum AllergyReasonForRemoval {\r\n    none = '',\r\n    error = 'Entered in error',\r\n    patientCorrected  = 'Patient corrected',\r\n    disproved = 'Allergy disproved',\r\n    other = 'Other'\r\n}","export enum ObjectStatus {\r\n    Unchanged = 0,\r\n    Added = 1,\r\n    Updated = 2,\r\n    Removed = 3,\r\n    Changed = 4,\r\n}\r\n","export class ObsTermsMap {\r\n    weight: string = 'Weight';\r\n    height: string = 'Height';\r\n\r\n    constructor() { }\r\n}","import { LocationType } from '../enums';\r\n\r\nexport class Location {\r\n\r\n    constructor(\r\n        public id: string,\r\n        public name: string,\r\n        public locationType: LocationType\r\n    ) {\r\n        this.id = (this.id != null) ? this.id : '';\r\n        this.name = (this.name != null) ? this.name : '';\r\n        this.locationType = (this.locationType != null) ? this.locationType : LocationType.None\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { ObjectState, ObjectStatus } from '../enums';\r\nimport { EmrMel } from './EmrMel';\r\n\r\nexport interface EmrContentParams {\r\n    data?: string,\r\n    mel?: EmrMel\r\n    // Add Parameters ...\r\n}\r\n\r\n/* This class correlates to the ContentList table.\r\n * The \"namespace\" parameter (formal key) is not unique and maybe duplicated 255 characters\r\n * The \"nodeName\" parameter (formal name) 20 characters\r\n * The \"displayName\" parameter (formal value) 400 characters\r\n * The \"code\" parameter 20 characters. You may use as Encrypted/Encoded flag.\r\n * The \"codeType\" parameter 10 characters. You may use as type of encryption, for example BASE64 \r\n * The \"contentGroup\" parameter is numeric\r\n * The \"listOrder\" parameter is numeric\r\n * The \"contentDefault\" parameter is numeric\r\n */\r\nexport class EmrContent {\r\n\r\n\r\n    state: ObjectState = ObjectState.None;\r\n    status: ObjectStatus = ObjectStatus.Unchanged;\r\n\r\n    contentId: string;\r\n    namespace: string;\r\n    nodeName: string;\r\n    displayName: string;\r\n    sourceName: string | null;\r\n    code: string | null;\r\n    codeType: string | null;\r\n    contentGroup: string;\r\n    listOrder: string;\r\n    contentDefault: string;\r\n\r\n    private _mel: EmrMel\r\n    private data: Array<string>;\r\n\r\n    constructor(params: EmrContentParams = {} as EmrContentParams) {\r\n        let { data = null, mel = null } = params;\r\n        this._mel = mel;\r\n        this.data = (data == null) ? [] : data.split('^');\r\n        this.initializeData()\r\n    }\r\n\r\n    private initializeData = (): void => {\r\n        this.contentId = (this.data.length > 0) ? this.data[0] : '';\r\n        this.namespace = (this.data.length > 1) ? this.data[1] : '';\r\n        this.nodeName = (this.data.length > 2) ? this.data[2] : '';\r\n        this.displayName = (this.data.length > 3) ? this.data[3] : '';\r\n        this.sourceName = (this.data.length > 4) ? this.data[4] : '';\r\n        this.code = (this.data.length > 5) ? this.data[5] : '';\r\n        this.codeType = (this.data.length > 6) ? this.data[6] : '';\r\n        this.contentGroup = (this.data.length > 7) ? this.data[7] : '';\r\n        this.listOrder = (this.data.length > 8) ? this.data[8] : '';\r\n        this.contentDefault = (this.data.length > 9) ? this.data[9] : '';\r\n    }\r\n\r\n    private toAddString = (): string => {\r\n        return this.namespace + '^' +\r\n            this.nodeName + '^' +\r\n            this.displayName + '^' +\r\n            this.sourceName + '^' +\r\n            this.code + '^' +\r\n            this.codeType + '^' +\r\n            this.contentGroup + '^' +\r\n            this.listOrder + '^' +\r\n            this.contentDefault;\r\n    }\r\n\r\n    private toChangeString = (): string => {\r\n        return this.namespace + '^' +\r\n            this.nodeName + '^' +\r\n            this.displayName + '^' +\r\n            this.sourceName + '^' +\r\n            this.code + '^' +\r\n            this.codeType + '^' +\r\n            this.contentGroup + '^' +\r\n            this.listOrder + '^' +\r\n            this.contentDefault;\r\n    }\r\n\r\n    save = async (mel?: EmrMel) => {\r\n        if (!this._mel && mel) { this._mel = mel; }\r\n        if (!this._mel) { throw new Error('Mel undefined');}\r\n        switch (this.state) {\r\n            case ObjectState.Add: {\r\n                let code: string = await this._mel.melFunc('{MEL_ADD_CONTENT(\"' + this.toAddString() + '\")}');\r\n                let codeNumeric: number = +code;\r\n                if (codeNumeric < 0 || codeNumeric === NaN) {\r\n                    let error = 'EmrContent.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('EmrContent not saved. ' + error);\r\n                }\r\n\r\n                this.contentId = code;\r\n                this.nodeName = (this.nodeName) ? this.nodeName : code;\r\n                this.status = ObjectStatus.Added;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n            case ObjectState.Update: {\r\n                let code: string = await this._mel.melFunc('{MEL_UPDATE_CONTENT(\"' + this.contentId + '\",\"' + this.toChangeString() + '\")}');\r\n                let codeNumeric: number = +code;\r\n\r\n                if (codeNumeric < 0 || codeNumeric === NaN) {\r\n                    let error = 'EmrContent.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('EmrContent not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Updated;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n            case ObjectState.Remove: {\r\n                let code: string = await this._mel.melFunc('{MEL_REMOVE_CONTENT(\"' + this.contentId + '\")}');\r\n                let codeBoolean: boolean = (code == \"true\");\r\n\r\n                if (!codeBoolean) {\r\n                    let error = 'EmrContent.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('EmrContent not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Removed;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}","export class PatientContact {\r\n\r\n    private data = (this._value == null) ? [] : this._value.split('^');\r\n    name: string = (this.data.length > 0) ? this.data[0] : '';\r\n    type: string = (this.data.length > 1) ? this.data[1] : '';\r\n    phone: string = (this.data.length > 2) ? this.data[2] : '';\r\n    phoneType: string = (this.data.length > 3) ? this.data[3] : '';\r\n    address1: string = (this.data.length > 4) ? this.data[4] : '';\r\n    address2: string = (this.data.length > 5) ? this.data[5] : '';\r\n    city: string = (this.data.length > 6) ? this.data[6] : '';\r\n    state: string = (this.data.length > 7) ? this.data[7] : '';\r\n    zip: string = (this.data.length > 8) ? this.data[8] : '';\r\n    country: string = (this.data.length > 9) ? this.data[9] : '';\r\n    address: string = this.address1.concat(' ' + this.address2);\r\n\r\n    constructor(\r\n        public _value: string\r\n    ) { }\r\n\r\n    toMelString = (): string => {\r\n        return this._value;\r\n    }\r\n}","import { EmrMel } from \"./EmrMel\";\r\n\r\nexport abstract class EmrObject<T> {\r\n    constructor(item?:T) {\r\n        if (item) {\r\n            Object.keys(this).forEach(key => {\r\n                this[key] = item[key] ? item[key] : this[key];\r\n            });\r\n        }\r\n    }\r\n\r\n    abstract saveAsync(mel: EmrMel): Promise<void>;\r\n}","export const emptyImage: string = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII===';\r\nexport const simulatorChromeExtensionId = \"chgnndkhlnpmfkjnchmnhkfneccghaaf\";","import { emptyImage } from \"../consts/strings\";\r\n\r\nexport class System {\r\n    static isSimulator: boolean = false;\r\n\r\n    static toDate(value: string): Date {\r\n        if (value) {\r\n            return new Date(parseInt(value.substr(6)));\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static toImage(arrayBuffer:[]){\r\n        if (arrayBuffer) {\r\n            return \"data:image/jpg;base64,\" + btoa(String.fromCharCode.apply(null, new Uint8Array(arrayBuffer)));\r\n        }\r\n        else {\r\n            return emptyImage;\r\n        }\r\n    }\r\n\r\n    static formatDate(value: string): string {\r\n        if (value) {\r\n            if (value.length == 8) {\r\n                return value.substr(4, 2) + '/' + value.substr(6, 2) + '/' + value.substr(0, 4);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static dateToString(date: Date): string {\r\n        return ((date.getMonth() > 8) ? (date.getMonth() + 1) : ('0' + (date.getMonth() + 1)))\r\n            + '/' + ((date.getDate() > 9) ? date.getDate() : ('0' + date.getDate()))\r\n            + '/' + date.getFullYear();\r\n    }\r\n\r\n    static nonenumerable (target: any, propertyKey: string) {\r\n        let descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\r\n        if (descriptor.enumerable !== false) {\r\n            descriptor.enumerable = false;\r\n            descriptor.writable = true;\r\n            Object.defineProperty(target, propertyKey, descriptor)\r\n        }\r\n    }\r\n}","import { ObjectState, ObjectStatus } from '../enums';\r\nimport { Condition } from '../fhir';\r\nimport { EmrMel } from './EmrMel';\r\nimport { EmrObject } from './EmrObject';\r\nimport { System } from './System';\r\n\r\nexport class Problem extends EmrObject<Problem> {\r\n    status: ObjectStatus = ObjectStatus.Unchanged;\r\n    state: ObjectState = ObjectState.None;\r\n\r\n    // The assessment values:\r\n    // New or N\r\n    // Improved or I\r\n    // Unchanged or U\r\n    // Deteriorated or D\r\n    // Comment only or C\r\n    // Note. Codes that were supported in previous releases may also appear as Better (B), Same (S), or Worse (W).\r\n    assessment: string = 'N';\r\n    note: string = '';\r\n\r\n    problemId: string = '';\r\n    type: string = '';\r\n    description: string = '';\r\n    codeIcd9: string = '';\r\n    comment: string = '';\r\n    onsetDate: Date | undefined;\r\n    stopDate: Date | undefined;\r\n    stopReason: string = '';\r\n    codeIcd10: string = '';\r\n    lastModifiedDate: string = '';\r\n\r\n    \r\n    save = (mel: EmrMel) => {\r\n        switch (this.state) {\r\n            case ObjectState.Add: {\r\n                let code: string = mel.melFunc('{MEL_ADD_PROBLEM(\"' + this.toAddString() + '\")}');\r\n\r\n                if (code !== '0') {\r\n                    let error = 'Problem.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('Problem not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Added;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    saveAsync = async (mel: EmrMel) => {\r\n        switch (this.state) {\r\n            case ObjectState.Add: {\r\n                let code: string = await mel.melFunc('{MEL_ADD_PROBLEM(\"' + this.toAddString() + '\")}');\r\n\r\n                if (code !== '0') {\r\n                    let error = 'Problem.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('Problem not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Added;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    constructor(problem?: Problem) {\r\n        super(problem);\r\n    }\r\n\r\n    public get code()  {\r\n        return this.codeIcd9 && this.codeIcd10\r\n            ? this.codeIcd9 + '|' + this.codeIcd10\r\n            : this.codeIcd9 + this.codeIcd10;\r\n    }\r\n\r\n    private toAddString = (): string => {\r\n        return this.type + '\",\"' +\r\n            this.description + '\",\"' +\r\n            this.code + '\",\"' +\r\n            (this.onsetDate ? System.dateToString(this.onsetDate) : '') + '\",\"' +\r\n            (this.stopDate ? System.dateToString(this.stopDate) : '') + '\",\"' +\r\n            this.comment + '\",' +\r\n            this.assessment + ',\"' +\r\n            this.note;\r\n    }\r\n\r\n\r\n    // Usage:\r\n    // let problem: Problem = Problem.fromFhir(condition);\r\n    //\r\n    static fromFhir(condition: Condition): Problem {\r\n        const problem = new this() \r\n        problem.description = condition.code.text;\r\n        problem.comment = condition.evidence?.[0]?.code.text;\r\n        return problem;        \r\n    }\r\n}","import { EmrMel } from './EmrMel'\r\n\r\nexport class Immunization {\r\n\r\n    private data: Array<string> = (this._value == null) ? [] : this._value.split('^');\r\n    private isNew: boolean = this._value == null ? true : false;\r\n\r\n    immunizationId: string = (this.data.length > 0) ? this.data[0] : '';\r\n    immunizationGroupId: string = (this.data.length > 1) ? this.data[1] : '';\r\n    vaccineGroupName: string = (this.data.length > 2) ? this.data[2] : '';\r\n    vaccineName: string = (this.data.length > 3) ? this.data[3] : '';\r\n    medicalDisplayName: string = (this.data.length > 4) ? this.data[4] : '';\r\n    series: string = (this.data.length > 5) ? this.data[5] : '';\r\n    wasGiven: string = (this.data.length > 6) ? this.data[6] : '';\r\n    reasonNotGiven: string = (this.data.length > 7) ? this.data[7] : '';\r\n    historical: string = (this.data.length > 8) ? this.data[8] : '';\r\n    historicalSource: string = (this.data.length > 9) ? this.data[9] : '';\r\n    vfcElegibility: string = (this.data.length > 10) ? this.data[10] : '';\r\n    ddid: string = (this.data.length > 11) ? this.data[11] : '';\r\n    dnid: string = (this.data.length > 12) ? this.data[12] : '';\r\n    gpi: string = (this.data.length > 13) ? this.data[13] : '';\r\n    kdc: string = (this.data.length > 14) ? this.data[14] : '';\r\n    ndc: string = (this.data.length > 15) ? this.data[15] : '';\r\n    cvxCode: string = (this.data.length > 16) ? this.data[16] : '';\r\n    doseAmount: string = (this.data.length > 17) ? this.data[17] : '';\r\n    dosageUnitOfMeasure: string = (this.data.length > 18) ? this.data[18] : '';\r\n    route: string = (this.data.length > 19) ? this.data[19] : '';\r\n    routeCode: string = (this.data.length > 20) ? this.data[20] : '';\r\n    site: string = (this.data.length > 21) ? this.data[21] : '';\r\n    siteCode: string = (this.data.length > 22) ? this.data[22] : '';\r\n    manufacturer: string = (this.data.length > 23) ? this.data[23] : '';\r\n    manufacturerCode: string = (this.data.length > 24) ? this.data[24] : '';\r\n    lotNumber: string = (this.data.length > 25) ? this.data[25] : '';\r\n    expirationDate: string = (this.data.length > 26) ? this.data[26] : '';\r\n    visPublishedDate: string = (this.data.length > 27) ? this.data[27] : '';\r\n    administeredByName: string = (this.data.length > 28) ? this.data[28] : '';\r\n    administeredDate: string = (this.data.length > 29) ? this.data[29] : '';\r\n    administeredDateType: string = (this.data.length > 30) ? this.data[30] : '';\r\n    administeredComments: string = (this.data.length > 31) ? this.data[31] : '';\r\n    advReactionDateTime: string = (this.data.length > 32) ? this.data[32] : '';\r\n    advReactionDateTimeType: string = (this.data.length > 33) ? this.data[33] : '';\r\n    advReactionComments: string = (this.data.length > 34) ? this.data[34] : '';\r\n    advReactionCmtByName: string = (this.data.length > 35) ? this.data[35] : '';\r\n    signed: string = (this.data.length > 36) ? this.data[36] : '';\r\n    signedByName: string = (this.data.length > 37) ? this.data[37] : '';\r\n    signedDate: string = (this.data.length > 38) ? this.data[38] : '';\r\n    reasonRemoved: string = (this.data.length > 39) ? this.data[39] : '';\r\n    stopDate: string = (this.data.length > 40) ? this.data[40] : '';\r\n    reasonNotGivenMedical: string = (this.data.length > 41) ? this.data[41] : '';\r\n    reasonNotGivenMedicalDetail: string = (this.data.length > 42) ? this.data[42] : '';\r\n\r\n    constructor(\r\n        public _value: string,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    save = (): void => {\r\n        if (this.isNew) {\r\n            let isError = this.validateAdd();\r\n            let response;\r\n            if (isError === '') {\r\n                response = this._mel.melFunc('{IMMUN_ADD(\"' + this.toStringAdd() + '\")}');\r\n                if (response < 0) {\r\n                    alert(response);\r\n                }\r\n            } else {\r\n                alert(isError);\r\n            }\r\n        } else {\r\n            // TODO: add updating of model\r\n        }\r\n    }\r\n\r\n    toMelString = (): string => {\r\n        return this._value;\r\n    }\r\n\r\n    validateAdd = (): string => {\r\n        let errorMessage = ' is required.';\r\n        // check required parameters\r\n        if (this.vaccineGroupName === '') {\r\n            return 'vaccineGroupName' + errorMessage;\r\n        }\r\n        if (this.wasGiven === '') {\r\n            return 'wasGiven' + errorMessage;\r\n        }\r\n        if (this.historical === '') {\r\n            return 'historical' + errorMessage;\r\n        }\r\n        if (this.vfcElegibility === '') {\r\n            return 'vfcElegibility' + errorMessage;\r\n        }\r\n        if (this.administeredDate === '') {\r\n            return 'administeredDate' + errorMessage;\r\n        }\r\n        if (this.doseAmount.match(/[0-9]{1,25}/g) == null) {\r\n            return 'doseAmount should be numeric.';\r\n        }\r\n        return '';\r\n    }\r\n\r\n    toStringAdd = (): string => {\r\n        return this.vaccineGroupName + '^' + \r\n            this.vaccineName + '^' +\r\n            this.medicalDisplayName + '^' +\r\n            this.series + '^' +\r\n            this.wasGiven + '^' +\r\n            this.reasonNotGiven + '^' +\r\n            this.historical + '^' +\r\n            this.historicalSource + '^' +\r\n            this.vfcElegibility + '^' +\r\n            this.ddid + '^' +\r\n            this.dnid + '^' +\r\n            this.gpi + '^' +\r\n            this.kdc + '^' +\r\n            this.ndc + '^' +\r\n            this.cvxCode + '^' +\r\n            this.doseAmount + '^' +\r\n            this.dosageUnitOfMeasure + '^' +\r\n            this.route + '^' +\r\n            this.routeCode + '^' +\r\n            this.site + '^' +\r\n            this.siteCode + '^' +\r\n            this.manufacturer + '^' +\r\n            this.manufacturerCode + '^' +\r\n            this.lotNumber + '^' +\r\n            this.expirationDate + '^' +\r\n            this.visPublishedDate + '^' +\r\n            this.administeredByName + '^' +\r\n            this.administeredDate + '^' +\r\n            this.administeredDateType + '^' +\r\n            this.administeredComments + '^' +\r\n            this.advReactionDateTime + '^' +\r\n            this.advReactionDateTimeType + '^' +\r\n            this.advReactionComments + '^' +\r\n            this.advReactionCmtByName + '^' +\r\n            this.signed + '^' +\r\n            this.signedByName + '^' +\r\n            this.signedDate + '^' +\r\n            this.reasonRemoved + '^' +\r\n            this.stopDate + '^' +\r\n            this.reasonNotGivenMedical + '^' +\r\n            this.reasonNotGivenMedicalDetail;\r\n    }\r\n}","export class ObservationType {\r\n\r\n    None: string = 'Undefined';\r\n    Signed: string = 'Signed';\r\n    DocumentUnsigned: string = 'Update';\r\n\r\n    constructor() { }\r\n}","import { UserCallFunction } from '../enums';\r\n\r\nexport class User {\r\n\r\n    private data: Array<string> = (this._value == null) ? [] : this._value.split('^');\r\n\r\n    loginName: string;\r\n    searchName: string;\r\n    phoneNumber: string;\r\n    homeLocation: string;\r\n    group: string;\r\n    jobTitle: string;\r\n    specialty: string;\r\n    roles: Array<string>;\r\n    npi: string;\r\n    prescriberId: string;\r\n    deaId: string;\r\n    stateLicenceId: string;\r\n    memberLogin: string;\r\n    data2000: string;\r\n    uniquePhysicianId: string;\r\n    activationDate: string;\r\n    expirationDate: string;\r\n    currentLocation: string;\r\n    firstName: string;\r\n    middleName: string;\r\n    lastName: string;\r\n\r\n    constructor(\r\n        public _value: string,\r\n        public callFunction: UserCallFunction\r\n    ) {\r\n        if (callFunction === UserCallFunction.UserInfo) {\r\n            this.loginName = (this.data.length > 0) ? this.data[0] : '';\r\n            this.searchName = (this.data.length > 1) ? this.data[1] : '';\r\n            this.phoneNumber = (this.data.length > 2) ? this.data[2] : '';\r\n            this.homeLocation = (this.data.length > 3) ? this.data[3] : '';\r\n            this.group = (this.data.length > 4) ? this.data[4] : '';\r\n            this.jobTitle = (this.data.length > 5) ? this.data[5] : '';\r\n            this.specialty = (this.data.length > 6) ? this.data[6] : '';\r\n            this.roles = (this.data.length > 7) ? this.data[7].split(';') : [];\r\n            this.npi = (this.data.length > 8) ? this.data[8] : '';\r\n            this.prescriberId = (this.data.length > 9) ? this.data[9] : '';\r\n            this.deaId = (this.data.length > 10) ? this.data[10] : '';\r\n            this.stateLicenceId = (this.data.length > 11) ? this.data[11] : '';\r\n            this.memberLogin = (this.data.length > 12) ? this.data[12] : '';\r\n            this.data2000 = (this.data.length > 13) ? this.data[13] : '';\r\n            this.uniquePhysicianId = (this.data.length > 14) ? this.data[14] : '';\r\n            this.activationDate = (this.data.length > 15) ? this.data[15] : '';\r\n            this.expirationDate = (this.data.length > 16) ? this.data[16] : '';\r\n            this.currentLocation = (this.data.length > 17) ? this.data[17] : '';\r\n            this.firstName = (this.data.length > 18) ? this.data[18] : '';\r\n            this.middleName = (this.data.length > 19) ? this.data[19] : '';\r\n            this.lastName = (this.data.length > 20) ? this.data[20] : '';\r\n        }\r\n\r\n        if (callFunction === UserCallFunction.UserList) {\r\n            this.loginName = (this.data.length > 0) ? this.data[0] : '';\r\n            this.searchName = (this.data.length > 1) ? this.data[1] : '';\r\n            this.phoneNumber = (this.data.length > 2) ? this.data[2] : '';\r\n            this.homeLocation = (this.data.length > 3) ? this.data[3] : '';\r\n            this.group = (this.data.length > 4) ? this.data[4] : '';\r\n            this.jobTitle = (this.data.length > 5) ? this.data[5] : '';\r\n            this.specialty = (this.data.length > 6) ? this.data[6] : '';\r\n            this.npi = (this.data.length > 7) ? this.data[7] : '';\r\n            this.prescriberId = (this.data.length > 8) ? this.data[8] : '';\r\n            this.deaId = (this.data.length > 9) ? this.data[9] : '';\r\n            this.stateLicenceId = (this.data.length > 10) ? this.data[10] : '';\r\n            this.memberLogin = (this.data.length > 11) ? this.data[11] : '';\r\n            this.data2000 = (this.data.length > 12) ? this.data[12] : '';\r\n            this.uniquePhysicianId = (this.data.length > 13) ? this.data[13] : '';\r\n            this.activationDate = (this.data.length > 14) ? this.data[14] : '';\r\n            this.expirationDate = (this.data.length > 15) ? this.data[15] : '';\r\n            this.roles = [];\r\n        }\r\n    }\r\n\r\n    toMelString = () => {\r\n        return this._value;\r\n    }\r\n}","import { IStringInternal } from '../interfaces';\r\n\r\nexport function StringInternal(value: string, tag?: string): IStringInternal {\r\n    value = (value) ? value : '';\r\n    let result: IStringInternal = new String(value) as IStringInternal;\r\n\r\n    // Function parse string object to array of string \r\n    result.toList = (seporator?: string): Array<string> => {\r\n        if (seporator == null) {\r\n            seporator = '|';\r\n        }\r\n        let dataArray = value.split(seporator);\r\n        /*jslint plusplus: true */\r\n        dataArray = dataArray.filter((item) => {\r\n            return item.length !== 0;\r\n        });\r\n        return dataArray;\r\n    }\r\n\r\n    // String helper function to validate that string start with specified string\r\n    result.startsWith = (str: string) => {\r\n        return value.slice(0, str.length) === str;\r\n    }\r\n\r\n    // String helper function to validate that string end with specified string\r\n    result.endsWith = (str: string) => {\r\n        return value.slice(-str.length) === str;\r\n    }\r\n\r\n    result.tag = (tag != null) ? tag : '';\r\n\r\n    result.toDate = (): Date | undefined => {\r\n        let theDate = new Date(value.toString());\r\n        if (theDate instanceof Date && !isNaN(theDate.valueOf())) {\r\n            return theDate;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}","import { StringInternal } from '../factories/StringInternal';\r\nimport { IAllergyData } from '../interfaces';\r\n\r\nexport class AllergyList implements IAllergyData {\r\n\r\n    protected data: Array<string> = (this._value == null) ? [] : this._value.split('^');\r\n\r\n    name = (() => {\r\n        console.log(this._value);\r\n        return (this.data.length > 0);}) ? this.data[0] : '';\r\n    onSetDate = StringInternal((this.data.length > 1) ? this.data[1] : '').toDate();\r\n        criticalIndicator = (this.data.length > 2) ? this.data[2] : '';\r\n    classification = (this.data.length > 3) ? this.data[3] : '';\r\n    description = (this.data.length > 4) ? this.data[4] : '';\r\n    gpiCode = (this.data.length > 5) ? this.data[5] : '';\r\n    severity = (this.data.length > 6) ? this.data[6] : '';\r\n    allergyId = (this.data.length > 7) ? this.data[7] : '';\r\n    stopDate = null;\r\n    reactionCode: number = 32; // OTHER=32\r\n    \r\n    constructor(\r\n        public _value: string\r\n    ) { }\r\n}","import { StringInternal } from '../factories/StringInternal';\r\nimport { AllergyList } from './AllergyList';\r\n\r\nexport class AllergyListRemoved extends AllergyList {\r\n\r\n    name = (this.data.length > 0) ? this.data[0] : '';\r\n    onSetDate = StringInternal((this.data.length > 1) ? this.data[1] : '').toDate();\r\n    stopDate = (this.data.length > 2) ? this.data[2] : '';\r\n    criticalIndicator = (this.data.length > 3) ? this.data[3] : '';\r\n    classification = (this.data.length > 4) ? this.data[4] : '';\r\n    description = (this.data.length > 5) ? this.data[5] : '';\r\n    gpiCode = (this.data.length > 6) ? this.data[6] : '';\r\n    severity = (this.data.length > 7) ? this.data[7] : '';\r\n    allergyId = (this.data.length > 8) ? this.data[8] : '';\r\n\r\n    constructor(\r\n        public _value: string\r\n    ) {\r\n        super(_value);\r\n    }\r\n}","import { IItem } from '../interfaces';\r\n\r\nexport function DocumentVariable(value, saveCallback): IItem {\r\n    let result: IItem = (value == null) ? new Object() : value;\r\n    result.save = () => {\r\n        if (saveCallback != null) {\r\n            saveCallback();\r\n        }\r\n    }\r\n    return result;\r\n}","export function IsActiveXSupported(_window: any): boolean {\r\n    let result: boolean = 'ActiveXObject' in _window;\r\n\r\n    // Verify ActiveX support in this browser\r\n    if (!result) {\r\n        console.log(\"Your browser does not support ActiveX objects\");\r\n    }\r\n    return result;\r\n}","export function GetActiveXErrorMessage(objectName: string, e: { Message: string }) {\r\n    let result = \"Unable to load ActiveX interface \" + objectName;\r\n    result += ((e != null && e.hasOwnProperty(\"Message\")) ? \".\\nError message: \" + e.Message : \"\");\r\n    return result;\r\n}","import { AllergyList } from './AllergyList';\r\nimport { AllergyListRemoved } from './AllergyListRemoved';\r\nimport { EmrMel } from './EmrMel';\r\nimport { StringInternal } from '../factories/factories';\r\nimport { IArrayAdditionalMethods } from '../interfaces';\r\n\r\nexport class Allergies {\r\n\r\n    private _added: string;\r\n    private _addedArray: IArrayAdditionalMethods<AllergyList> = [];\r\n    private _current: string;\r\n    private _currentArray: IArrayAdditionalMethods<AllergyList> = [];\r\n    private _removed: string;\r\n    private _removedArray: IArrayAdditionalMethods<AllergyList> = [];\r\n\r\n    constructor(\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    get added() {\r\n        if (this._addedArray.length === 0) {\r\n            this._added = (this._added != null) ? this._added : this._mel.melFunc('{ALL_NEW(\"delimited\")}');\r\n            let dataArray = StringInternal(this._added).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._addedArray.push(new AllergyList(dataArray[index]));\r\n            }\r\n        }\r\n        return this._addedArray;\r\n    }\r\n\r\n    async addedAsync() {\r\n        if (this._addedArray.length === 0) {\r\n            this._added = (this._added != null) ? this._added : await this._mel.melFunc('{ALL_NEW(\"delimited\")}');\r\n            let dataArray = StringInternal(this._added).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._addedArray.push(new AllergyList(dataArray[index]));\r\n            }\r\n        }\r\n        return this._addedArray;\r\n    }\r\n\r\n    get current() {\r\n        if (this._currentArray.length === 0) {\r\n            this._current = (this._current != null) ? this._current : this._mel.melFunc('{ALL_PRIOR(\"delimited\")}');\r\n            let dataArray = StringInternal(this._current).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._currentArray.push(new AllergyList(dataArray[index]));\r\n            }\r\n        }\r\n        return this._currentArray;\r\n    }\r\n\r\n    async currentAsync() {\r\n        if (this._currentArray.length === 0) {\r\n            this._current = (this._current != null) ? this._current : await this._mel.melFunc('{ALL_PRIOR(\"delimited\")}');\r\n            let dataArray = StringInternal(this._current).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._currentArray.push(new AllergyList(dataArray[index]));\r\n            }\r\n        }\r\n        return this._currentArray;\r\n    }\r\n    \r\n    get removed() {\r\n        if (this._removedArray.length === 0) {\r\n            this._removed = (this._removed != null) ? this._removed : this._mel.melFunc('{ALL_REMOVED(\"delimited\")}');\r\n            let dataArray = StringInternal(this._removed).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._removedArray.push(new AllergyListRemoved(dataArray[index]));\r\n            }\r\n        }\r\n        return this._removedArray;\r\n    }\r\n\r\n    async removedAsync() {\r\n        if (this._removedArray.length === 0) {\r\n            this._removed = (this._removed != null) ? this._removed : await this._mel.melFunc('{ALL_REMOVED(\"delimited\")}');\r\n            let dataArray = StringInternal(this._removed).toList();\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._removedArray.push(new AllergyListRemoved(dataArray[index]));\r\n            }\r\n        }\r\n        return this._removedArray;\r\n    }\r\n}","import { ObservationType } from './ObservationType';\r\nimport { EmrMel } from './EmrMel';\r\n\r\nexport class Observation {\r\n\r\n    private data: Array<string> = (this._value == null) ? [] : this._value.split('^');\r\n    private _unitOfMeasure;\r\n    private _tag;\r\n    private readonly observationType: ObservationType = new ObservationType();\r\n\r\n    name: string = (this._name != null) ? this._name : '';\r\n    value: string = (this.data.length > 0) ? this.data[0] : '';\r\n    date: string = (this.data.length > 1) ? this.data[1] : '';\r\n    time: string = (this.data.length > 2) ? this.data[2] : '';\r\n    signingUser: string = (this.data.length > 3) ? this.data[3] : '';\r\n    enteringUser: string = (this.data.length > 4) ? this.data[4] : '';\r\n    flags: string = (this.data.length > 5) ? this.data[5] : '';\r\n    comment: string = (this.data.length > 6) ? this.data[6] : '';\r\n    state: string = (this.data.length > 7) ? this.data[7] : '';\r\n    locationOfCare: string = (this.data.length > 8) ? this.data[8] : '';\r\n    documentType: string = (this.data.length > 9) ? this.data[9] : '';\r\n    documentId: string = (this.data.length > 10) ? this.data[10] : '';\r\n    type: string = this._observationType;\r\n\r\n    constructor(\r\n        public _name: string,\r\n        public _observationType: string,\r\n        public _value: string,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    save = (): string => {\r\n        let response = this._mel.saveObservation(this.name, this.value, this.date); //  this._mel.melFunc('{OBSNOW(\"' + this.name + '\",\"' + this.value + '\")}');\r\n        if (this.tag != null && this.tag != '') {\r\n            response = this._mel.melFunc('{OBSTAGNOW(\"' + this.name + '\",\"' + this.tag + '\")}');\r\n        }\r\n        if (this.comment != null && this.comment != '') {\r\n            response = this._mel.melFunc('{OBSMODIFIERNOW(\"' + this.name + '\",\"' + this.comment + '\")}');\r\n        }\r\n        return response;\r\n    }\r\n\r\n    remove = (): void => {\r\n\r\n    }\r\n\r\n    get unitOfMeasure() {\r\n        this._unitOfMeasure = (this._unitOfMeasure != null) ? this._unitOfMeasure : this._mel.melFunc('{OBSUNIT(\"' + this.name + '\")}');\r\n        return this._unitOfMeasure;\r\n    }\r\n\r\n    get tag() {\r\n        this._tag = (this._tag != null) ? this._tag\r\n            : (this._observationType === this.observationType.DocumentUnsigned) ? this._mel.melFunc('{OBSTAGNOW(\"' + this.name + '\")}')\r\n                : '';\r\n        return this._tag;\r\n    }\r\n}\r\n","export class Protocol {\r\n\r\n    name: string = (this._value != null) ? this._value : '';\r\n\r\n    constructor(\r\n        public _value: string\r\n    ) { }\r\n}","import { ObsTermsMap } from './ObsTermsMap';\r\nimport { EmrMel } from './EmrMel';\r\n\r\nexport class Measurement implements ObsTermsMap {\r\n\r\n    constructor(\r\n        public isCurrent: boolean,\r\n        public _weight: string,\r\n        public _height: string,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    // mdObject.obsTermsMap.weight\r\n    get weight(): string {\r\n        return this._mel.getObs(this.isCurrent, this._weight);\r\n    }\r\n\r\n    // mdObject.obsTermsMap.height\r\n    get height(): string {\r\n        return this._mel.getObs(this.isCurrent, this._height);\r\n    }\r\n}","import { Measurement } from './Measurement';\r\nimport { EmrMel } from './EmrMel';\r\n\r\nexport class Measurements {\r\n\r\n    private _current: Measurement;\r\n    private _previous: Measurement;\r\n\r\n    constructor(\r\n        public _weight: string,\r\n        public _height: string,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    get current() {\r\n        return (this._current != null) ? this._current : new Measurement(true, this._weight, this._height, this._mel);\r\n    }\r\n\r\n    get previous() {\r\n        return (this._previous != null) ? this._previous : new Measurement(false, this._weight, this._height, this._mel);\r\n    }\r\n}","import { EmrMel } from './EmrMel';\r\n\r\nexport class Insurance {\r\n\r\n    private _name: string;\r\n    private _address: string;\r\n    private _insuranceId: string;\r\n    private _planName: string;\r\n    private _groupNumber: string;\r\n    private _phone: string;\r\n\r\n\r\n    constructor(\r\n        public insuranceType: string, // Type of insurance P = Primary S = Secondary O = Other,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    // The name of the patients insurance carrier.\r\n    get name() {\r\n        this._name = (this._name == null) ? this._mel.melFunc('{INS_NAME(\"' + this.insuranceType + '\")}') : this._name;\r\n        return this._name;\r\n    }\r\n\r\n    // The name and address of the patients insurance carrier.\r\n    get address() {\r\n        this._address = (this._address == null) ? this._mel.melFunc('{INS_ADDR(\"' + this.insuranceType + '\")}') : this._address;\r\n        return this._address;\r\n    }\r\n\r\n    // The patients insurance ID number for insurance carrier.\r\n    get insuranceId() {\r\n        this._insuranceId = (this._insuranceId == null) ? this._mel.melFunc('{INS_ID(\"' + this.insuranceType + '\")}') : this._insuranceId;\r\n        return this._insuranceId;\r\n    }\r\n\r\n    // The name of the patients plan for insurance\r\n    get planName() {\r\n        this._planName = (this._planName == null) ? this._mel.melFunc('{INS_PLAN(\"' + this.insuranceType + '\")}') : this._planName;\r\n        return this._planName;\r\n    }\r\n\r\n    // The group number of the patients insurance carrier.\r\n    get groupNumber() {\r\n        this._groupNumber = (this._groupNumber == null) ? this._mel.melFunc('{INS_GRP(\"' + this.insuranceType + '\")}') : this._groupNumber;\r\n        return this._groupNumber;\r\n    }\r\n\r\n    // The phone number of the patients insurance company\r\n    get phone() {\r\n        this._phone = (this._phone == null) ? this._mel.melFunc('{INS_PHONE(\"' + this.insuranceType + '\")}') : this._phone;\r\n        return this._phone;\r\n    }\r\n}","import { EmrMel } from './EmrMel';\r\n\r\nexport class CarePlan {\r\n\r\n    private data = this._value == null ? [] : this._value.split('^');\r\n    private isNew = this._value == null ? true : false;\r\n\r\n    carePlanId: string = (this.data.length > 0) ? this.data[0] : '';\r\n    goal: string = (this.data.length > 1) ? this.data[1] : '';\r\n    snomedCTCode: string = (this.data.length > 2) ? this.data[2] : '';\r\n    target: string = (this.data.length > 3) ? this.data[3] : '';\r\n    instructions: string = (this.data.length > 4) ? this.data[4] : '';\r\n    goalSetDate: string = (this.data.length > 5) ? this.data[5] : '';\r\n    goalMetDate: string = (this.data.length > 6) ? this.data[6] : '';\r\n    recordCreatedDateTime: string = (this.data.length > 7) ? this.data[7] : '';\r\n    sign: string = (this.data.length > 8) ? this.data[8] : '';\r\n    signedBy: string = (this.data.length > 9) ? this.data[9] : '';\r\n    signedDate: string = (this.data.length > 10) ? this.data[10] : '';\r\n    recordChangedDateTime: string = (this.data.length > 11) ? this.data[11] : '';\r\n    recordChangedBy: string = (this.data.length > 12) ? this.data[12] : '';\r\n    patientConditionDescription: string = (this.data.length > 13) ? this.data[13] : '';\r\n    patientConditionCode: string = (this.data.length > 14) ? this.data[14] : '';\r\n\r\n    constructor(\r\n        public _value: string,\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    save = (): void => {\r\n        if (this.isNew) {\r\n            let isError = this.validateAdd(); //TODO ADD VALIDATION\r\n            let response;\r\n            if (isError === '') {\r\n                response = this._mel.melFunc('{MEL_ADD_CARE_PLAN(' + this.toStringAdd() + ')}');\r\n                if (response < 0) {\r\n                    alert(this.carePlanAddError(response));\r\n                }\r\n            } else {\r\n                alert(isError);\r\n            }\r\n        }\r\n        else {\r\n            //update ;\r\n            //{MEL_UPDATE_CARE_PLAN(\"1691155657053120\",\"Goal-Exercise to lose weight\",\"\",\"\",\"\" ,\"\",\"2013/08/03\" ,\"\")}\r\n            //err_code = Mel.eval(\"{MEL_UPDATE_CARE_PLAN(\\\"\" +careplanID + \"\\\",\\\"\" +DB_TimeStamp + \"\\\",\\\"\" +goal_sel + \"\\\",\\\"\" +snomed_code + \"\\\",\\\"\" +target + \"\\\",\\\"\" +ins_sel + \"\\\",\\\"\" +sdate + \"\\\",\\\"\" +mdate + \"\\\",\\\"\" +problemID + \"\\\")}\");\r\n        }\r\n    }\r\n\r\n    toMelString = (): string => {\r\n        return this._value;\r\n    }\r\n\r\n    validateAdd = (): string => {\r\n        let errorMessage: string = ' is required.';\r\n        // check required parameters\r\n        if (this.goal === '') {\r\n            return 'goal' + errorMessage;\r\n        }\r\n        return '';\r\n    }\r\n\r\n    //MEL symbol for adding care this._value - format\r\n    //MEL_ADD_CARE_PLAN (Goal, SNOMEDCTCODE, Target, Instructions, GoalSetDate, GoalMetDate, PRID ( pipe separated Problem IDs selected from patients active problems) \r\n    toStringAdd = (): string => {\r\n        return '\\\"' + this.goal + '\\\",\\\"' +\r\n            this.snomedCTCode + '\\\",\\\"' +\r\n            this.target + '\\\",\\\"' +\r\n            this.instructions + '\\\",\\\"' +\r\n            this.goalSetDate + '\\\",\\\"' +\r\n            this.goalMetDate + '\\\",\\\"' +\r\n            this.patientConditionCode + '\\\"';\r\n    }\r\n\r\n    carePlanAddError = (code: string): string => {\r\n        let response: string = '';\r\n        switch (code) {\r\n            case \"-1\":\r\n                response = \"Error Code -1: Description or blank is too long.\";\r\n                break;\r\n            case \"-2\":\r\n                response = \"Error Code -2: Code is too long.\";\r\n                break;\r\n            case \"-3\":\r\n                response = \"Error Code -3: Target is too long.\";\r\n                break;\r\n            case \"-4\":\r\n                response = \"Error Code -4: Instruction is too long.\";\r\n                break;\r\n            case \"-5\":\r\n                response = \"Error Code -5: goalSetDate is invalid.\";\r\n                break;\r\n            case \"-6\":\r\n                response = \"Error Code -6: goalMetDate is invalid or less than goalSetDate.\";\r\n                break;\r\n            case \"-7\":\r\n                response = \"Error Code -7: Invalid patientConditionCode. Use $mdObject.patient.problems[index].problemId\";\r\n                break;\r\n            case \"-8\":\r\n                response = \"Error Code -8: Cannot add Care Plan for some other reason.\";\r\n                break;\r\n            case \"-21\":\r\n                response = \"Error Code -21: Service layer error.\";\r\n                break;\r\n            default:\r\n        }\r\n        return response;\r\n    }\r\n}","import { EmrMel } from './EmrMel';\r\nimport { MailingAddressExternal } from './external/MailingAddressExternal';\r\n\r\nexport class Address {\r\n\r\n    private _address1: string;\r\n    private _address2: string;\r\n    private _city: string;\r\n    private _state: string;\r\n    private _postCode: string;\r\n    private _country: string;\r\n\r\n    constructor(\r\n        public _mel: EmrMel,\r\n        public _mailingAddressExternal?: MailingAddressExternal\r\n    ) {\r\n        if (this._mailingAddressExternal) {\r\n            this._address1 = this._mailingAddressExternal.line1Addr;\r\n            this._address2 = this._mailingAddressExternal.line2Addr;\r\n            this._city = this._mailingAddressExternal.cityName;\r\n            this._country = this._mailingAddressExternal.countryCode;\r\n            this._postCode = this._mailingAddressExternal.postalCode;\r\n            this._state = this._mailingAddressExternal.stateCode;\r\n        }\r\n    }\r\n\r\n    // Returns the first line of the patients address\r\n    get address1() {\r\n        this._address1 = (this._address1 !== undefined) ? this._address1 : this._mel.melFunc('{PATIENT.ADDRESS1}');\r\n        return this._address1;\r\n    }\r\n\r\n    // Returns the second line of the patients address\r\n    get address2() {\r\n        this._address2 = (this._address2 !== undefined) ? this._address2 : this._mel.melFunc('{PATIENT.ADDRESS2}');\r\n        return this._address2;\r\n    }\r\n\r\n    // Returns the patients city of residence\r\n    get city() {\r\n        this._city = (this._city !== undefined) ? this._city : this._mel.melFunc('{PATIENT.CITY}');\r\n        return this._city;\r\n    }\r\n\r\n    // Returns the patients country of residence\r\n    get country() {\r\n        this._country = (this._country !== undefined) ? this._country : this._mel.melFunc('{PATIENT.COUNTRY}');\r\n        return this._country;\r\n    }\r\n\r\n    // Returns the patients ZIP/Postal code\r\n    get postCode() {\r\n        this._postCode = (this._postCode !== undefined) ? this._postCode : this._mel.melFunc('{PATIENT.ZIP}');\r\n        return this._postCode;\r\n    }\r\n\r\n    // Returns the patients state or province\r\n    get state() {\r\n        this._state = (this._state !== undefined) ? this._state : this._mel.melFunc('{PATIENT.STATE}');\r\n        return this._state;\r\n    }\r\n}","import { EmrMel } from './EmrMel';\r\nimport { ElectronicAddressExternal } from './external/ElectronicAddressExternal';\r\n\r\nexport class Phone {\r\n\r\n    private _home: string;\r\n    private _business: string;\r\n    private _mobile: string;\r\n    private _fax: string;\r\n\r\n    constructor(\r\n        public _mel: EmrMel,\r\n        public _electronicAddressExternal?: ElectronicAddressExternal[]\r\n    ) {\r\n        if (this._electronicAddressExternal) {\r\n            this._home = (this._home !== undefined) ? this._home : this._electronicAddressExternal.find(a => (a.addressSettingCode === \"H\" && a.urlScheme === \"tel\"))?.urlAddr;\r\n            this._home = (this._home) ? this.formatMelPhone(this._home) : this._home;\r\n\r\n            this._business = (this._business !== undefined) ? this._business : this._electronicAddressExternal.find(a => (a.addressSettingCode === \"WP\" && a.urlScheme === \"tel\"))?.urlAddr;\r\n            this._business = (this._business) ? this.formatMelPhone(this._business) : this._business;\r\n\r\n            this._mobile = (this._mobile !== undefined) ? this._mobile : this._electronicAddressExternal.find(a => (a.addressSettingCode === \"MC\" && a.urlScheme === \"tel\"))?.urlAddr;\r\n            this._mobile = (this._mobile) ? this.formatMelPhone(this._mobile) : this._mobile;\r\n        }\r\n    }\r\n\r\n    private formatMelPhone = (phone) => {\r\n        var phoneTest = new RegExp(/(\\d{3})(\\d{3})(\\d{4})(\\d+)?/);\r\n        phone = phone.trim();\r\n        var results = phoneTest.exec(phone);\r\n        if (results !== null && results.length > 4) {\r\n            return \"(\" + results[1] + \") \" + results[2] + \"-\" + results[3] + (typeof results[4] !== \"undefined\" ? \" [\" + results[4] + \"]\" : \"\");\r\n        }\r\n        else {\r\n            return phone;\r\n        }\r\n    }\r\n\r\n    get home() {\r\n        this._home = (this._home != null) ? this._home : this._mel.melFunc('{PATIENT.ALTPHONE}');\r\n        return this._home;\r\n    }\r\n\r\n    async homeAsync() {\r\n        this._home = (this._home != null) ? this._home : await this._mel.melFunc('{PATIENT.ALTPHONE}');\r\n        return this._home;\r\n    }\r\n\r\n    // Returns the patients business/work telephone number\r\n    get business() {\r\n        this._business = (this._business != null) ? this._business : this._mel.melFunc('{PATIENT.WORKPHONE}');\r\n        return this._business;\r\n    }\r\n\r\n    async businessAsync() {\r\n        this._business = (this._business != null) ? this._business : await this._mel.melFunc('{PATIENT.WORKPHONE}');\r\n        return this._business;\r\n    }\r\n\r\n    // Returns the patients cell phone number\r\n    get mobile() {\r\n        this._mobile = (this._mobile != null) ? this._mobile : this._mel.melFunc('{PATIENT.CELLPHONE}');\r\n        return this._mobile;\r\n    }\r\n\r\n    async mobileAsync() {\r\n        this._mobile = (this._mobile != null) ? this._mobile : await this._mel.melFunc('{PATIENT.CELLPHONE}');\r\n        return this._mobile;\r\n    }\r\n\r\n    // Returns the patients fax number\r\n    get fax() {\r\n        this._fax = (this._fax != null) ? this._fax : this._mel.melFunc('{PATIENT.FAXPHONE}');\r\n        return this._fax;\r\n    }\r\n\r\n    async faxAsync() {\r\n        this._fax = (this._fax != null) ? this._fax : await this._mel.melFunc('{PATIENT.FAXPHONE}');\r\n        return this._fax;\r\n    }\r\n}","import { EmrMel } from './EmrMel';\r\n\r\nexport class ReferringProviderPhone {\r\n\r\n    private _office: string;\r\n    private _alternative: string;\r\n    private _fax: string;\r\n    private _pager: string;\r\n    private _mobile: string;\r\n\r\n    constructor(\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    get office() {\r\n        this._office = (this._office != null) ? this._office : this._mel.melFunc('{PATIENT.REFMDOFFICEPHONE}');\r\n        return this._office;\r\n    }\r\n\r\n    get alternative() {\r\n        this._alternative = (this._alternative != null) ? this._alternative : this._mel.melFunc('{PATIENT.REFMDALTPHONE}');\r\n        return this._alternative;\r\n    }\r\n\r\n    get fax() {\r\n        this._fax = (this._fax != null) ? this._fax : this._mel.melFunc('{PATIENT.REFMDFAXPHONE}');\r\n        return this._fax;\r\n    }\r\n\r\n    get pager() {\r\n        this._pager = (this._pager != null) ? this._pager : this._mel.melFunc('{PATIENT.REFMDPAGERPHONE}');\r\n        return this._pager;\r\n    }\r\n\r\n    get mobile() {\r\n        this._mobile = (this._mobile != null) ? this._mobile : this._mel.melFunc('{PATIENT.REFMDCELLPHONE}');\r\n        return this._mobile;\r\n    }\r\n}","import { ReferringProviderPhone } from './ReferringProviderPhone';\r\nimport { EmrMel } from './EmrMel';\r\n\r\nexport class ReferringProvider {\r\n\r\n    private _referringProviderId: string;\r\n    private _firstName: string;\r\n    private _lastName: string;\r\n    private _email: string;\r\n    private _fullAddress: string;\r\n    private _phone = new ReferringProviderPhone(this._mel);\r\n\r\n    constructor(\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n\r\n    get referringProviderId() {\r\n        this._referringProviderId = (this._referringProviderId != null) ? this._referringProviderId : this._mel.melFunc('{PATIENT.REFMDID}');\r\n        return this._referringProviderId;\r\n    }\r\n\r\n    get firstName() {\r\n        this._firstName = (this._firstName != null) ? this._firstName : this._mel.melFunc('{PATIENT.REFMDFIRSTNAME}');\r\n        return this._firstName;\r\n    }\r\n\r\n    get lastName() {\r\n        this._lastName = (this._lastName != null) ? this._lastName : this._mel.melFunc('{PATIENT.REFMDLASTNAME}');\r\n        return this._lastName;\r\n    }\r\n\r\n    get email() {\r\n        this._email = (this._email != null) ? this._email : this._mel.melFunc('{PATIENT.REFMDEMAILADDRESS}');\r\n        return this._email;\r\n    }\r\n\r\n    get fullAddress() {\r\n        this._fullAddress = (this._fullAddress != null) ? this._fullAddress : this._mel.melFunc('{PATIENT.REFMDADDRESS}');\r\n        return this._fullAddress;\r\n    }\r\n\r\n    get phone() {\r\n        return this._phone;\r\n    }\r\n}","import { IsActiveXSupported } from '../factories/factories';\r\n// Avoid Circular dependency detected. Do not reference classes\r\nimport { System } from '../classes/System';\r\nimport { Simulator } from '../simulator/simulator';\r\n\r\nexport abstract class EmrBase {\r\n\r\n    readonly isActiveXSupported = IsActiveXSupported(this._window);\r\n    readonly noData: string = 'Data Access Error';\r\n    errorMessage: string;\r\n\r\n    readonly isExternalSupported: boolean = (this.external) ? true : false;\r\n    private _external: any;\r\n    private _isSimulator: boolean;\r\n\r\n    get external(): any {\r\n        if (this._external === 'UnitTest') {\r\n            return undefined;\r\n        }\r\n        if (this._external) {\r\n            return this._external;\r\n        }\r\n\r\n        this._external = this._external ? this._external        // if the _external is set, then use it\r\n            : (this._window.opener && this._window.opener.external) ? this._window.opener.external\r\n                : this._window.external;\r\n        if (this._external.IsDebugMode === undefined) {\r\n            // try simulator\r\n            this._external = this._simulator.externalSimulator;\r\n        }\r\n\r\n        return this._external;\r\n    }\r\n\r\n    get isSimulator(): boolean {\r\n        this._isSimulator = (this._window.opener != null && this._window.opener['_isSimulator'] != undefined) ? this._window.opener['_isSimulator']\r\n            : (this._isSimulator) ? this._isSimulator\r\n                : System.isSimulator;\r\n        return this._isSimulator;\r\n    }\r\n\r\n    constructor(\r\n        public _window: any,\r\n        public _simulator: Simulator\r\n    ) {\r\n\r\n        this._window['_isSimulator'] = this.isSimulator;\r\n    }\r\n\r\n    abstract get externalSimulator(): any;\r\n}","import { System } from './System';\r\nimport { GetActiveXErrorMessage, IsActiveXSupported } from '../factories/factories';\r\nimport { EmrBase } from '../bases/EmrBase';\r\nimport { Simulator } from '../simulator/simulator';\r\n\r\nexport class EmrMel extends EmrBase {\r\n\r\n    private melObjectName = 'GE.CPO.EMR.80.MEL';\r\n    private melObjectNameSimulator = 'GE.CPO.EMR.80.MEL.SIMULATOR';\r\n    private mel;\r\n    public errorMessage: string;\r\n    readonly noData: string = 'Data Access Error';\r\n\r\n    constructor(\r\n        public _window: any,\r\n        public _simulator: Simulator\r\n    ) {\r\n        super(_window, _simulator);\r\n\r\n        this.initialization();\r\n    }\r\n\r\n    private initialization = (): void => {\r\n        if (IsActiveXSupported(this._window)) {\r\n            try {\r\n                this.mel = new this._window.ActiveXObject(this.melObjectName);\r\n            } catch (e) {\r\n                this.errorMessage = GetActiveXErrorMessage(this.melObjectName, e);\r\n            }\r\n            // Try to activate simulator\r\n            if (this.errorMessage != null) {\r\n                try {\r\n                    this.mel = new this._window.ActiveXObject(this.melObjectNameSimulator);\r\n                    System.isSimulator = true;\r\n                } catch (e) {\r\n                    console.log(this.errorMessage);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Implements MEL eval \r\n    melFunc = (data: string): string => {\r\n        return (this.external) ? this.external.EvaluateMel(data, false) : (this.mel) ? this.mel.eval(data) :  this.noData;\r\n    }\r\n\r\n    saveObservation = (obs: string, value: string, date: string): string => {\r\n        return (this.mel == null) ? this.noData : this.mel.OBSNOW(obs, value, date);\r\n    }\r\n\r\n    getObs = (isCurrent: boolean, data: string): string => {\r\n        return (this.mel == null) ? this.noData : ((isCurrent == true) ? this.mel.OBSNOW(data, '', '') : this.mel.OBSPREV(data));\r\n    }\r\n\r\n    showUrlDialog = (url: string): void => {\r\n        this.melFunc('{SHOWHTMLFORM(\"' + url + '\",\"test\")}');\r\n    }\r\n\r\n    get externalSimulator(): any {\r\n        return (this.mel == null) ? this.noData : this.mel.external;\r\n    }\r\n\r\n}","import { EmrBase } from '../bases/bases'\r\nimport { GetActiveXErrorMessage } from '../factories/factories';\r\nimport { Simulator } from '../simulator/simulator';\r\nimport { System } from './System';\r\n\r\nexport class EmrApp extends EmrBase {\r\n\r\n    private appObjectName = 'GE.CPO.EMR.90.Application';\r\n    private appObjectNameSimulator = 'GE.CPO.EMR.90.Application.SIMULATOR';\r\n    private app;\r\n\r\n    constructor(\r\n        public _window: any,\r\n        public _simulator: Simulator\r\n    ) {\r\n        super(_window, _simulator);\r\n\r\n        this.initialization();\r\n    }\r\n\r\n    private initialization = (): void => {\r\n        if (this.isActiveXSupported) {\r\n            try {\r\n                this.app = new this._window.ActiveXObject(this.appObjectName);\r\n                this.app.SetPasscode(this._window.external['Passcode']);\r\n            } catch (e) {\r\n                this.errorMessage = GetActiveXErrorMessage(this.appObjectName, e);\r\n            }\r\n            // Try to activate simulator\r\n            if (this.errorMessage != null) {\r\n                try {\r\n                    this.app = new this._window.ActiveXObject(this.appObjectNameSimulator);\r\n                    System.isSimulator = true;\r\n                } catch (e) {\r\n                    this.errorMessage = GetActiveXErrorMessage(this.appObjectName, e);\r\n                    alert(this.errorMessage);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    get enterpriseId(): string {\r\n        return (this.app == null) ? this.noData : this.app.EnterpriseID;\r\n    }\r\n\r\n    get databaseVersion(): string {\r\n        return (this.app == null) ? this.noData : this.app.DatabaseVersion;\r\n    }\r\n\r\n    showUrlDialog = (url: string): string => {\r\n        return (this.app == null) ? this.noData : this.app.ShowURLDialog(url);\r\n    }\r\n\r\n    get externalSimulator(): any {\r\n        return (this.app == null) ? this.noData : this.app.external;\r\n    }\r\n}","import { StringInternal } from '../factories/StringInternal';\r\nimport { EmrMel } from './EmrMel';\r\nimport { EmrApp } from './EmrApp';\r\n\r\nexport class EmrWindow {\r\n\r\n    constructor(\r\n        public _mel: EmrMel,\r\n        public _app: EmrApp,\r\n        public _window: any,\r\n        public _document: any\r\n    ) { }\r\n\r\n    openDialog = (url: string) => {\r\n        ((StringInternal(url.toLowerCase())).startsWith('//localserver')) ? this._mel.showUrlDialog(url) : this._app.showUrlDialog(url);\r\n    }\r\n\r\n    /**\r\n     * Arguments :\r\n     * verb : 'GET'|'POST', defaults to \"GET\"\r\n     * target : an optional opening target (a name, or \"_blank\"), defaults to \"_self\"\r\n     */\r\n    open = (url: string, verb: string, target: string, features: string, data: Object) => {\r\n        let form: HTMLFormElement = this._document.createElement(\"form\");\r\n        form.action = url;\r\n        form.method = verb || 'GET';\r\n        form.target = target || \"_self\";\r\n        if (data) {\r\n            for (let key in data) {\r\n                let input: HTMLTextAreaElement = this._document.createElement(\"textarea\");\r\n                input.name = key;\r\n                input.value = (typeof data[key] === \"object\") ? JSON.stringify(data[key]) : data[key];\r\n                form.appendChild(input);\r\n            }\r\n        }\r\n        form.style.display = 'none';\r\n        this._document.body.appendChild(form);\r\n        let _window = this._window.open(\"about:blank\", target, features);\r\n        form.submit();\r\n        return _window;\r\n    }\r\n}","import { System } from \"../System\";\r\nimport { PersonExternal } from './PersonExternal';\r\nimport { IdentifierExternal } from \"./IdentifierExternal\";\r\nimport { PersonAgeExternal } from \"./PersonAgeExternal\";\r\nimport { PrimaryProviderRelationshipExternal } from \"./PrimaryProviderRelationshipExternal\";\r\nimport { MailingAddressExternal } from \"./MailingAddressExternal\";\r\n\r\nexport class DemographicsExternal {\r\n    private _json: string;\r\n        confidentialityCode: any;\r\n        contactList: any;\r\n        electronicAddressList: any;\r\n    excludedUserAccess: number;\r\n    excludedUserAccessSpecified: boolean;\r\n        guarantorList: any;\r\n        guardianList: any;\r\n    hasPatientAccess: boolean;\r\n    hasPatientAccessSpecified: boolean;\r\n        healthIssueList: any;\r\n    identifierList: IdentifierExternal[];\r\n    lastOfficeVisitDate: Date;\r\n    lastOfficeVisitDateSpecified: boolean;\r\n    mailingAddressList: MailingAddressExternal[];\r\n    medicareAdvantagePatient: boolean;\r\n    medicareAdvantagePatientSpecified: boolean;\r\n    mqicEPatientId: number;\r\n    mqicEPatientIdSpecified: boolean;\r\n        organization: any;\r\n    patientKey: number;\r\n    patientKeySpecified: boolean;\r\n    patientPicture: string;\r\n    person: PersonExternal;\r\n    personAge: PersonAgeExternal;\r\n    preferredLanguage: string;\r\n    primaryProviderRelationshipList: PrimaryProviderRelationshipExternal[];\r\n    registrationNote: string;\r\n    statusCode: string;\r\n    vipCode: string;\r\n\r\n    constructor(\r\n        public json: string\r\n    ) {\r\n        if (json) {\r\n            this._json = json;\r\n            let obj = JSON.parse(json);\r\n            this.confidentialityCode = obj.confidentialityCode;\r\n            this.contactList = obj.contactList;\r\n            this.electronicAddressList = obj.electronicAddressList;\r\n            this.excludedUserAccess = obj.excludedUserAccess;\r\n            this.excludedUserAccessSpecified = obj.excludedUserAccessSpecified;\r\n            this.guarantorList = obj.guarantorList;\r\n            this.guardianList = obj.guardianList;\r\n            this.hasPatientAccess = obj.hasPatientAccess;\r\n            this.hasPatientAccessSpecified = obj.hasPatientAccessSpecified;\r\n            this.healthIssueList = obj.healthIssueList;\r\n            this.identifierList = obj.identifierList;\r\n            this.lastOfficeVisitDate = System.toDate(obj.lastOfficeVisitDate);\r\n            this.lastOfficeVisitDateSpecified = obj.lastOfficeVisitDateSpecified;\r\n            this.mailingAddressList = obj.mailingAddressList;\r\n            this.medicareAdvantagePatient = obj.medicareAdvantagePatient;\r\n            this.medicareAdvantagePatientSpecified = obj.medicareAdvantagePatientSpecified;\r\n            this.mqicEPatientId = obj.mqicEPatientId;\r\n            this.mqicEPatientIdSpecified = obj.mqicEPatientIdSpecified;\r\n            this.organization = obj.organization;\r\n            this.patientKey = obj.patientKey;\r\n            this.patientKeySpecified = obj.patientKeySpecified;\r\n            this.patientPicture = System.toImage(obj.patientPicture);\r\n            this.person = obj.person;\r\n            this.personAge = obj.personAge;\r\n            this.preferredLanguage = obj.preferredLanguage;\r\n            this.primaryProviderRelationshipList = obj.primaryProviderRelationshipList;\r\n            this.registrationNote = obj.registrationNote;\r\n            this.statusCode = obj.statusCode;\r\n            this.vipCode = obj.vipCode;\r\n        }\r\n    }\r\n\r\n    toJson = (): string => { return this._json;}\r\n}\r\n","import { System } from \"../System\";\r\n\r\nexport class UserDetailExternal {\r\n    activationDate: Date;\r\n    activationDateSpecified: boolean;\r\n    authorizations: any;\r\n    authorizedLocationOfCares: any;\r\n    currentLocation: number;\r\n    currentLocationDetail: any;\r\n    currentLocationSpecified: boolean;\r\n    data2000: any;\r\n    deaNumber: any;\r\n    errorDetails: any;\r\n    expirationDate: Date;\r\n    expirationDateSpecified: boolean;\r\n    firstName: string;\r\n    globalID: number;\r\n    globalIDSpecified: boolean;\r\n    groupList: any;\r\n    homeLocation: number;\r\n    homeLocationDetail: any;\r\n    homeLocationSpecified: boolean;\r\n    isrespprov: number;\r\n    isrespprovSpecified: boolean;\r\n    jobTitle: number;\r\n    jobTitleDetail: any;\r\n    jobTitleSpecified: boolean;\r\n    lastLoginDate: Date;\r\n    lastLoginDateSpecified: boolean;\r\n    lastName: string;\r\n    lastPasswordChange: Date;\r\n    lastPasswordChangeSpecified: boolean;\r\n    licenseNumber: any;\r\n    loginAttempts: number;\r\n    loginAttemptsSpecified: boolean;\r\n    loginName: any;\r\n    memberID: any;\r\n    middleName: string;\r\n    mqicUserName: any;\r\n    npi: any;\r\n    orgName: any;\r\n    phone: any;\r\n    pidList: any;\r\n    pmpRoleID: number;\r\n    pmpRoleIDSpecified: boolean;\r\n    pmpRoleName: any;\r\n    prescriberID: any;\r\n    providerID: number;\r\n    providerIDSpecified: boolean;\r\n    result: number;\r\n    resultSpecified: boolean;\r\n    roleList: any;\r\n    specialty: number;\r\n    specialtyDetail: any;\r\n    specialtySpecified: boolean;\r\n    spi: any;\r\n    stateName: any;\r\n    status: any;\r\n    subscriptionureg: any;\r\n    tocElectronicAddress: any;\r\n    updateType: any;\r\n    upin: any;\r\n\r\n    static fromExternal(\r\n        _obj: any\r\n    ): UserDetailExternal {\r\n        let userDetailExternal = new UserDetailExternal();\r\n        if (_obj) {\r\n            userDetailExternal.activationDate = System.toDate(_obj.activationDate);\r\n            userDetailExternal.activationDateSpecified = _obj.activationDateSpecified;\r\n            userDetailExternal.authorizations = _obj.authorizations;\r\n            userDetailExternal.authorizedLocationOfCares = _obj.authorizedLocationOfCares;\r\n            userDetailExternal.currentLocation = _obj.currentLocation;\r\n            userDetailExternal.currentLocationDetail = _obj.currentLocationDetail;\r\n            userDetailExternal.currentLocationSpecified = _obj.currentLocationSpecified;\r\n            userDetailExternal.data2000 = _obj.data2000;\r\n            userDetailExternal.deaNumber = _obj.deaNumber;\r\n            userDetailExternal.errorDetails = _obj.errorDetails;\r\n            userDetailExternal.expirationDate = System.toDate(_obj.expirationDate);\r\n            userDetailExternal.expirationDateSpecified = _obj.expirationDateSpecified;\r\n            userDetailExternal.firstName = _obj.firstName;\r\n            userDetailExternal.globalID = _obj.globalID;\r\n            userDetailExternal.globalIDSpecified = _obj.globalIDSpecified;\r\n            userDetailExternal.groupList = _obj.groupList;\r\n            userDetailExternal.homeLocation = _obj.homeLocation;\r\n            userDetailExternal.homeLocationDetail = _obj.homeLocationDetail;\r\n            userDetailExternal.homeLocationSpecified = _obj.homeLocationSpecified;\r\n            userDetailExternal.isrespprov = _obj.isrespprov;\r\n            userDetailExternal.isrespprovSpecified = _obj.isrespprovSpecified;\r\n            userDetailExternal.jobTitle = _obj.jobTitle;\r\n            userDetailExternal.jobTitleDetail = _obj.jobTitleDetail;\r\n            userDetailExternal.jobTitleSpecified = _obj.jobTitleSpecified;\r\n            userDetailExternal.lastLoginDate = System.toDate(_obj.lastLoginDate);\r\n            userDetailExternal.lastLoginDateSpecified = _obj.lastLoginDateSpecified;\r\n            userDetailExternal.lastName = _obj.lastName;\r\n            userDetailExternal.lastPasswordChange = System.toDate(_obj.lastPasswordChange);\r\n            userDetailExternal.lastPasswordChangeSpecified = _obj.lastPasswordChangeSpecified;\r\n            userDetailExternal.licenseNumber = _obj.licenseNumber;\r\n            userDetailExternal.loginAttempts = _obj.loginAttempts;\r\n            userDetailExternal.loginAttemptsSpecified = _obj.loginAttemptsSpecified;\r\n            userDetailExternal.loginName = _obj.loginName;\r\n            userDetailExternal.memberID = _obj.memberID;\r\n            userDetailExternal.middleName = _obj.middleName;\r\n            userDetailExternal.mqicUserName = _obj.mqicUserName;\r\n            userDetailExternal.npi = _obj.npi;\r\n            userDetailExternal.orgName = _obj.orgName;\r\n            userDetailExternal.phone = _obj.phone;\r\n            userDetailExternal.pidList = _obj.pidList;\r\n            userDetailExternal.pmpRoleID = _obj.pmpRoleID;\r\n            userDetailExternal.pmpRoleIDSpecified = _obj.pmpRoleIDSpecified;\r\n            userDetailExternal.pmpRoleName = _obj.pmpRoleName;\r\n            userDetailExternal.prescriberID = _obj.prescriberID;\r\n            userDetailExternal.providerID = _obj.providerID;\r\n            userDetailExternal.providerIDSpecified = _obj.providerIDSpecified;\r\n            userDetailExternal.result = _obj.result;\r\n            userDetailExternal.resultSpecified = _obj.resultSpecified;\r\n            userDetailExternal.roleList = _obj.roleList;\r\n            userDetailExternal.specialty = _obj.specialty;\r\n            userDetailExternal.specialtyDetail = _obj.specialtyDetail;\r\n            userDetailExternal.specialtySpecified = _obj.specialtySpecified;\r\n            userDetailExternal.spi = _obj.spi;\r\n            userDetailExternal.stateName = _obj.stateName;\r\n            userDetailExternal.status = _obj.status;\r\n            userDetailExternal.subscriptionureg = _obj.subscriptionureg;\r\n            userDetailExternal.tocElectronicAddress = _obj.tocElectronicAddress;\r\n            userDetailExternal.updateType = _obj.updateType;\r\n            userDetailExternal.upin = _obj.upin;\r\n        }\r\n        return userDetailExternal;\r\n    }\r\n\r\n}","import { UserDetailExternal } from './UserDetailExternal';\r\nimport { System } from '../System';\r\n\r\nexport class AllergyExternal {\r\n    allclass: string; //IAllergyData.classification.substr(0,1) See: AllergyClassCode\r\n    allergyGroupID: number;\r\n    allergyGroupIDSpecified: boolean;\r\n    allergyID: number;\r\n    annotate: any;\r\n    aproxonsetdate: any;\r\n    change: number; //4 - deleted; 6 - added; 2 - current\r\n    changeSpecified: boolean;\r\n    dbCreateDate: Date;\r\n    dbCreateDateSpecified: boolean;\r\n    dbUpdatedDate: Date;\r\n    dbUpdatedDateSpecified: boolean;\r\n    description: string; //IAllergyData.description\r\n    documentDetail: any;\r\n    drugDescID: number;\r\n    drugDescIDSpecified: boolean;\r\n    errorDetails: any;\r\n    expirationID: number;\r\n    extAllergyID: number;\r\n    extAllergyIDSpecified: boolean;\r\n    externalAllergyInfoDetail: any;\r\n    genericProductIndex: any;\r\n    gi: any;\r\n    heme: any;\r\n    iscritical: string;\r\n    kind: any;\r\n    knowledgeBaseDrugCode: string;\r\n    knowledgeBaseDrugCodeSpecified: boolean;\r\n    medicationInfo: any;\r\n    name: string; //IAllergyData.name\r\n    ndclabprod: any;\r\n    ndcpackage: any;\r\n    onsetdate: Date; //IAllergyData.onSetDate\r\n    onsetdateSpecified: boolean;\r\n    other: any;\r\n    pendUserIndent: number;\r\n    pendUserIndentSpecified: boolean;\r\n    pendUserSort: number;\r\n    pendUserSortSpecified: boolean;\r\n    personID: number;\r\n    pubtime: number;\r\n    pubtimeSpecified: boolean;\r\n    pubUser: number;\r\n    pubUserDetail: UserDetailExternal;\r\n    pubUserSpecified: boolean;\r\n    rash: any;\r\n    resp: any;\r\n    result: number;\r\n    resultSpecified: boolean;\r\n    searchCriteria: any;\r\n    secondaryDocumentID: number;\r\n    secondaryDocumentIDSpecified: boolean;\r\n    severity: any;\r\n    shock: any;\r\n    snomedID: number;\r\n    snomedIDSpecified: boolean;\r\n    stopdate: Date; //IAllergyData.stopDate\r\n    stopdateSpecified: boolean;\r\n    stopreason: any;\r\n    userDetail: UserDetailExternal;\r\n    userID: number;\r\n    userIDSpecified: boolean;\r\n    userIndent: number;\r\n    userIndentSpecified: boolean;\r\n    userSort: number;\r\n    userSortSpecified: boolean;\r\n\r\n    constructor(\r\n        _obj: any\r\n    ) {\r\n        this.allclass = _obj.allclass;\r\n        this.allergyGroupID = _obj.allergyGroupID;\r\n        this.allergyGroupIDSpecified = _obj.allergyGroupIDSpecified;\r\n        this.allergyID = _obj.allergyID;\r\n        this.annotate = _obj.annotate;\r\n        this.aproxonsetdate = _obj.aproxonsetdate;\r\n        this.change = _obj.change;\r\n        this.changeSpecified = _obj.changeSpecified;\r\n        this.dbCreateDate = System.toDate(_obj.dbCreateDate);\r\n        this.dbCreateDateSpecified = _obj.dbCreateDateSpecified;\r\n        this.dbUpdatedDate = System.toDate(_obj.dbUpdatedDate);\r\n        this.dbUpdatedDateSpecified = _obj.dbUpdatedDateSpecified;\r\n        this.description = _obj.description;\r\n        this.documentDetail = _obj.documentDetail;\r\n        this.drugDescID = _obj.drugDescID;\r\n        this.drugDescIDSpecified = _obj.drugDescIDSpecified;\r\n        this.errorDetails = _obj.errorDetails;\r\n        this.expirationID = _obj.expirationID;\r\n        this.extAllergyID = _obj.extAllergyID;\r\n        this.extAllergyIDSpecified = _obj.extAllergyIDSpecified;\r\n        this.externalAllergyInfoDetail = _obj.externalAllergyInfoDetail;\r\n        this.genericProductIndex = _obj.genericProductIndex;\r\n        this.gi = _obj.gi;\r\n        this.heme = _obj.heme;\r\n        this.iscritical = _obj.iscritical;\r\n        this.kind = _obj.kind;\r\n        this.knowledgeBaseDrugCode = _obj.knowledgeBaseDrugCode;\r\n        this.knowledgeBaseDrugCodeSpecified = _obj.knowledgeBaseDrugCodeSpecified;\r\n        this.medicationInfo = _obj.medicationInfo;\r\n        this.name = _obj.name;\r\n        this.ndclabprod = _obj.ndclabprod;\r\n        this.ndcpackage = _obj.ndcpackage;\r\n        this.onsetdate = System.toDate(_obj.onsetdate);\r\n        this.onsetdateSpecified = _obj.onsetdateSpecified;\r\n        this.other = _obj.other;\r\n        this.pendUserIndent = _obj.pendUserIndent;\r\n        this.pendUserIndentSpecified = _obj.pendUserIndentSpecified;\r\n        this.pendUserSort = _obj.pendUserSort;\r\n        this.pendUserSortSpecified = _obj.pendUserSortSpecified;\r\n        this.personID = _obj.personID;\r\n        this.pubtime = _obj.pubtime;\r\n        this.pubtimeSpecified = _obj.pubtimeSpecified;\r\n        this.pubUser = _obj.pubUser;\r\n        this.pubUserDetail = UserDetailExternal.fromExternal(_obj.pubUserDetail);\r\n        this.pubUserSpecified = _obj.pubUserSpecified;\r\n        this.rash = _obj.rash;\r\n        this.resp = _obj.resp;\r\n        this.result = _obj.result;\r\n        this.resultSpecified = _obj.resultSpecified;\r\n        this.searchCriteria = _obj.searchCriteria;\r\n        this.secondaryDocumentID = _obj.secondaryDocumentID;\r\n        this.secondaryDocumentIDSpecified = _obj.secondaryDocumentIDSpecified;\r\n        this.severity = _obj.severity;\r\n        this.shock = _obj.shock;\r\n        this.snomedID = _obj.snomedID;\r\n        this.snomedIDSpecified = _obj.snomedIDSpecified;\r\n        this.stopdate = System.toDate(_obj.stopdate);\r\n        this.stopdateSpecified = _obj.stopdateSpecified;\r\n        this.stopreason = _obj.stopreason;\r\n        this.userDetail = UserDetailExternal.fromExternal(_obj.userDetail);\r\n        this.userID = _obj.userID;\r\n        this.userIDSpecified = _obj.userIDSpecified;\r\n        this.userIndent = _obj.userIndent;\r\n        this.userIndentSpecified = _obj.userIndentSpecified;\r\n        this.userSort = _obj.userSort;\r\n        this.userSortSpecified = _obj.userSortSpecified;\r\n    }\r\n}","import { UserDetailExternal } from \"./UserDetailExternal\";\r\nimport { CodeDetailExternal } from \"./CodeDetailExternal\";\r\nimport { System } from \"../System\";\r\n\r\nexport class ProblemExternal {\r\n    annotate: string;\r\n    aproxonsetdate: any;\r\n    aproxstopdate: any;\r\n    assessmentList: any;\r\n    change: number;\r\n    code: string;\r\n    codechange: any;\r\n    covered: any;\r\n    dbCreateDate: Date;\r\n    dbCreateDateSpecified: boolean;\r\n    dbUpdatedDate: Date;\r\n    dbUpdatedDateSpecified: boolean;\r\n    description: string;\r\n    documentDetail: any;\r\n    errorDetails: any;\r\n    expirationID: number;\r\n    expirationIDSpecified: boolean;\r\n    externalProblemDetail: any;\r\n    extSecondaryProblemID: number;\r\n    extSecondaryProblemIDSpecified: boolean;\r\n    icd9CodeDetail: CodeDetailExternal;\r\n    icd9MasterDiagnosisID: number;\r\n    icd9MasterDiagnosisIDSpecified: boolean;\r\n    icd10CodeDetail: CodeDetailExternal;\r\n    icd10MasterDiagnosisID: number;\r\n    icd10MasterDiagnosisIDSpecified: boolean;\r\n    lastClaimedDate: Date;\r\n    lastClaimedDateSpecified: boolean;\r\n    medicareAdvantageAlert: boolean;\r\n    medicareAdvantageAlertSpecified: boolean;\r\n    medicareAdvantageRiskAdjustmentFactor: any;\r\n    onsetdate: Date;\r\n    onsetdateSpecified: boolean;\r\n    pendUserIndent: number;\r\n    pendUserIndentSpecified: boolean;\r\n    pendUserSort: number;\r\n    pendUserSortSpecified: boolean;\r\n    personID: number;\r\n    priority: number;\r\n    prioritySpecified: boolean;\r\n    problemID: number;\r\n    problemIDSpecified: boolean;\r\n    pubtime: number;\r\n    pubtimeSpecified: boolean;\r\n    pubUser: number;\r\n    pubUserDetail: UserDetailExternal;\r\n    pubUserSpecified: boolean;\r\n    qualifier: string;\r\n    result: number;\r\n    resultSpecified: boolean;\r\n    searchCriteria: any;\r\n    secondaryDocumentID: number;\r\n    secondaryDocumentIDSpecified: boolean;\r\n    secondaryProblemID: number;\r\n    secondaryProblemIDSpecified: boolean;\r\n    snoMedCodeDetail: any;\r\n    snoMedMasterDiagnosisID: number;\r\n    snoMedMasterDiagnosisIDSpecified: boolean;\r\n    stopdate: Date;\r\n    stopdateSpecified: boolean;\r\n    stopreason: any;\r\n    userDetail: UserDetailExternal;\r\n    userDim: number;\r\n    userDimSpecified: boolean;\r\n    userID: number;\r\n    userIDSpecified: boolean;\r\n    userIndent: number;\r\n    userIndentSpecified: boolean;\r\n    userSort: number;\r\n    userSortSpecified: boolean;\r\n\r\n    static fromExternal(\r\n        _obj: any\r\n    ): ProblemExternal {\r\n        let problemExternal = new ProblemExternal();\r\n        problemExternal.annotate = _obj.annotate;\r\n        problemExternal.aproxonsetdate = _obj.aproxonsetdate;\r\n        problemExternal.aproxstopdate = _obj.aproxstopdate;\r\n        problemExternal.assessmentList = _obj.assessmentList;\r\n        problemExternal.change = _obj.change;\r\n        problemExternal.code = _obj.code;\r\n        problemExternal.codechange = _obj.codechange;\r\n        problemExternal.covered = _obj.covered;\r\n        problemExternal.dbCreateDate = System.toDate(_obj.dbCreateDate);\r\n        problemExternal.dbCreateDateSpecified = _obj.dbCreateDateSpecified;\r\n        problemExternal.dbUpdatedDate = System.toDate(_obj.dbUpdatedDate);\r\n        problemExternal.dbUpdatedDateSpecified = _obj.dbUpdatedDateSpecified;\r\n        problemExternal.description = _obj.description;\r\n        problemExternal.documentDetail = _obj.documentDetail;\r\n        problemExternal.errorDetails = _obj.errorDetails;\r\n        problemExternal.expirationID = _obj.expirationID;\r\n        problemExternal.expirationIDSpecified = _obj.expirationIDSpecified;\r\n        problemExternal.externalProblemDetail = _obj.externalProblemDetail;\r\n        problemExternal.extSecondaryProblemID = _obj.extSecondaryProblemID;\r\n        problemExternal.extSecondaryProblemIDSpecified = _obj.extSecondaryProblemIDSpecified;\r\n        problemExternal.icd9CodeDetail = _obj.icd9CodeDetail;\r\n        problemExternal.icd9MasterDiagnosisID = _obj.icd9MasterDiagnosisID;\r\n        problemExternal.icd9MasterDiagnosisIDSpecified = _obj.icd9MasterDiagnosisIDSpecified;\r\n        problemExternal.icd10CodeDetail = _obj.icd10CodeDetail;\r\n        problemExternal.icd10MasterDiagnosisID = _obj.icd10MasterDiagnosisID;\r\n        problemExternal.icd10MasterDiagnosisIDSpecified = _obj.icd10MasterDiagnosisIDSpecified;\r\n        problemExternal.lastClaimedDate = System.toDate(_obj.lastClaimedDate);\r\n        problemExternal.lastClaimedDateSpecified = _obj.lastClaimedDateSpecified;\r\n        problemExternal.medicareAdvantageAlert = _obj.medicareAdvantageAlert;\r\n        problemExternal.medicareAdvantageAlertSpecified = _obj.medicareAdvantageAlertSpecified;\r\n        problemExternal.medicareAdvantageRiskAdjustmentFactor = _obj.medicareAdvantageRiskAdjustmentFactor;\r\n        problemExternal.onsetdate = System.toDate(_obj.onsetdate);\r\n        problemExternal.onsetdateSpecified = _obj.onsetdateSpecified;\r\n        problemExternal.pendUserIndent = _obj.pendUserIndent;\r\n        problemExternal.pendUserIndentSpecified = _obj.pendUserIndentSpecified;\r\n        problemExternal.pendUserSort = _obj.pendUserSort;\r\n        problemExternal.pendUserSortSpecified = _obj.pendUserSortSpecified;\r\n        problemExternal.personID = _obj.personID;\r\n        problemExternal.priority = _obj.priority;\r\n        problemExternal.prioritySpecified = _obj.prioritySpecified;\r\n        problemExternal.problemID = _obj.problemID;\r\n        problemExternal.problemIDSpecified = _obj.problemIDSpecified;\r\n        problemExternal.pubtime = _obj.pubtime;\r\n        problemExternal.pubtimeSpecified = _obj.pubtimeSpecified;\r\n        problemExternal.pubUser = _obj.pubUser;\r\n        problemExternal.pubUserDetail = UserDetailExternal.fromExternal(_obj.pubUserDetail);\r\n        problemExternal.pubUserSpecified = _obj.pubUserSpecified;\r\n        problemExternal.qualifier = _obj.qualifier;\r\n        problemExternal.result = _obj.result;\r\n        problemExternal.resultSpecified = _obj.resultSpecified;\r\n        problemExternal.searchCriteria = _obj.searchCriteria;\r\n        problemExternal.secondaryDocumentID = _obj.secondaryDocumentID;\r\n        problemExternal.secondaryDocumentIDSpecified = _obj.secondaryDocumentIDSpecified;\r\n        problemExternal.secondaryProblemID = _obj.secondaryProblemID;\r\n        problemExternal.secondaryProblemIDSpecified = _obj.secondaryProblemIDSpecified;\r\n        problemExternal.snoMedCodeDetail = _obj.snoMedCodeDetail;\r\n        problemExternal.snoMedMasterDiagnosisID = _obj.snoMedMasterDiagnosisID;\r\n        problemExternal.snoMedMasterDiagnosisIDSpecified = _obj.snoMedMasterDiagnosisIDSpecified;\r\n        problemExternal.stopdate = System.toDate(_obj.stopdate);\r\n        problemExternal.stopdateSpecified = _obj.stopdateSpecified;\r\n        problemExternal.stopreason = _obj.stopreason;\r\n        problemExternal.userDetail = UserDetailExternal.fromExternal(_obj.userDetail);\r\n        problemExternal.userDim = _obj.userDim;\r\n        problemExternal.userDimSpecified = _obj.userDimSpecified;\r\n        problemExternal.userID = _obj.userID;\r\n        problemExternal.userIDSpecified = _obj.userIDSpecified;\r\n        problemExternal.userIndent = _obj.userIndent;\r\n        problemExternal.userIndentSpecified = _obj.userIndentSpecified;\r\n        problemExternal.userSort = _obj.userSort;\r\n        problemExternal.userSortSpecified = _obj.userSortSpecified;\r\n\r\n        return problemExternal;\r\n    }\r\n\r\n}","import { AllergyExternal } from './AllergyExternal';\r\n\r\nexport class AllergiesExternal extends Array<AllergyExternal>\r\n{\r\n\r\n    constructor(public json: string = '[]') {\r\n        super(...(JSON.parse(json) as []).map(e => new AllergyExternal(e)));\r\n    }\r\n\r\n\r\n}","export class FlowsheetObservation {\r\n\r\n    private data: Array<string> = (this._value == null) ? [] : this._value.split('^');\r\n\r\n    name: string = (this.data.length > 0) ? this.data[0] : '';\r\n    value: string = (this.data.length > 1) ? this.data[1] : '';\r\n    date: string = (this.data.length > 2) ? this.data[2] : '';\r\n\r\n    constructor(\r\n        public _value: string\r\n    ) { }\r\n\r\n}\r\n","import { Problem } from './Problem';\r\nimport { StringInternal } from '../factories/factories';\r\nimport { EmrMel } from './EmrMel';\r\nimport { ObjectStatus } from '../enums';\r\n\r\nexport class Problems extends Array<Problem>{\r\n    private _isLoaded = false;\r\n    tag: string;\r\n    currentProblemMelData: string;\r\n    newProblemMelData: string;\r\n    removedProblemMelData: string;\r\n\r\n    load = (mel: EmrMel) => {\r\n        if (!this._isLoaded) {\r\n            // Load Current\r\n            this._current(mel);\r\n            // Load Added\r\n            this._new(mel);\r\n            // Load Removed\r\n            this._removed(mel);\r\n\r\n            this._isLoaded = true;\r\n        }\r\n    }\r\n\r\n    loadAsync = async (mel: EmrMel) =>{\r\n        if (!this._isLoaded) {\r\n            // Load Current\r\n            await this._currentAsync(mel);\r\n            // Load Added\r\n            await this._newAsync(mel);\r\n            // Load Removed\r\n            await this._removedAsync(mel);\r\n\r\n            this._isLoaded = true;\r\n        }\r\n    } \r\n\r\n    private _current = (mel: EmrMel) => {\r\n        this.currentProblemMelData = (this.currentProblemMelData != null) ? this.currentProblemMelData : mel.melFunc('{PROB_PRIOR(\"delimited\",\"dat\",\"com\")}');\r\n        this.loadMelDataToList(this.currentProblemMelData, this.currentProblem);\r\n    }\r\n\r\n    _currentAsync = async (mel: EmrMel) =>{\r\n        this.currentProblemMelData = (this.currentProblemMelData != null) ? this.currentProblemMelData : await mel.melFunc('{PROB_PRIOR(\"delimited\",\"dat\",\"com\")}');\r\n        this.loadMelDataToList(this.currentProblemMelData, this.currentProblem);\r\n    }\r\n\r\n    private _new = (mel: EmrMel) => {\r\n        this.newProblemMelData = (this.newProblemMelData != null) ? this.newProblemMelData : mel.melFunc('{PROB_NEW(\"delimited\",\"dat\",\"com\")}');\r\n        this.loadMelDataToList(this.newProblemMelData, this.newProblem);\r\n    }\r\n\r\n    _newAsync = async (mel: EmrMel) =>{\r\n        this.newProblemMelData = (this.newProblemMelData != null) ? this.newProblemMelData : await mel.melFunc('{PROB_NEW(\"delimited\",\"dat\",\"com\")}');\r\n        this.loadMelDataToList(this.newProblemMelData, this.newProblem);\r\n    }\r\n\r\n    private _removed = (mel: EmrMel) => {\r\n        this.removedProblemMelData = (this.removedProblemMelData != null) ? this.removedProblemMelData : mel.melFunc('{PROB_REMOVED(\"delimited\",\"dat\",\"com\")}');\r\n        this.markRemovedMelDataFromList(this.removedProblemMelData, this.removedProblem);\r\n    }\r\n\r\n    _removedAsync = async(mel: EmrMel) =>{\r\n        this.removedProblemMelData = (this.removedProblemMelData != null) ? this.removedProblemMelData : await mel.melFunc('{PROB_REMOVED(\"delimited\",\"dat\",\"com\")}');\r\n        this.markRemovedMelDataFromList(this.removedProblemMelData, this.removedProblem);\r\n    }\r\n\r\n    private loadMelDataToList = (data: string, predicate: (value: string)=> Problem) => {\r\n        let dataArray = StringInternal(data).toList();\r\n        for (let index = 0; index < dataArray.length; index++) {\r\n            this.push(predicate(dataArray[index]));\r\n        }\r\n    }\r\n\r\n    private markRemovedMelDataFromList = (data: string, predicate: (value: string) => Problem) => {\r\n        let dataArray = StringInternal(data).toList();\r\n        for (let index = 0; index < dataArray.length; index++) {\r\n            let problem = predicate(dataArray[index]);\r\n            this.forEach((value) => { // find in the list and mark status as Changed\r\n                if (value.problemId === problem.problemId) {\r\n                    value.status = ObjectStatus.Changed;\r\n                }\r\n            });\r\n            this.push(problem); //Added with Removed\r\n        }\r\n    }\r\n\r\n\r\n    currentProblem = (value: string): Problem => {\r\n        let data: Array<string> = (value == null) ? [] : value.split('^');\r\n        let problem: Problem = new Problem();\r\n\r\n        problem = this._locadMelDataFromString(data, problem);\r\n\r\n        return problem;\r\n    }\r\n\r\n    newProblem = (value: string): Problem => {\r\n        let data: Array<string> = (value == null) ? [] : value.split('^');\r\n        let problem: Problem = new Problem();\r\n        problem.status = ObjectStatus.Added;\r\n\r\n        problem = this._locadMelDataFromString(data, problem);\r\n\r\n        return problem;\r\n    }\r\n\r\n    removedProblem = (value: string): Problem => {\r\n        let data: Array<string> = (value == null) ? [] : value.split('^');\r\n        let problem: Problem = new Problem();\r\n        problem.status = ObjectStatus.Removed;\r\n\r\n        problem = this._locadMelDataFromString(data, problem);\r\n\r\n        return problem;\r\n    }\r\n\r\n    _locadMelDataFromString = (data: Array<string>, problem: Problem) => {\r\n        problem.type = (data.length > 0) ? data[0] : '';\r\n        problem.description = (data.length > 1) ? data[1] : '';\r\n        problem.codeIcd9 = (data.length > 2) ? data[2] : '';\r\n        problem.comment = (data.length > 3) ? data[3] : '';\r\n        problem.onsetDate = StringInternal((data.length > 4) ? data[4] : '').toDate();\r\n        problem.stopDate = StringInternal((data.length > 5) ? data[5] : '').toDate();\r\n        problem.stopReason = (data.length > 6) ? data[6] : '';\r\n        problem.codeIcd10 = (data.length > 7) ? data[7] : '';\r\n        problem.lastModifiedDate = (data.length > 9) ? data[9] : '';\r\n\r\n        let _problemId = (data.length > 8) ? data[8] : '';\r\n        let index = _problemId.indexOf('.');\r\n        _problemId = (index > -1) ? _problemId.substr(0, index) : _problemId;\r\n        problem.problemId = _problemId;\r\n\r\n        return problem;\r\n    }\r\n\r\n    filterProblems = (predicate: (value: Problem, index: number, array: Problem[]) => unknown, thisArg?: any): Problems => {\r\n        let problems = new Problems();\r\n        problems.push(...super.filter(predicate, thisArg));\r\n        return problems;\r\n    }\r\n \r\n}","import { StringInternal } from '../factories/factories';\r\nimport { Protocol } from './Protocol';\r\nimport { Observation } from './Observation';\r\nimport { ObservationType } from './ObservationType';\r\nimport { Address } from './Address';\r\nimport { Phone } from './Phone';\r\nimport { Immunization } from './Immunization';\r\nimport { FlowsheetObservation } from './FlowsheetObservation';\r\nimport { PatientContact } from './PatientContact';\r\nimport { ReferringProvider } from './ReferringProvider';\r\nimport { Insurance } from './Insurance';\r\nimport { CarePlan } from './CarePlan';\r\nimport { Location } from './Location';\r\nimport { Allergies } from './Allergies';\r\nimport { EmrMel } from './EmrMel';\r\nimport { IArrayAdditionalMethods } from '../interfaces';\r\nimport { LocationType } from '../enums';\r\nimport { AllergiesExternal, DemographicsExternal } from './external/external';\r\nimport { emptyImage } from '../consts/strings';\r\nimport { System } from './System';\r\nimport { Problems } from './Problems';\r\n\r\n// TODO: string = PATIENT.REGNOTE; REGGUARANTOR\r\nexport class Patient {\r\n\r\n    private readonly observationType: ObservationType = new ObservationType();\r\n    private _patientId: string;\r\n    private _pid: string;\r\n    private _medicalRecordId: string;\r\n    private _externalId: string;\r\n    private _printId: string;\r\n    private _ssn: string;\r\n    private _firstName: string;\r\n    private _lastName: string;\r\n    private _middleName: string;\r\n    private _labelName: string;\r\n    private _namePrefix: string;\r\n    private _nameSuffix: string;\r\n    private _sex: string;\r\n    private _race: string;\r\n    private _ethnicity: string;\r\n    private _dateOfBirth: string;\r\n    private _dateOfDeath: string;\r\n    private _maritalStatus: string;\r\n    private _language: string;\r\n    private _email: string;\r\n    private _contactBy: string;\r\n    private _contacts: string;\r\n    private _contactsArray: IArrayAdditionalMethods<PatientContact> = [];\r\n    private _employmentStatus: string;\r\n    private _clinicStatus: string;\r\n    private _primaryCarePhysicianName: string;\r\n    private _problems: Problems;\r\n    private _observations: { [name: string]: IArrayAdditionalMethods<Observation> } = {}\r\n    private _observationList: string;\r\n    private _observatiosArray: IArrayAdditionalMethods<FlowsheetObservation> = [];\r\n    private _protocols: string;\r\n    private _protocolsArray: IArrayAdditionalMethods<Protocol> = [];\r\n    private _insurances: IArrayAdditionalMethods<Insurance> = [];\r\n    private _immunizations: string;\r\n    private _immunizationsArray: IArrayAdditionalMethods<Immunization> = [];\r\n    private _carePlans: string;\r\n    private _carePlansArray: IArrayAdditionalMethods<CarePlan> = [];\r\n    private _locations: string;\r\n    private _locationsId: string;\r\n    private _locationsArray: IArrayAdditionalMethods<Location> = [];\r\n    private _allergies = new Allergies(this._mel);\r\n    private _referringProvider = new ReferringProvider(this._mel);\r\n    private _phone: Phone;\r\n    private _address: Address;\r\n    private _registrationNote: string;\r\n    private _patientPicture: string;\r\n    private _lastOfficeVisit: Date;\r\n\r\n    constructor(\r\n        public _mel: EmrMel,\r\n        public _demographics?: DemographicsExternal,\r\n        public _allergiesExternal?: AllergiesExternal\r\n    ) {\r\n        if (_demographics) {\r\n            this._patientPicture = _demographics.patientPicture;\r\n            this._lastOfficeVisit = _demographics.lastOfficeVisitDate;\r\n            this._registrationNote = _demographics.registrationNote;\r\n            this._language = _demographics.preferredLanguage;\r\n            if (_demographics.identifierList) {\r\n                let patientId = _demographics.identifierList.find(e => e.identifierDomain.domainId === \"1.2.3.4.700\");\r\n                this._patientId = (patientId) ? patientId.idValue : this._patientId;\r\n                this._printId = this._patientId;\r\n\r\n                let externalId = _demographics.identifierList.find(e => e.identifierDomain.domainId === \"1.2.3.4.200\");\r\n                this._externalId = (externalId) ? externalId.idValue : this._externalId;\r\n\r\n                let medicalRecordId = _demographics.identifierList.find(e => e.identifierDomain.domainId === \"1.2.3.4.400\");\r\n                this._medicalRecordId = (medicalRecordId) ? medicalRecordId.idValue : this._medicalRecordId;\r\n            }\r\n            if (_demographics.person) {\r\n                let birthDate = System.formatDate(_demographics.person.birthDate);\r\n                this._dateOfBirth = (birthDate) ? birthDate : this._dateOfBirth;\r\n                this._dateOfDeath = (_demographics.person.deceaseIndSpecified && _demographics.person.deceaseInd) ?\r\n                    System.formatDate(_demographics.person.deceaseTime) : this._dateOfDeath;\r\n\r\n                this._sex = _demographics.person.genderCode;\r\n                if (_demographics.person.mailingAddressList && _demographics.person.mailingAddressList[0]) {\r\n                    this._address = (this._address) ? this._address : new Address(this._mel, _demographics.person.mailingAddressList[0]);\r\n                }\r\n                if (_demographics.person.electronicAddressList) {\r\n                    this._phone = (this._phone) ? this._phone : new Phone(this._mel, _demographics.person.electronicAddressList);\r\n                }\r\n                if (_demographics.person.personNameList && _demographics.person.personNameList[0]) {\r\n                    this._firstName = (_demographics.person.personNameList[0].givenName === null) ?\r\n                        '' : _demographics.person.personNameList[0].givenName;\r\n                    this._lastName = (_demographics.person.personNameList[0].familyName === null) ?\r\n                        '' : _demographics.person.personNameList[0].familyName;\r\n                    this._middleName = (_demographics.person.personNameList[0].middleName === null) ?\r\n                        '' : _demographics.person.personNameList[0].middleName;\r\n\r\n                    this._labelName = this._firstName\r\n                        + ' ' + this._middleName\r\n                        + ' ' + this._lastName;\r\n\r\n                    this._namePrefix = _demographics.person.personNameList[0].prefixName;\r\n                    this._nameSuffix = _demographics.person.personNameList[0].suffixName;\r\n                }\r\n                this._pid = _demographics.patientKeySpecified ? _demographics.patientKey.toString() : this._pid;\r\n                if (_demographics.person.identifierList) {\r\n                    let ssn = _demographics.person.identifierList.find(e => e.identifierDomain.domainId === \"1.2.3.4.300\");\r\n                    this._ssn = (ssn) ? ssn.idValue : this._ssn;\r\n                    this._ssn = (this._ssn) ? this._ssn.replace(/(\\d{3})(\\d{3})(\\d+)/, '$1-$2-$3') : this._ssn;\r\n                }\r\n            }\r\n        }\r\n\r\n        this._address = (this._address) ? this._address : new Address(this._mel);\r\n        this._phone = (this._phone) ? this._phone : new Phone(this._mel);\r\n    }\r\n\r\n    get lastOfficeVisit() {\r\n        return this._lastOfficeVisit;\r\n    }\r\n\r\n    get patientPicture() {\r\n        this._patientPicture = (this._patientPicture !== undefined) ? this._patientPicture\r\n            : emptyImage;\r\n        return this._patientPicture;\r\n    }\r\n\r\n    // Returns the patients ID number\r\n    get patientId() {\r\n        this._patientId = (this._patientId !== undefined) ? this._patientId : this._mel.melFunc('{PATIENT.PATIENTID}');\r\n        return this._patientId;\r\n    }\r\n\r\n    async patientIdAsync() {\r\n        this._patientId = (this._patientId !== undefined) ? this._patientId : await this._mel.melFunc('{PATIENT.PATIENTID}');\r\n        return this._patientId;\r\n    }\r\n\r\n    // Returns the internal PID number for patient record\r\n    get pid() {\r\n        this._pid = (this._pid !== undefined) ? this._pid : this._mel.melFunc('{find(\"patient\", \"PID\")}');\r\n        return this._pid;\r\n    }\r\n\r\n    async pidAsync() {\r\n        this._pid = (this._pid !== undefined) ? this._pid : await this._mel.melFunc('{find(\"patient\", \"PID\")}');\r\n        return this._pid;\r\n    }\r\n\r\n    // Returns the patients medical record number.\r\n    get medicalRecordId() {\r\n        this._medicalRecordId = (this._medicalRecordId !== undefined) ? this._medicalRecordId : this._mel.melFunc('{PATIENT.MEDRECNO}');\r\n        return this._medicalRecordId;\r\n    }\r\n\r\n    async medicalRecordIdAsync() {\r\n        this._medicalRecordId = (this._medicalRecordId !== undefined) ? this._medicalRecordId : await this._mel.melFunc('{PATIENT.MEDRECNO}');\r\n        return this._medicalRecordId;\r\n    }\r\n\r\n    // Returns the patients ID from an external system; such as a billing or lab system\r\n    get externalId() {\r\n        this._externalId = (this._externalId !== undefined) ? this._externalId : this._mel.melFunc('{PATIENT.EXTERNALID}');\r\n        return this._externalId;\r\n    }\r\n\r\n    async externalIdAsync() {\r\n        this._externalId = (this._externalId !== undefined) ? this._externalId : await this._mel.melFunc('{PATIENT.EXTERNALID}');\r\n        return this._externalId;\r\n    }\r\n\r\n    // Returns the preferred patient ID number for printed materials.\r\n    get printId() {\r\n        this._printId = (this._printId !== undefined) ? this._printId : this._mel.melFunc('{PATIENT.PRINTID}');\r\n        return this._printId;\r\n    }\r\n\r\n    async printIdAsync() {\r\n        this._printId = (this._printId !== undefined) ? this._printId : await this._mel.melFunc('{PATIENT.PRINTID}');\r\n        return this._printId;\r\n    }\r\n\r\n    // Returns the patients Social Security number.\r\n    get ssn() {\r\n        this._ssn = (this._ssn !== undefined) ? this._ssn : this._mel.melFunc('{PATIENT.SOCSECNO}');\r\n        return this._ssn;\r\n    }\r\n\r\n    async ssnAsync() {\r\n        this._ssn = (this._ssn !== undefined) ? this._ssn : await this._mel.melFunc('{PATIENT.SOCSECNO}');\r\n        return this._ssn;\r\n    }\r\n\r\n    // Returns the patients first name.\r\n    get firstName() {\r\n        this._firstName = (this._firstName !== undefined) ? this._firstName : this._mel.melFunc('{PATIENT.FIRSTNAME}');\r\n        return this._firstName;\r\n    }\r\n\r\n    async firstNameAsync() {\r\n        this._firstName = (this._firstName !== undefined) ? this._firstName : await this._mel.melFunc('{PATIENT.FIRSTNAME}');\r\n        return this._firstName;\r\n    }\r\n\r\n    // Returns the patients last name.\r\n    get lastName() {\r\n        this._lastName = (this._lastName !== undefined) ? this._lastName : this._mel.melFunc('{PATIENT.LASTNAME}');\r\n        return this._lastName;\r\n    }\r\n\r\n    async lastNameAsync() {\r\n        this._lastName = (this._lastName !== undefined) ? this._lastName : await this._mel.melFunc('{PATIENT.LASTNAME}');\r\n        return this._lastName;\r\n    }\r\n\r\n    // Returns the patients middle name.\r\n    get middleName() {\r\n        this._middleName = (this._middleName !== undefined) ? this._middleName : this._mel.melFunc('{PATIENT.MIDDLENAME}');\r\n        return this._middleName;\r\n    }\r\n\r\n    async middleNameAsync() {\r\n        this._middleName = (this._middleName !== undefined) ? this._middleName : await this._mel.melFunc('{PATIENT.MIDDLENAME}');\r\n        return this._middleName;\r\n    }\r\n\r\n    // Returns the patients full name formatted as follows: string = title first middle last; suffix\r\n    get labelName() {\r\n        this._labelName = (this._labelName !== undefined) ? this._labelName : this._mel.melFunc('{PATIENT.LABELNAME}');\r\n        return this._labelName;\r\n    }\r\n\r\n    async labelNameAsync() {\r\n        this._labelName = (this._labelName !== undefined) ? this._labelName : await this._mel.melFunc('{PATIENT.LABELNAME}');\r\n        return this._labelName;\r\n    }\r\n\r\n    // Name Prefix\r\n    get namePrefix() {\r\n        this._namePrefix = (this._namePrefix !== undefined) ? this._namePrefix : this._mel.melFunc('{PATIENT.TITLE}');\r\n        return this._namePrefix;\r\n    }\r\n\r\n    async namePrefixAsync() {\r\n        this._namePrefix = (this._namePrefix !== undefined) ? this._namePrefix : await this._mel.melFunc('{PATIENT.TITLE}');\r\n        return this._namePrefix;\r\n    }\r\n\r\n    // Name Suffix\r\n    get nameSuffix() {\r\n        this._nameSuffix = (this._nameSuffix !== undefined) ? this._nameSuffix : this._mel.melFunc('{PATIENT.ENTITLEMENTS}');\r\n        return this._nameSuffix;\r\n    }\r\n\r\n    async nameSuffixAsync() {\r\n        this._nameSuffix = (this._nameSuffix !== undefined) ? this._nameSuffix : await this._mel.melFunc('{PATIENT.ENTITLEMENTS}');\r\n        return this._nameSuffix;\r\n    }\r\n\r\n    // Patients sex.\r\n    get sex() {\r\n        this._sex = (this._sex  !== undefined) ? this._sex : this._mel.melFunc('{PATIENT.SEX}');\r\n        return this._sex;\r\n    }\r\n\r\n    async sexAsync() {\r\n        this._sex = (this._sex !== undefined) ? this._sex : await this._mel.melFunc('{PATIENT.SEX}');\r\n        return this._sex;\r\n    }\r\n\r\n    // Patients race\r\n    get race() {\r\n        this._race = (this._race  !== undefined) ? this._race : this._mel.melFunc('{PATIENT.RACE}');\r\n        return this._race;\r\n    }\r\n\r\n    async raceAsync() {\r\n        this._race = (this._race !== undefined) ? this._race : await this._mel.melFunc('{PATIENT.RACE}');\r\n        return this._race;\r\n    }\r\n\r\n    // Patients ethnicity\r\n    get ethnicity() {\r\n        this._ethnicity = (this._ethnicity  !== undefined) ? this._ethnicity : this._mel.melFunc('{PATIENT.ETHNICITY}');\r\n        return this._ethnicity;\r\n    }\r\n\r\n    async ethnicityAsync() {\r\n        this._ethnicity = (this._ethnicity !== undefined) ? this._ethnicity : await this._mel.melFunc('{PATIENT.ETHNICITY}');\r\n        return this._ethnicity;\r\n    }\r\n\r\n    // Returns the patients birth date/time\r\n    get dateOfBirth() {\r\n        this._dateOfBirth = (this._dateOfBirth  !== undefined) ? this._dateOfBirth : this._mel.melFunc('{PATIENT.DATEOFBIRTH}');\r\n        return this._dateOfBirth;\r\n    }\r\n\r\n    async dateOfBirthAsync() {\r\n        this._dateOfBirth = (this._dateOfBirth !== undefined) ? this._dateOfBirth : await this._mel.melFunc('{PATIENT.DATEOFBIRTH}');\r\n        return this._dateOfBirth;\r\n    }\r\n\r\n    // Returns the patients date of death\r\n    get dateOfDeath() {\r\n        this._dateOfDeath = (this._dateOfDeath  !== undefined) ? this._dateOfDeath : this._mel.melFunc('{PATIENT.DATEOFDEATH}');\r\n        return this._dateOfDeath;\r\n    }\r\n\r\n    async dateOfDeathAsync() {\r\n        this._dateOfDeath = (this._dateOfDeath !== undefined) ? this._dateOfDeath : await this._mel.melFunc('{PATIENT.DATEOFDEATH}');\r\n        return this._dateOfDeath;\r\n    }\r\n\r\n    // Returns the patients marital status (Single; Married; Divorced; Widowed; Separated; Other or Undetermined)\r\n    get maritalStatus() {\r\n        this._maritalStatus = (this._maritalStatus  !== undefined) ? this._maritalStatus : this._mel.melFunc('{PATIENT.MARITALSTATUS}');\r\n        return this._maritalStatus;\r\n    }\r\n\r\n    async maritalStatusAsync() {\r\n        this._maritalStatus = (this._maritalStatus !== undefined) ? this._maritalStatus : await this._mel.melFunc('{PATIENT.MARITALSTATUS}');\r\n        return this._maritalStatus;\r\n    }\r\n\r\n    // Returns the patients preferred language\r\n    get language() {\r\n        this._language = (this._language  !== undefined) ? this._language : this._mel.melFunc('{PATIENT.PREFLANG}');\r\n        return this._language;\r\n    }\r\n\r\n    async languageAsync() {\r\n        this._language = (this._language !== undefined) ? this._language : await this._mel.melFunc('{PATIENT.PREFLANG}');\r\n        return this._language;\r\n    }\r\n\r\n    // Returns the patients e-mail address\r\n    get email() {\r\n        this._email = (this._email  !== undefined) ? this._email : this._mel.melFunc('{PATIENT.EMAIL}');\r\n        return this._email;\r\n    }\r\n\r\n    async emailAsync() {\r\n        this._email = (this._email !== undefined) ? this._email : await this._mel.melFunc('{PATIENT.EMAIL}');\r\n        return this._email;\r\n    }\r\n\r\n    // Returns the patients contact by information\r\n    get contactBy() {\r\n        this._contactBy = (this._contactBy  !== undefined) ? this._contactBy : this._mel.melFunc('{PATIENT.CONTACTBY}');\r\n        return this._contactBy;\r\n    }\r\n\r\n    async contactByAsync() {\r\n        this._contactBy = (this._contactBy !== undefined) ? this._contactBy : await this._mel.melFunc('{PATIENT.CONTACTBY}');\r\n        return this._contactBy;\r\n    }\r\n\r\n    get registrationNote() {\r\n        this._registrationNote = (this._registrationNote  !== undefined) ? this._registrationNote : this._mel.melFunc('{PATIENT.REGNOTE}');\r\n        return this._registrationNote;\r\n    }\r\n\r\n    async registrationNoteAsync() {\r\n        this._registrationNote = (this._registrationNote !== undefined) ? this._registrationNote : await this._mel.melFunc('{PATIENT.REGNOTE}');\r\n        return this._registrationNote;\r\n    }\r\n\r\n    // Returns a list of the contacts for the current patient\r\n    get contacts() {\r\n        if (this._contactsArray.length === 0) {\r\n            this._contacts = (this._contacts  !== undefined) ? this._contacts : this._mel.melFunc('{PATIENT.CONTACTS}');\r\n            let dataArray = StringInternal(this._contacts).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._contactsArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._contactsArray.push(new PatientContact(dataArray[index]));\r\n            }\r\n\r\n            this._contactsArray.tag = 'PATIENT.CONTACTS';\r\n\r\n            this._contactsArray.toMelString = () => {\r\n                return this._contacts;\r\n            }\r\n        }\r\n        return this._contactsArray;\r\n    }\r\n\r\n    async contactsAsync() {\r\n        if (this._contactsArray.length === 0) {\r\n            this._contacts = (this._contacts !== undefined) ? this._contacts : await this._mel.melFunc('{PATIENT.CONTACTS}');\r\n            let dataArray = StringInternal(this._contacts).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._contactsArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._contactsArray.push(new PatientContact(dataArray[index]));\r\n            }\r\n\r\n            this._contactsArray.tag = 'PATIENT.CONTACTS';\r\n\r\n            this._contactsArray.toMelString = () => {\r\n                return this._contacts;\r\n            }\r\n        }\r\n        return this._contactsArray;\r\n    }\r\n\r\n    // Returns the patients employment status.\r\n    get employmentStatus() {\r\n        this._employmentStatus = (this._employmentStatus  !== undefined) ? this._employmentStatus : this._mel.melFunc('{PATIENT.EMPLSTATUS}');\r\n        return this._employmentStatus;\r\n    }\r\n\r\n    async employmentStatusAsync() {\r\n        this._employmentStatus = (this._employmentStatus !== undefined) ? this._employmentStatus : await this._mel.melFunc('{PATIENT.EMPLSTATUS}');\r\n        return this._employmentStatus;\r\n    }\r\n\r\n    // Patients current status in the clinic\r\n    get clinicStatus() {\r\n        this._clinicStatus = (this._clinicStatus  !== undefined) ? this._clinicStatus : this._mel.melFunc('{PATIENT.PSTATUS}');\r\n        return this._clinicStatus;\r\n    }\r\n\r\n    async clinicStatusAsync() {\r\n        this._clinicStatus = (this._clinicStatus !== undefined) ? this._clinicStatus : await this._mel.melFunc('{PATIENT.PSTATUS}');\r\n        return this._clinicStatus;\r\n    }\r\n\r\n    // Name of the primary care physician\r\n    get primaryCarePhysicianName() {\r\n        this._primaryCarePhysicianName = (this._primaryCarePhysicianName !== undefined) ?\r\n            this._primaryCarePhysicianName : this._mel.melFunc('{PATIENT.PCP}');\r\n        return this._primaryCarePhysicianName;\r\n    }\r\n\r\n    async primaryCarePhysicianNameAsync() {\r\n        this._primaryCarePhysicianName = (this._primaryCarePhysicianName !== undefined) ?\r\n            this._primaryCarePhysicianName : await this._mel.melFunc('{PATIENT.PCP}');\r\n        return this._primaryCarePhysicianName;\r\n    }\r\n\r\n    // Lists all problems \r\n    get problems() {\r\n        if (!this._problems) {\r\n            this._problems = new Problems();\r\n            this._problems.load(this._mel);\r\n        }\r\n    \r\n        this._problems.tag = 'PROB_AFTER';\r\n\r\n        return this._problems;\r\n    }\r\n\r\n    async problemsAsync() {\r\n        if (!this._problems) {\r\n            this._problems = new Problems();\r\n            await this._problems.loadAsync(this._mel);\r\n        }\r\n        return this._problems;\r\n    }\r\n\r\n    // Lists observations by name. \r\n    observations = (name: string) => {\r\n        if (this._observations[name] == null) {\r\n            let updateData = this._mel.melFunc('{LIST_OBS(\"' + name + '\",\"Update\",\"Delimited\",\"value\")}');\r\n            let dataArray = StringInternal(updateData).toList();\r\n            let observationsArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                observationsArray.push(new Observation(name, this.observationType.DocumentUnsigned, dataArray[index], this._mel));\r\n            }\r\n            this._observations[name] = observationsArray;\r\n\r\n            let signedData = this._mel.melFunc('{LIST_OBS(\"' + name + '\",\"Signed\",\"Delimited\",\"value\")}');\r\n            let dataArrayU = StringInternal(signedData).toList();\r\n            for (let index = 0; index < dataArrayU.length; index++) {\r\n                this._observations[name].push(new Observation(name, this.observationType.Signed, dataArrayU[index], this._mel));\r\n            }\r\n\r\n            this._observations[name].tag = 'LIST_OBS.' + name;\r\n        }\r\n        return this._observations[name];\r\n    }\r\n\r\n    // Lists all FLOWSHEET observations. \r\n    flowsheetObservations(flowsheet?: string) {\r\n        let flowsheetValue = '';\r\n        if (flowsheet) {\r\n            flowsheetValue = flowsheet;\r\n        }\r\n        else {\r\n            flowsheetValue = this._mel.melFunc('{_EncodeViewNameBS}');\r\n        }\r\n        if (this._observatiosArray.length === 0 || this._observatiosArray.tag != 'GET_FLOWSHEET_VALUES:' + flowsheetValue) {\r\n            this._observationList = this._mel.melFunc('{GET_FLOWSHEET_VALUES(\"' + flowsheetValue + '\",\"DELIM\")}');\r\n            let dataArray = StringInternal(this._observationList).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._observatiosArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._observatiosArray.push(new FlowsheetObservation(dataArray[index]));\r\n            }\r\n\r\n            this._observatiosArray.tag = 'GET_FLOWSHEET_VALUES:' + flowsheetValue;\r\n\r\n            this._observatiosArray.toMelString = () => {\r\n                return this._observationList;\r\n            }\r\n        }\r\n        return this._observatiosArray;\r\n    }\r\n\r\n    // Protocols tell you when a patient is due for a particular action; based on factors that include sex; age; current problems; and current medications. \r\n    // The protocols contains array of observations required for this patient; as indicated by protocols set up in this clinic.\r\n    get protocols() {\r\n        if (this._protocolsArray.length === 0) {\r\n            this._protocols = (this._protocols  !== undefined) ? this._protocols : this._mel.melFunc('{LISTPROTOCOLSHORT(\"list\")}');\r\n            let dataArray = StringInternal(this._protocols).toList('\\r\\n');\r\n\r\n            /*jslint plusplus: true */\r\n            this._protocolsArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._protocolsArray.push(new Protocol(dataArray[index]))\r\n            }\r\n\r\n            this._protocolsArray.tag = 'LISTPROTOCOLSHORT(\"list\")';\r\n\r\n            this._protocolsArray.toMelString = () => {\r\n                return this._protocols;\r\n            }\r\n        }\r\n        return this._protocolsArray;\r\n    }\r\n   \r\n    // List of patient insurances \r\n    get insurances() {\r\n        if (this._insurances.length === 0) {\r\n            this._insurances.push(new Insurance('P', this._mel));\r\n            this._insurances.push(new Insurance('S', this._mel));\r\n            this._insurances.push(new Insurance('T', this._mel));\r\n        }\r\n        return this._insurances;\r\n    }\r\n\r\n    // List of patient immunizations \r\n    get immunizations() {\r\n        if (this._immunizationsArray.length === 0) {\r\n            this._immunizations = (this._immunizations  !== undefined) ? this._immunizations : this._mel.melFunc('{IMMUN_GETLIST()}');\r\n            let dataArray = StringInternal(this._immunizations).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._immunizationsArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._immunizationsArray.push(new Immunization(dataArray[index], this._mel));\r\n            }\r\n\r\n            this._immunizationsArray.tag = 'IMMUN_GETLIST';\r\n\r\n            this._immunizationsArray.toMelString = () => {\r\n                return this._immunizations;\r\n            }\r\n        }\r\n        return this._immunizationsArray;\r\n    }\r\n\r\n    get carePlans() {\r\n        if (this._carePlansArray.length === 0) {\r\n            this._carePlans = (this._carePlans  !== undefined) ? this._carePlans : this._mel.melFunc('{MEL_LIST_CARE_PLAN(\"delim\",\"all\",\"all\")}');\r\n            let dataArray = StringInternal(this._carePlans).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._carePlansArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._carePlansArray.push(new CarePlan(dataArray[index], this._mel));\r\n            }\r\n\r\n            this._carePlansArray.tag = 'MEL_LIST_CARE_PLAN';\r\n\r\n            this._carePlansArray.toMelString = () => {\r\n                return this._carePlans;\r\n            }\r\n        }\r\n        return this._carePlansArray;\r\n    }\r\n\r\n    async carePlansAsync() {\r\n        if (this._carePlansArray.length === 0) {\r\n            this._carePlans = (this._carePlans !== undefined) ? this._carePlans : await this._mel.melFunc('{MEL_LIST_CARE_PLAN(\"delim\",\"all\",\"all\")}');\r\n            let dataArray = StringInternal(this._carePlans).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            this._carePlansArray = [];\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._carePlansArray.push(new CarePlan(dataArray[index], this._mel));\r\n            }\r\n\r\n            this._carePlansArray.tag = 'MEL_LIST_CARE_PLAN';\r\n\r\n            this._carePlansArray.toMelString = () => {\r\n                return this._carePlans;\r\n            }\r\n        }\r\n        return this._carePlansArray;\r\n    }\r\n\r\n    get locations() {\r\n        if (this._locationsArray.length === 0) {\r\n            this._locations = (this._locations  !== undefined) ? this._locations : this._mel.melFunc('{PATIENT.HOMELOCATIONNAME}');\r\n            this._locationsId = (this._locationsId  !== undefined) ? this._locationsId : this._mel.melFunc('{PATIENT.HOMELOCATIONABBREVNAME}');\r\n            let locationProperty = new Location(this._locationsId, this._locations, LocationType.Home);\r\n            this._locationsArray.push(locationProperty);\r\n            this._locationsArray.findByType =\r\n                (function (value) {\r\n                    let index;\r\n                    if (typeof (value) === \"number\") {\r\n                        for (index = 0; index < this.length; index++) {\r\n                            if (this[index].locationType === value) {\r\n                                return this[index];\r\n                            }\r\n                        }\r\n                    }\r\n                    return undefined;\r\n                });\r\n        }\r\n        return this._locationsArray;\r\n    }\r\n\r\n    get allergies(): Allergies {\r\n        return this._allergies;\r\n    }\r\n\r\n    // referring provider\r\n    get referringProvider() {\r\n        return this._referringProvider;\r\n    }\r\n\r\n    get phone() {\r\n        return this._phone;\r\n    }\r\n\r\n    // Represent patient address object\r\n    get address() {\r\n        return this._address;\r\n    }\r\n\r\n\r\n    // TODO: aren't exist:\r\n\r\n    // List of all orders\r\n    orders: Object;\r\n    // List of all directives\r\n    directives: Object;\r\n    // Lists appointments\r\n    appointments: Object;\r\n    // List all medications and refills\r\n    medications: Object;\r\n}","import { User } from './User';\r\nimport { EmrMel } from './EmrMel';\r\nimport { StringInternal, GetCurrentUser } from '../factories/factories';\r\nimport { UserCallFunction } from '../enums';\r\nimport { IArrayAdditionalMethods } from '../interfaces';\r\n\r\nexport class Users {\r\n\r\n    private _currentUser: User;\r\n    private _user: User;\r\n    private _users: string;\r\n    private _usersArray: IArrayAdditionalMethods<User> = [];\r\n\r\n    constructor(\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    getUser = (value?: string) => {\r\n        if (value != null) {\r\n            this._user = (this._user != null) ? this._user : new User(this._mel.melFunc('{GETUSERINFO(\"' + value + '\")}'), UserCallFunction.UserInfo);\r\n            return this._user;\r\n        }\r\n        this._currentUser = (this._currentUser != null) ? this._currentUser : new User(GetCurrentUser(this._mel), UserCallFunction.UserInfo);\r\n        return this._currentUser;\r\n    }\r\n\r\n    getUsers = () => {\r\n        if (this._usersArray.length === 0) {\r\n            this._users = this._mel.melFunc('{GET_USER_LIST(USER.CURLOCATIONABBREVNAME, \"\", \"delimited\", true)}');\r\n            let dataArray = StringInternal(this._users).toList();\r\n\r\n            /*jslint plusplus: true */\r\n            for (let index = 0; index < dataArray.length; index++) {\r\n                this._usersArray.push(new User(dataArray[index], UserCallFunction.UserList));\r\n            }\r\n\r\n            this._usersArray.tag = 'GET_USER_LIST';\r\n\r\n            this._usersArray.toMelString = () => {\r\n                return this._users;\r\n            }\r\n        }\r\n        return this._usersArray;\r\n    }\r\n}","import { EmrMel } from '../classes/EmrMel';\r\n\r\nexport function GetCurrentUser(_mel: EmrMel) {\r\n    return _mel.melFunc('{GETUSERINFO(\"' + _mel.melFunc('{USER.LOGINNAME}') + '\")}') + '^' +\r\n        _mel.melFunc('{USER.CURLOCATIONNAME}') + '^' +\r\n        _mel.melFunc('{USER.FIRSTNAME}') + '^' +\r\n        _mel.melFunc('{USER.MIDDLENAME}') + '^' +\r\n        _mel.melFunc('{USER.LASTNAME}');\r\n}","/// <reference types=\"chrome\"/>\r\n\r\nimport { simulatorChromeExtensionId } from \"../consts/strings\";\r\n\r\nexport class ExtensionExternalSimulator {\r\n\r\n    EvaluateMel = (data: any, _showWait: boolean = false): Promise<any> => {\r\n        return this.sendMessage(simulatorChromeExtensionId, { type: 'EvaluateMel', data: data });\r\n    }\r\n\r\n    get Demographics(): Promise<any> {\r\n        return this.sendMessage(simulatorChromeExtensionId, { type: 'Demographics' });\r\n    }\r\n\r\n    get Allergies(): Promise<any> {\r\n        return this.sendMessage(simulatorChromeExtensionId, { type: 'Allergies' });\r\n    }\r\n\r\n    private sendMessage = (editorExtensionId: string, data: any) => new Promise<any>((resolve, reject) => {\r\n        if (typeof (chrome) !== 'undefined') {\r\n            if (typeof (chrome.runtime) !== 'undefined') {\r\n                chrome.runtime.sendMessage(editorExtensionId, data, (response: any) => {\r\n                    if (typeof (response) !== 'undefined') {\r\n                        resolve(response);\r\n                    }\r\n                    else {\r\n                        resolve(null);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                reject('unsupported');\r\n            }\r\n        }\r\n        else {\r\n            reject('unsupported');\r\n        }\r\n    });\r\n}","/// <reference types=\"chrome\"/>\r\nimport { simulatorChromeExtensionId } from \"../consts/strings\";\r\nimport { GetActiveXErrorMessage } from \"../factories/factories\";\r\nimport { IsActiveXSupported } from \"../factories/IsActiveXSupported\";\r\nimport { ExtensionExternalSimulator } from \"./ExtensionExternalSimulator\";\r\n\r\nexport class Simulator {\r\n    private readonly appObjectNameSimulator = 'GE.CPO.EMR.90.Application.SIMULATOR';\r\n    private readonly noData: string = 'Data Access Error';\r\n    private _isExtensionEvaluated: boolean = false; // holds validation for async call to the Chrome Extension\r\n    private _isActiveX: boolean = false;            // true for activeX simulator\r\n    private app: any;\r\n    private _isSimulator: boolean = false;\r\n\r\n    private _ExtensionExternalSimulator: ExtensionExternalSimulator = new ExtensionExternalSimulator();\r\n\r\n    public isSimulatorAsync = async (): Promise<boolean> => {\r\n        if (this._isSimulator) {\r\n            return this._isSimulator;\r\n        }\r\n        else {\r\n            if (!this._isExtensionEvaluated) {\r\n                this._isSimulator = await this.sendMessage(simulatorChromeExtensionId, { type: \"version\" });\r\n                this._isExtensionEvaluated = true;\r\n            }\r\n            return this._isSimulator;\r\n        }\r\n    }\r\n\r\n    constructor(public _window: any) {\r\n        this.initialization();\r\n    }\r\n\r\n    private initialization = (): void => {\r\n        if (IsActiveXSupported(this._window)) {\r\n            try {\r\n                this.app = new this._window.ActiveXObject(this.appObjectNameSimulator);\r\n                this._isActiveX = true;\r\n                this._isSimulator = true;\r\n                console.info('mdObject is using ActiveX Simulator: ' + this.appObjectNameSimulator);\r\n            } catch (e) {\r\n                let errorMessage = GetActiveXErrorMessage(this.appObjectNameSimulator, e);\r\n                console.info(errorMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n    get externalSimulator(): any {\r\n        return ((!this._isActiveX) ? this._ExtensionExternalSimulator : (this.app) ? this.app.external : this.noData);\r\n    }\r\n\r\n    private sendMessage = (editorExtensionId: string, data: any) => new Promise<boolean>((resolve, _reject) => {\r\n        if (typeof (chrome) !== 'undefined') {\r\n            if (typeof (chrome.runtime) !== 'undefined') {\r\n                chrome.runtime.sendMessage(editorExtensionId, data, (response: any) => {\r\n                    if (response) {\r\n                        console.info('mdObject is using Chrome Extension Simulator: ' + simulatorChromeExtensionId);\r\n                        resolve(true);\r\n                    }\r\n                    else {\r\n                        console.info('mdObject: Chrome Extension Simulator is missing or inactive');\r\n                        resolve(false);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(false);\r\n            }\r\n        }\r\n        else {\r\n            resolve(false);\r\n        }\r\n    });\r\n}","import { Location } from './Location';\r\nimport { EmrMel } from './EmrMel';\r\nimport { LocationType } from '../enums';\r\nimport { DocumentVariable } from '../factories/factories';\r\nimport { IArrayAdditionalMethods, IItem } from '../interfaces';\r\nimport { Emr } from './Emr';\r\n\r\nexport class ClinicalDocument {\r\n\r\n    private _letiables: string;\r\n    private _did: string;\r\n    private _xid: string;\r\n    private _documentId: string;\r\n    private _status: string;\r\n    private _location: string;\r\n    private _locationPropertyArray: IArrayAdditionalMethods<Location> = [];\r\n    private _locationProperty: Location;\r\n    private _dateOfUpdate: string;\r\n    private _provider: string;\r\n    private _userLoginName: string;\r\n\r\n    constructor(\r\n        public _mel: EmrMel,\r\n        public _emr?: Emr\r\n    ) { }\r\n\r\n    private save = (): void => {\r\n        this._mel.melFunc('{DOCUMENT.mdObject_letiables = \"' + JSON.stringify(this.rawValue).replace(/\"/g, '\\\\\"') + '\"}');\r\n    }\r\n\r\n    private rawValue: IItem = DocumentVariable({}, this.save);\r\n\r\n    // The letiables allows to save any JSON object with the clinicalDocument.\r\n    // Usage: $mdObject.clinicalDocument.letiables = {\"alex\":1} - creates object with letiable alex and assigned value 1.\r\n    //        $mdObject.clinicalDocument.letiables[\"alex\"]=4;  -changes value of alex to 4\r\n    //        $mdObject.clinicalDocument.letiables.save(); - saves the object with the document\r\n    get letiables() {\r\n        if (this._letiables == null) {\r\n            this._letiables = (this._letiables != null) ? this._letiables : this._mel.melFunc('{DOCUMENT.mdObject_letiables}');\r\n            this._letiables = (this._letiables !== '') ? this._letiables : JSON.stringify(this.rawValue);\r\n            try {\r\n                this.rawValue = DocumentVariable(JSON.parse(this._letiables), this.save);\r\n            } catch (e) {\r\n                this.rawValue = {}\r\n            }\r\n        }\r\n        return this.rawValue;\r\n    }\r\n\r\n    set letiables(val: IItem) {\r\n        for (let key in val) {\r\n            this.rawValue[key] = val[key];\r\n        }\r\n        this._mel.melFunc('{DOCUMENT.mdObject_letiables = \"' + JSON.stringify(this.rawValue).replace(/\"/g, '\\\\\"') + '\"}');\r\n    }\r\n\r\n    // The val allows to get or set DOCUMENT letiable\r\n    // Usage: $mdObject.clinicalDocument.val(\"MyVariable\") return value from {DOCUMENT.MyVariable}.\r\n    //        $mdObject.clinicalDocument.val(\"MyVariable\", \"High\") - assign value \"High\" to {DOCUMENT.MyVariable} and stores it with document (saves in database)\r\n    val = (key: string, value?: string): string => {\r\n        if (key == null || key.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        if (value == null) {\r\n            return this._mel.melFunc('{DOCUMENT.' + key + '}');\r\n        } else {\r\n            return this._mel.melFunc('{DOCUMENT.' + key + '=\"' + value + '\"}');\r\n        }\r\n    }\r\n\r\n    get did() {\r\n        this._did = (this._did != null) ? this._did : this._mel.melFunc('{find(\"DOCUMENT\",\"DID\")}');\r\n        return this._did;\r\n    }\r\n\r\n    async didAsync(): Promise<string> {\r\n        this._did = (this._did != null) ? this._did : await this._emr.melFuncAsync('{find(\"DOCUMENT\",\"DID\")}');\r\n        return this._did;\r\n    }\r\n\r\n    get xid() {\r\n        this._xid = (this._xid != null) ? this._xid : this._mel.melFunc('{DOCUMENT.XID}').split('.')[0];\r\n        return this._xid;\r\n    }\r\n\r\n    // The unique document identifier for a document within a patient chart. You can see the Doc ID on each \r\n    // document and on a chart update. Each document in the patients chart has a Doc ID.\r\n    get documentId() {\r\n        this._documentId = (this._documentId != null) ? this._documentId : this._mel.melFunc('{DOCUMENT.VISDOCID}');\r\n        return this._documentId;\r\n    }\r\n\r\n\r\n    // Status of the current document. TODO: Convert to enum\r\n    // Code for document status:\r\n    //        A = Active\r\n    //        H = Hold\r\n    //        S = Signed\r\n    get status() {\r\n        this._status = (this._status != null) ? this._status : this._mel.melFunc('{DOCUMENT.STATUS}');\r\n        return this._status;\r\n    }\r\n\r\n    // The location of care of the document for the current chart update.\r\n    get location() {\r\n        if (this._locationPropertyArray.length === 0) {\r\n            this._location = (this._location != null) ? this._location : this._mel.melFunc('{DOCUMENT.LOCOFCARENAME}');\r\n            this._locationProperty = (this._locationProperty != null) ? this._locationProperty : new Location(this._location, this._location, LocationType.Current);\r\n            this._locationPropertyArray.push(this._locationProperty);\r\n            this._locationPropertyArray.findByType =\r\n                (function (value) {\r\n                    let i;\r\n                    if (typeof (value) === \"number\") {\r\n                        for (i = 0; i < this.length; i++) {\r\n                            if (this[i].locationType === value) {\r\n                                return this[i];\r\n                            }\r\n                        }\r\n                    }\r\n                    return undefined;\r\n\r\n                });\r\n        }\r\n\r\n        return this._locationPropertyArray;\r\n    }\r\n\r\n    get dateOfUpdate() {\r\n        this._dateOfUpdate = (this._dateOfUpdate != null) ? this._dateOfUpdate : this._mel.melFunc('{DOCUMENT.CLINICALDATE}');\r\n        return this._dateOfUpdate;\r\n    }\r\n\r\n    get provider() {\r\n        this._provider = (this._provider != null) ? this._provider : this._mel.melFunc('{DOCUMENT.PROVIDER}');\r\n        return this._provider;\r\n    }\r\n\r\n    get userLoginName() {\r\n        this._userLoginName = (this._userLoginName != null) ? this._userLoginName : this._mel.melFunc('{DOCUMENT.USERLOGINNAME}');\r\n        return this._userLoginName;\r\n    }\r\n}","//import { ArrayAsync } from \"../interfaces/ArrayAsync\"\r\nimport { EmrContent } from \"./EmrContent\"\r\nimport { EmrMel } from './EmrMel';\r\nimport { StringInternal } from '../factories/factories';\r\n\r\nexport class EmrContents extends Array<EmrContent> {\r\n    private _isLoaded = false;\r\n    melData: string;\r\n    tag: string;\r\n    _name: string;\r\n    \r\n    loadAsync = async(name: string, mel: EmrMel) => {\r\n        if (!this._isLoaded || this._name !== name) {\r\n            this._name = name;\r\n            this.tag = 'MEL_GET_CONTENT';\r\n            this.melData = await mel.melFunc('{MEL_GET_CONTENT(\\\"' + name + '\\\",\\\"MATCH\\\")}');\r\n\r\n            this.loadMelDataToList(this.melData, mel);\r\n\r\n            this._isLoaded = true;\r\n        }\r\n    }\r\n\r\n    load = (name: string, mel: EmrMel) => {\r\n        if (!this._isLoaded || this._name !== name) {\r\n            this._name = name;\r\n            this.tag = 'MEL_GET_CONTENT';\r\n            this.melData = mel.melFunc('{MEL_GET_CONTENT(\\\"' + name + '\\\",\\\"MATCH\\\")}');\r\n\r\n            this.loadMelDataToList(this.melData, mel);\r\n\r\n            this._isLoaded = true;\r\n        }\r\n    }\r\n\r\n    private loadMelDataToList = (data: string, mel: EmrMel) => {\r\n        let dataArray = StringInternal(data).toList();\r\n        for (let index = 0; index < dataArray.length; index++) {\r\n            this.push(new EmrContent({ data: dataArray[index], mel: mel }));\r\n        }\r\n    }\r\n}","import { EmrApp } from './EmrApp';\r\nimport { EmrMel } from './EmrMel';\r\nimport { EmrWindow } from './EmrWindow';\r\nimport { DemographicsExternal, ProblemExternal } from './external/external';\r\nimport { Patient } from './Patient';\r\nimport { Users } from './Users';\r\nimport { Simulator } from '../simulator/simulator';\r\nimport { ClinicalDocument } from './ClinicalDocument';\r\nimport { LocationType, UserCallFunction } from '../enums'\r\nimport { ObsTermsMap } from './ObsTermsMap';\r\nimport { AllergiesExternal } from './external/AllergiesExternal';\r\nimport { EmrContents } from './EmrContents';\r\n\r\nexport class Emr {\r\n\r\n    private _emrMel: EmrMel;\r\n    private _emrApp: EmrApp;\r\n    private _melContent: { [name: string]: EmrContents } = {}\r\n    private _emrWindow: EmrWindow;\r\n    private _version: string;\r\n    private _external: any;\r\n    private _baseServicesUrl: string;\r\n    private _demographics: string;\r\n    private _allergiesJson: string;\r\n    private _problemsJson: string;\r\n    private _problemExternalList: ProblemExternal[] = [];\r\n    private _simulator: Simulator;\r\n    private _clinicalDocument: ClinicalDocument;\r\n    private _obsTermsMap: ObsTermsMap;\r\n\r\n    private _patient: Patient;\r\n    private _users: Users;\r\n\r\n    constructor(\r\n        public _window: any,\r\n        public _document: any\r\n    ) {\r\n        this._simulator = new Simulator(this._window); // should be the first here\r\n\r\n        this._window['_melOpener'] = this.emrMel;\r\n        this._window['_appOpener'] = this.emrApp;\r\n        this._obsTermsMap = new ObsTermsMap();\r\n        this._emrWindow = new EmrWindow(this.emrMel, this.emrApp, this._window, this._document);\r\n    }\r\n\r\n    get enterpriseId() {\r\n        return this.emrApp.enterpriseId;\r\n    }\r\n\r\n    get external(): any {\r\n        if (this._external) {\r\n            return this._external;\r\n        }\r\n\r\n        this._external = (this._window.opener && this._window.opener.external)\r\n            ? this._window.opener.external : this._window.external;\r\n        if (this._external.IsDebugMode === undefined) {\r\n            // try simulator\r\n            this._external = this._simulator.externalSimulator;\r\n        }\r\n\r\n        return this._external;\r\n    }\r\n\r\n    externalAsync = async (): Promise<any> => {\r\n\r\n        if (this._external) {\r\n            return this._external;\r\n        }\r\n\r\n        this._external = (await this._simulator.isSimulatorAsync())\r\n            ? this._simulator.externalSimulator   // if the simulator is set, then use simulator\r\n                : (this._window.opener && this._window.opener.external) ? this._window.opener.external\r\n                    : this._window.external;\r\n        return this._external;\r\n    }\r\n\r\n    get databaseVersion():string {\r\n        return this.emrApp.databaseVersion;\r\n    }\r\n\r\n    get version():string {\r\n        this._version = (this._version != null) ? this._version : this.emrMel.melFunc('{VER_EMR()}');\r\n        return this._version;\r\n    }\r\n\r\n    // this is emrWindow as modal's window\r\n    get emrWindow() {\r\n        return this._emrWindow;\r\n    }\r\n\r\n    async emrContentsAsync(name: string):Promise<EmrContents> {\r\n        let content = new EmrContents();\r\n        await content.loadAsync(name, this.emrMel);\r\n        return content;\r\n    }\r\n\r\n    melContent = (name: string, reload: boolean = false) => {\r\n        if (this._melContent[name] == null || reload) {\r\n            this._melContent[name] = new EmrContents();\r\n            this._melContent[name].load(name, this.emrMel);\r\n        }\r\n\r\n        return this._melContent[name];\r\n    }\r\n\r\n    get emrMel(): EmrMel {\r\n        this._emrMel = (this._window.opener != null && this._window.opener['_melOpener'] != undefined) ? this._window.opener['_melOpener']\r\n            : (this._emrMel != null) ? this._emrMel\r\n                : new EmrMel(this._window, this._simulator);\r\n        return this._emrMel;\r\n    }\r\n\r\n    get emrApp(): EmrApp {\r\n        this._emrApp = (this._window.opener != null && this._window.opener['_appOpener'] != undefined) ? this._window.opener['_appOpener']\r\n            : (this._emrApp != null) ? this._emrApp\r\n                : new EmrApp(this._window, this._simulator);\r\n        return this._emrApp;\r\n    }\r\n\r\n\r\n    get baseServicesUrl(): string \r\n    {\r\n        this._baseServicesUrl = (this._baseServicesUrl) ? this._baseServicesUrl\r\n            : ((this.external) ? this.external.BaseServicesUrl : this._baseServicesUrl);\r\n\r\n        return this._baseServicesUrl;\r\n    }\r\n\r\n    get demographics(): DemographicsExternal {\r\n        this._demographics = (this._demographics) ? this._demographics\r\n            : ((this.external) ? this.external.Demographics : this._demographics);\r\n\r\n        return new DemographicsExternal(this._demographics);\r\n    }\r\n\r\n    demographicsAsync = async (): Promise<DemographicsExternal> => {\r\n        this._demographics = (this._demographics) ? this._demographics\r\n            : ((await this.externalAsync()) ? await this.externalAsync().then(e=> e.Demographics) : this._demographics);\r\n\r\n        return new DemographicsExternal(this._demographics);\r\n    }\r\n\r\n    public get allergies(): AllergiesExternal {\r\n        this._allergiesJson = (this._allergiesJson) ? this._allergiesJson\r\n            : ((this.external) ? this.external.Allergies : this._allergiesJson);\r\n\r\n        return new AllergiesExternal(this._allergiesJson);\r\n    }\r\n\r\n    allergiesAsync = async (): Promise<AllergiesExternal> => {\r\n        this._allergiesJson = (this._allergiesJson) ? this._allergiesJson\r\n            : ((await this.externalAsync()) ? await this.externalAsync().then(e => e.Allergies) : this._allergiesJson);\r\n\r\n        return new AllergiesExternal(this._allergiesJson);\r\n    }\r\n\r\n    allergiesJson = (): string => {\r\n        this._allergiesJson = (this._allergiesJson) ? this._allergiesJson\r\n            : ((this.external) ? this.external.Allergies : this._allergiesJson);\r\n        return this._allergiesJson;\r\n    }\r\n\r\n    public get problems(): ProblemExternal[] {\r\n        if (this._problemExternalList.length === 0) {\r\n\r\n            let problemsJson = this.problemsJson();\r\n\r\n            if (problemsJson) {\r\n                let dataArray = JSON.parse(problemsJson) as [];\r\n                for (let index = 0; index < dataArray.length; index++) {\r\n                    this._problemExternalList.push(ProblemExternal.fromExternal(dataArray[index]));\r\n                }\r\n            }\r\n        }\r\n        return this._problemExternalList;\r\n    }\r\n\r\n    problemsJson = (): string => {\r\n        this._problemsJson = (this._problemsJson) ? this._problemsJson\r\n            : ((this.external) ? this.external.Problems : this._problemsJson);\r\n        return this._problemsJson;\r\n    }\r\n\r\n    get patient(): Patient {\r\n        if (this._patient === undefined) {\r\n            this._patient = new Patient(this.emrMel, this.demographics, this.allergies);\r\n        }\r\n        return this._patient;\r\n    }\r\n\r\n    patientAsync = async (): Promise<Patient> => {\r\n        if (this._patient === undefined) {\r\n            this._patient = new Patient(this.emrMel, await this.demographicsAsync(), await this.allergiesAsync());\r\n        }\r\n        return this._patient;\r\n    }\r\n\r\n    get users(): Users {\r\n        if (this._users === undefined) {\r\n            this._users = new Users(this.emrMel);\r\n        }\r\n        return this._users;\r\n    }\r\n\r\n    get clinicalDocument(): ClinicalDocument {\r\n        if (this._clinicalDocument === undefined) {\r\n            this._clinicalDocument = new ClinicalDocument(this.emrMel, this);\r\n        }\r\n        return this._clinicalDocument;\r\n    }\r\n\r\n    clinicalDocumentAsync = async (): Promise<ClinicalDocument> => {\r\n        if (this._clinicalDocument === undefined) {\r\n            this._clinicalDocument = new ClinicalDocument(this.emrMel, await this);\r\n        }\r\n        return this._clinicalDocument;\r\n    }\r\n\r\n    get obsTermsMap(): ObsTermsMap {\r\n        return this._obsTermsMap;\r\n    }\r\n\r\n    get LocationType() {\r\n        return LocationType;\r\n    }\r\n\r\n    get UserCallFunction() {\r\n        return UserCallFunction;\r\n    }\r\n\r\n    // Implements MEL eval \r\n    melFuncAsync = async (data: string, showWait: boolean = false): Promise<string> => {\r\n        return await this.externalAsync().then(e => e.EvaluateMel(data, showWait));\r\n    }\r\n}","// <copyright file=\"MdObject.ts\" company=\"mdObject, Inc\">\r\n// Copyright (c) mdObject, Inc. All rights reserved.\r\n// Licensed under the MS-PL license. See LICENSE file in the project root for full license information.\r\n// </copyright>\r\nimport { version } from '../consts/version'\r\nimport { productType } from '../consts/productType'\r\nimport { Emr } from './Emr';\r\n\r\nexport class MdObject {\r\n\r\n    private _emr: Emr;\r\n\r\n    constructor(\r\n        public _window: any,\r\n        public _document: any\r\n    ) {\r\n        if (typeof this._window === 'undefined' && typeof this._document === 'undefined') {\r\n            throw new Error(\"MdObject requires a _window with a _document\");\r\n        }\r\n        console.info(\"The mdObject Version:\" + this.version);\r\n\r\n        this._emr = new Emr(this._window, this._document);\r\n\r\n    }\r\n\r\n    get version(): string {\r\n        return version;\r\n    }\r\n\r\n    get productType(): string {\r\n        return productType;\r\n    }\r\n\r\n    public get emr():Emr {\r\n        return this._emr;\r\n    }\r\n}","import { version  as packageVersion } from '../package.json';\r\nexport const version: string = packageVersion;\r\n","export const productType: string = 'GE';","import { IAllergyData } from '../interfaces/IAllergyData';\r\nimport { EmrMel } from './EmrMel';\r\nimport { ObjectState, AllergyClassification, AllergyCriticality, AllergyReasonForRemoval, ObjectStatus } from '../enums';\r\nimport { System } from './System';\r\n\r\nexport class Allergy implements IAllergyData {\r\n    state: ObjectState = ObjectState.None;\r\n    status: ObjectStatus = ObjectStatus.Unchanged;\r\n\r\n  name: string = '';\r\n  onSetDate: Date | any;\r\n  criticalIndicator: AllergyCriticality = AllergyCriticality.undefined;\r\n  classification: AllergyClassification = AllergyClassification.none;\r\n  description: string = ''; // Use this field for reaction\r\n  gpiCode: string = '';\r\n  severity: string = '';\r\n  stopDate: Date | undefined;\r\n  allergyId: string = '';\r\n  reactionCode: number = 32; // OTHER=32\r\n  reasonForRemoval: AllergyReasonForRemoval = AllergyReasonForRemoval.none;\r\n\r\n    constructor(\r\n        public _mel: EmrMel\r\n    ) { }\r\n\r\n    save = async () => {\r\n        switch (this.state) {\r\n            case ObjectState.Add: {\r\n                let code: string = await this._mel.melFunc('{MEL_ADD_ALLERGY(\"' + this.toAddString() + '\")}');\r\n\r\n                if (code !== '') {\r\n                    let error = 'Allergy.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('Allergy not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Added;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n            case ObjectState.Update: {\r\n                let code: string = await this._mel.melFunc('{MEL_CHANGE_ALLERGY(\"' + this.toChangeString() + '\")}');\r\n\r\n            if (code !== '0') {\r\n            let error = 'Allergy.save error. Code is ' + code;\r\n            console.error(error);\r\n            throw new Error('Allergy not saved. ' + error);\r\n            }\r\n\r\n                this.status = ObjectStatus.Updated;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n            case ObjectState.Remove: {\r\n                let code: string = await this._mel.melFunc('{MEL_REMOVE_ALLERGY(\"' + this.toRemoveString() + '\")}');\r\n\r\n                if (code !== '0') {\r\n                    let error = 'Allergy.save error. Code is ' + code;\r\n                    console.error(error);\r\n                    throw new Error('Allergy not saved. ' + error);\r\n                }\r\n\r\n                this.status = ObjectStatus.Removed;\r\n                this.state = ObjectState.None;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private toChangeString = (): string => {\r\n        return this.allergyId + '\",\"' +\r\n            this.description + '\",\"' +\r\n            (this.onSetDate ? System.dateToString(this.onSetDate) : '') + '\",\"' +\r\n            (this.stopDate ? System.dateToString(this.stopDate) : '') + '\",\"' +\r\n            this.criticalIndicator + '\",\"' +\r\n            this.classification;\r\n    }\r\n\r\n    private toRemoveString = (): string => {\r\n        return this.allergyId + '\",\"' +\r\n            (this.stopDate ? System.dateToString(this.stopDate) : '') + '\",\"' +\r\n            (this.reasonForRemoval !== AllergyReasonForRemoval.none ? this.reasonForRemoval : '');\r\n    }\r\n\r\n    private toAddString = (): string => {\r\n        return this.name + '\",\"' +\r\n            this.description + '\",\"' +\r\n            (this.onSetDate ? System.dateToString(this.onSetDate) : '') + '\",\"' +\r\n            this.allergyId + '\",' +\r\n            this.reactionCode + ',\"' +\r\n            this.gpiCode + '\",\"' +\r\n            (this.stopDate ? System.dateToString(this.stopDate) : '') + '\",\"' +\r\n            this.criticalIndicator + '\",\"' +\r\n            this.classification;\r\n    }\r\n}","import { MdObject } from './classes';\r\n\r\n(function (window) {\r\n    var mdObject: MdObject;\r\n    try {\r\n        mdObject = new MdObject(window, window.document);\r\n        window['mdObject'] = mdObject;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n    }\r\n    return mdObject;\r\n})(window);\r\n\r\nexport * from './classes';\r\nexport * from './enums';\r\nexport * from './interfaces';\r\n"]}